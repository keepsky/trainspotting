[
  "delete (1853279753680)",
  "delete (1853279753312)",
  "delete (1853279753312)",
  "delete (1853279753680)",
  "set <?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<eTrack xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" id=\"d5570c64-d3ff-4e4b-bb6c-797bf94e697e\" code=\"t1\" name=\"[t1]\" Stage=\"\" type=\"mainTrack\">\r\n  <LuaExpressions xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <LuaExpression Name=\"name\" IsModelCheck=\"false\">\r\n      <Formula>\"[\"..code..\"]\"</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n  </LuaExpressions>\r\n  <CurrentModelCheckObjectsToUpdate xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <Seq xmlns=\"http://www.railml.org/schemas/2013\">0</Seq>\r\n  <Relations SourceSpace=\"spor\" xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <ObjectRelations />\r\n  </Relations>\r\n  <RcSection xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <SymbolOffsets xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <CustomAttributes xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <KeyValueString Key=\"Fag\" Value=\"Underbygning\" />\r\n  </CustomAttributes>\r\n  <TimeStamp xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <Item>\r\n      <DateTime>2018-10-15T12:54:16.3046429+02:00</DateTime>\r\n      <User>bjslu</User>\r\n    </Item>\r\n  </TimeStamp>\r\n  <AlignmentSystem xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <NameKey>Normalspor 1435mm</NameKey>\r\n  </AlignmentSystem>\r\n  <RcAlignment xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <Mileage StartMileage=\"0\">\r\n      <Items />\r\n    </Mileage>\r\n    <HorizontalProfile>\r\n      <Line StartDir=\"0.1147687557611681\" Length=\"85.744489619370313\">\r\n        <StartPt>\r\n          <X>47.522665496640911</X>\r\n          <Y>97.981697726371749</Y>\r\n        </StartPt>\r\n      </Line>\r\n      <Line StartDir=\"0.1147687557611681\" Length=\"28.267227483591565\">\r\n        <StartPt>\r\n          <X>132.70306717885433</X>\r\n          <Y>107.80089674375995</Y>\r\n        </StartPt>\r\n      </Line>\r\n    </HorizontalProfile>\r\n    <VerticalProfile />\r\n    <CantProfile />\r\n  </RcAlignment>\r\n  <ReferenceAlignmentDefinition xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <Items />\r\n  </ReferenceAlignmentDefinition>\r\n  <MileageParent xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <AlignmentReference />\r\n    <NodeSelector xsi:nil=\"true\" />\r\n  </MileageParent>\r\n  <trackTopology xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <trackBegin pos=\"0\">\r\n      <openEnd>\r\n        <LuaExpressions />\r\n        <CurrentModelCheckObjectsToUpdate />\r\n        <Seq>0</Seq>\r\n        <Relations>\r\n          <ObjectRelations />\r\n        </Relations>\r\n        <RcSection />\r\n        <SymbolOffsets />\r\n        <TimeStamp />\r\n      </openEnd>\r\n    </trackBegin>\r\n    <trackEnd pos=\"0\">\r\n      <openEnd>\r\n        <LuaExpressions />\r\n        <CurrentModelCheckObjectsToUpdate />\r\n        <Seq>0</Seq>\r\n        <Relations>\r\n          <ObjectRelations />\r\n        </Relations>\r\n        <RcSection />\r\n        <SymbolOffsets />\r\n        <TimeStamp />\r\n      </openEnd>\r\n    </trackEnd>\r\n  </trackTopology>\r\n  <infraAttrGroupRefs xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <HorizontalGeometrySectionObjectTypeRef xmlns=\"http://www.railml.org/schemas/2013\">KO-HOS Horisontal traseseksjon</HorizontalGeometrySectionObjectTypeRef>\r\n  <HorizontalGeometryPointObjectTypeRef xmlns=\"http://www.railml.org/schemas/2013\">KO-HOT Horisontaltrasepunkt</HorizontalGeometryPointObjectTypeRef>\r\n  <VerticalGeometrySectionObjectTypeRef xmlns=\"http://www.railml.org/schemas/2013\">KO-VES Vertikal traseseksjon</VerticalGeometrySectionObjectTypeRef>\r\n  <VerticalGeometryPointObjectTypeRef xmlns=\"http://www.railml.org/schemas/2013\">KO-VET Vertikaltrasepunkt</VerticalGeometryPointObjectTypeRef>\r\n</eTrack>",
  "set <?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<tSignal xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" id=\"0e3470b4-04a5-46bd-bf8b-e6e9d8852286\" name=\"Hs.\" Stage=\"\" pos=\"0\" dir=\"up\" ruleCode=\"\" sight=\"250\" type=\"main\" ocpStationRef=\"\">\r\n  <LuaExpressions xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <LuaExpression Name=\"IsyPostnotat\" IsModelCheck=\"false\">\r\n      <Formula>local s = \"\"\nlocal first = true\nif (prop(\"Hovedsignal\") ~= \"-\") then \n\ts = prop(\"Hovedsignal\")\n\tfirst = false\nend \nif (prop(\"Forsignal\") == \"Ja\") then \n\tif (first) then s = \"Fs\" else s = s..\"-Fs\" end \n\tfirst = false\nend \nif (prop(\"Dvergsignal\") == \"Ja\") then \n\tif (first) then s = \"Ds\" else s = s..\"-Ds\" end\n\tfirst = false\nend\nif (prop(\"Middelkontrollampe\") == \"Ja\") then\n\tif (first) then s = \"Mk\" else s = s..\"-Mk\" end\t\t\n\tfirst = false\nend\nif (fromDisplayName(\"Forsiktig kjøring\") == \"Ja\") then\n\tif (first) then s = \"FKs\" else s = s..\"-FKs\" end\t\t\n\tfirst = false\nend\nif (fromDisplayName(\"Hovedlinjesignal\") == \"Ja\") then \n\tif (first) then s = \"HLs\" else s = s..\"-HLs\" end\t\t\n\tfirst = false\nend\nif (fromDisplayName(\"Lysende hastighetssignal\") == \"Ja\") then \n\tif (first) then s = \"Hast\" else s = s..\"-Hast\" end\t\t\n\tfirst = false\nend \nif (fromDisplayName(\"Høyt skiftesignal\") == \"Ja\") then \n\tif (first) then s = \"Z\" else s = s..\"-Z\" end\t\t\n\tfirst = false\nend \nreturn \"Navn: \"..name..\"  Bestykning: \"..s..\"  Beskrivelse: \"..description</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"IsyProsesskode\" IsModelCheck=\"false\">\r\n      <Formula>if MainSignal == \"Hs3\" then\n\tif Function == \"home\" then return \"3.52.131\"\n\telseif Function == \"exit\" then return \"3.52.132\"\n\telse return \"3.52.13\"\n\tend\nelseif MainSignal == \"Hs2\" then\n\tif Function == \"home\" then return \"3.52.141\"\n\telseif Function == \"exit\" then return \"3.52.142\"\n\telse return \"3.52.14\"\n\tend\nend\n\nreturn \"Prosesskode ikke definert\"</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"IsyProsessnavn\" IsModelCheck=\"false\">\r\n      <Formula>if MainSignal == \"Hs3\" then\n\tif Function == \"home\" then return \"Lyssignal, 3-lys; Innkjørhovedsignal\"\n\telseif Function == \"exit\" then return \"Lyssignal, 3-lys; Utkjørhovedsignal\"\n\telse return \"Lyssignal, 3-lys\"\n\tend\nelseif MainSignal == \"Hs2\" then\n\tif Function == \"home\" then return \"Lyssignal, 2-lys; Innkjørhovedsignal\"\n\telseif Function == \"exit\" then return \"Lyssignal, 2-lys; Utkjørhovedsignal\"\n\telse return \"Lyssignal, 2-lys\"\n\tend\nend\n\nreturn \"Prosessnavn ikke definert\"</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"IsySted\" IsModelCheck=\"false\">\r\n      <Formula>if OcpStationReference == nil then return \"OCP mangler\",_warning end\n \nreturn OcpStationReference.code</Formula>\r\n      <Symbol>_warning</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"name\" IsModelCheck=\"false\">\r\n      <Formula>NOBN_signalLongName()</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"RelativeElevation\" IsModelCheck=\"false\">\r\n      <Formula>PoleOrYoke == \"Pole\" and 0 or 7.90</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"SikkerhetsavstandTilKL\" IsModelCheck=\"true\">\r\n      <Formula>if (DwarfSignal == \"Ja\" and MainSignal == \"-\") then return \"Frittstående Dvergsignal - Sikkerhetsavstand til KL ikke relevant\", _noSymbol end\nradius = 6\ncloseObjects = getNearbyPointObjects2D(\"EH-MAS KL-master\", radius)\ncount = getCollectionLength(closeObjects)\nUpdateObjects = {}\nif(count == 0) then\n\treturn \"Ingen KL-master innenfor \"..radius..\" meter\", _ok\nelse\n\ti = 0\n\ttext = \"KL-Mast\"\n\tif (count &gt; 1) then text = text..\"ene\" end\n\ttext = text..\" [\"\n\twhile (i ~= count) do\n\t\ttext = text..closeObjects[i].name\n\t\ttable.insert(UpdateObjects, closeObjects[i])\n\t\ti = i+1\n\t\tif (i ~= count) then text = text..\", \" end\n\tend\n\treturn text..\"] er innenfor \"..radius..\" meter\", UpdateObjects, _warning\nend</Formula>\r\n      <Symbol>_ok</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"AvstandTilSpor\" IsModelCheck=\"true\">\r\n      <Formula>if (Alignment == null or getAlignmentInfo().AlignmentName == \"\") then return \"Mangler spor\", _warning end\nif (DwarfSignal == \"Ja\" and MainSignal == \"-\" and PoleOrYoke == \"Yoke\") then return \"Dverg i åk - gjør manuell profilkontroll\", _noSymbol end\nif (RelativeElevation &gt; 0.3) then return \"Signal med avvikende montasjehøyde - gjør manuell profilkontroll\", _noSymbol end\nclosestTrack = getClosestTracks()[0]\nif (closestTrack == null) then return \"Ingen spor i tegningen\", _noSymbol end\nalignmentInfo = getAlignmentInfo(closestTrack.id)\ncurveRadius = alignmentInfo.CurveRadius\nKi = 0.0\nKy = 0.0\nlimit = 2.12\nif (DwarfSignal == \"Ja\" and MainSignal == \"-\") then\n\tlimit = limit + 0.25\nelse\n\tlimit = limit + 0.4\nend\ndistToAlignment = math.abs(alignmentInfo.DistanceToAlignment)\nrightSided = alignmentInfo.DistanceToAlignment &lt;= 0.0\nif (curveRadius ~= math.huge) then\n\tKi = 81000.0/(2*curveRadius)\n\tKy = 63000.0/(2*curveRadius)\nend\nif ((alignmentInfo.CurveRotation == \"cw\" and not(rightSided)) or (alignmentInfo.CurveRotation == \"ccw\" and rightSided)) then \n\tlimit = limit + (Ky/1000.0)\nelse\n\tlimit = limit + (Ki/1000.0)\nend\nif (distToAlignment &lt;= limit) then\n\treturn string.format(\"%.3f\", distToAlignment)..\": Ugyldig - For nær spor '\"..alignmentInfo.AlignmentName..\"', øk avstand\", _error\nelseif (distToAlignment &gt; limit and distToAlignment &lt;= (limit + 0.4)) then\n\treturn string.format(\"%.3f\", distToAlignment)..\": Advarsel - Innenfor byggetoleranse men under anbefalt verdi, øk avstand\", _warning\nelse\n\treturn string.format(\"%.3f\", distToAlignment)..\": OK - Innenfor byggetoleranse med god margin\", _ok\nend</Formula>\r\n      <Symbol>_ok</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"SymbolFrame\" IsModelCheck=\"false\">\r\n      <Formula>NOBN_setModelCheckFrame()</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"IsInsideOcpArea\" IsModelCheck=\"true\">\r\n      <Formula>NOBN_isInsideOcpArea()</Formula>\r\n      <Symbol>_ok</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"ocpStationRef\" IsModelCheck=\"false\">\r\n      <Formula>area = NOBN_getAreaOfType(\"OCP Area\")\nreturn (area == null) and \"\" or area.id</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n  </LuaExpressions>\r\n  <CurrentModelCheckObjectsToUpdate xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <Seq xmlns=\"http://www.railml.org/schemas/2013\">0</Seq>\r\n  <Relations SourceSpace=\"signal\" xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <ObjectRelations />\r\n  </Relations>\r\n  <RcSection xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <SymbolOffsets xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <CustomAttributes xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <KeyValueString Key=\"Fag\" Value=\"Signal\" />\r\n    <KeyValueString Key=\"Tag\" Value=\"SA-SIG-nnnnnn\" />\r\n    <KeyValueString Key=\"ObjektInfo\" Value=\"\" />\r\n    <KeyValueString Key=\"MainSignal\" Value=\"Hs3\" />\r\n    <KeyValueString Key=\"EndOfTrainRoute\" Value=\"-\" />\r\n    <KeyValueString Key=\"DistantSignal\" Value=\"-\" />\r\n    <KeyValueString Key=\"DwarfSignal\" Value=\"Ja\" />\r\n    <KeyValueString Key=\"PositionLamp\" Value=\"-\" />\r\n    <KeyValueString Key=\"CautiousDrivingSignal\" Value=\"-\" />\r\n    <KeyValueString Key=\"LineSignal\" Value=\"-\" />\r\n    <KeyValueString Key=\"HighShuntingSignal\" Value=\"-\" />\r\n    <KeyValueString Key=\"OpticalSpeedSignal\" Value=\"-\" />\r\n    <KeyValueString Key=\"PoleOrYoke\" Value=\"Pole\" />\r\n    <KeyValueString Key=\"SikkerhetsavstandTilKL\" Value=\"Ingen KL-master innenfor 6 meter\" />\r\n    <KeyValueString Key=\"AvstandTilSpor\" Value=\"3.500: OK - Innenfor byggetoleranse med god margin\" />\r\n    <KeyValueString Key=\"LineSignalValue\" Value=\"\" />\r\n    <KeyValueString Key=\"OpticalSpeedSignalValue\" Value=\"\" />\r\n    <KeyValueString Key=\"IsyProsesskode\" Value=\"3.52.13\" />\r\n    <KeyValueString Key=\"IsyProsessnavn\" Value=\"Lyssignal, 3-lys\" />\r\n    <KeyValueString Key=\"IsyMengde\" Value=\"1\" />\r\n    <KeyValueString Key=\"IsyEnhet\" Value=\"stk\" />\r\n    <KeyValueString Key=\"IsySted\" Value=\"OCP mangler\" />\r\n    <KeyValueString Key=\"IsyPostnotat\" Value=\"Navn: Hs.  Bestykning: Hs3-Ds  Beskrivelse: \" />\r\n    <KeyValueString Key=\"IsInsideOcpArea\" Value=\"Objektet er ikke omsluttet av noen OCP områder\" />\r\n  </CustomAttributes>\r\n  <TimeStamp xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <Item>\r\n      <DateTime>2018-10-15T12:54:33.6734363+02:00</DateTime>\r\n      <User>bjslu</User>\r\n    </Item>\r\n  </TimeStamp>\r\n  <geoCoord coord=\"144.22710312746221 105.60615584664211 0\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <DrawTail xmlns=\"http://www.railml.org/schemas/2013\">false</DrawTail>\r\n  <Earthing xmlns=\"http://www.railml.org/schemas/2013\">Unknown</Earthing>\r\n  <CableMarkerColor xmlns=\"http://www.railml.org/schemas/2013\">Green</CableMarkerColor>\r\n  <Offset3D X=\"0\" Y=\"0\" Z=\"0\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <Rotation3D X=\"0\" Y=\"0\" Z=\"0\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <Annotations3D xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <CadAnnotation Tag=\"ISY Prosesskode\" Invisible=\"true\" Height=\"2\">\r\n      <Formula>IsyProsesskode</Formula>\r\n      <Offset X=\"0\" Y=\"30\" Z=\"0\" />\r\n      <Attitude X=\"0\" Y=\"0\" Z=\"0\" />\r\n    </CadAnnotation>\r\n    <CadAnnotation Tag=\"ISY Prosessnavn\" Invisible=\"true\" Height=\"2\">\r\n      <Formula>IsyProsessnavn</Formula>\r\n      <Offset X=\"0\" Y=\"25\" Z=\"0\" />\r\n      <Attitude X=\"0\" Y=\"0\" Z=\"0\" />\r\n    </CadAnnotation>\r\n    <CadAnnotation Tag=\"ISY Mengde\" Invisible=\"true\" Height=\"2\">\r\n      <Formula>IsyMengde</Formula>\r\n      <Offset X=\"0\" Y=\"20\" Z=\"0\" />\r\n      <Attitude X=\"0\" Y=\"0\" Z=\"0\" />\r\n    </CadAnnotation>\r\n    <CadAnnotation Tag=\"ISY Enhet\" Invisible=\"true\" Height=\"2\">\r\n      <Formula>IsyEnhet</Formula>\r\n      <Offset X=\"0\" Y=\"15\" Z=\"0\" />\r\n      <Attitude X=\"0\" Y=\"0\" Z=\"0\" />\r\n    </CadAnnotation>\r\n    <CadAnnotation Tag=\"ISY Sted\" Invisible=\"true\" Height=\"2\">\r\n      <Formula>IsySted</Formula>\r\n      <Offset X=\"0\" Y=\"10\" Z=\"0\" />\r\n      <Attitude X=\"0\" Y=\"0\" Z=\"0\" />\r\n    </CadAnnotation>\r\n    <CadAnnotation Tag=\"ISY Postnotat\" Invisible=\"true\" Height=\"2\">\r\n      <Formula>IsyPostnotat</Formula>\r\n      <Offset X=\"0\" Y=\"5\" Z=\"0\" />\r\n      <Attitude X=\"0\" Y=\"0\" Z=\"0\" />\r\n    </CadAnnotation>\r\n  </Annotations3D>\r\n  <AnnotationOffset X=\"0\" Y=\"0\" Z=\"0\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <AnnotationRotation xmlns=\"http://www.railml.org/schemas/2013\">0</AnnotationRotation>\r\n  <AlignmentRotation3D X=\"0\" Y=\"0\" Z=\"-1.4560275710337285\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <DirectionRotation3D X=\"0\" Y=\"0\" Z=\"0\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <PoleRouting3D xmlns=\"http://www.railml.org/schemas/2013\">None</PoleRouting3D>\r\n  <Model3DName xmlns=\"http://www.railml.org/schemas/2013\">NO-BN-3D-SA-SIG-NSI63-HS-3-LYS-MED-DS</Model3DName>\r\n  <AlignmentTangent xmlns=\"http://www.railml.org/schemas/2013\">0.1147687557611681</AlignmentTangent>\r\n  <Alignment xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <Id>d5570c64-d3ff-4e4b-bb6c-797bf94e697e</Id>\r\n  </Alignment>\r\n  <InheritPosition xmlns=\"http://www.railml.org/schemas/2013\">false</InheritPosition>\r\n  <speed xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <etcs xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <levelCrossing xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <trainRadio xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <catenary xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <line xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <milepost xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <braking xmlns=\"http://www.railml.org/schemas/2013\" />\r\n</tSignal>",
  "set <?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<eTrack xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" id=\"d5570c64-d3ff-4e4b-bb6c-797bf94e697e\" code=\"t1\" name=\"[t1]\" Stage=\"\" type=\"mainTrack\">\r\n  <LuaExpressions xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <LuaExpression Name=\"name\" IsModelCheck=\"false\">\r\n      <Formula>\"[\"..code..\"]\"</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n  </LuaExpressions>\r\n  <CurrentModelCheckObjectsToUpdate xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <Seq xmlns=\"http://www.railml.org/schemas/2013\">0</Seq>\r\n  <Relations SourceSpace=\"spor\" xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <ObjectRelations />\r\n  </Relations>\r\n  <RcSection xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <SymbolOffsets xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <CustomAttributes xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <KeyValueString Key=\"Fag\" Value=\"Underbygning\" />\r\n  </CustomAttributes>\r\n  <TimeStamp xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <Item>\r\n      <DateTime>2018-10-15T12:54:16.3046429+02:00</DateTime>\r\n      <User>bjslu</User>\r\n    </Item>\r\n  </TimeStamp>\r\n  <AlignmentSystem xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <NameKey>Normalspor 1435mm</NameKey>\r\n  </AlignmentSystem>\r\n  <RcAlignment xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <Mileage StartMileage=\"0\">\r\n      <Items />\r\n    </Mileage>\r\n    <HorizontalProfile>\r\n      <Line StartDir=\"0.1147687557611681\" Length=\"85.744489619370313\">\r\n        <StartPt>\r\n          <X>47.522665496640911</X>\r\n          <Y>97.981697726371749</Y>\r\n        </StartPt>\r\n      </Line>\r\n      <Line StartDir=\"0.1147687557611681\" Length=\"28.267227483591565\">\r\n        <StartPt>\r\n          <X>132.70306717885433</X>\r\n          <Y>107.80089674375995</Y>\r\n        </StartPt>\r\n      </Line>\r\n    </HorizontalProfile>\r\n    <VerticalProfile />\r\n    <CantProfile />\r\n  </RcAlignment>\r\n  <ReferenceAlignmentDefinition xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <Items />\r\n  </ReferenceAlignmentDefinition>\r\n  <MileageParent xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <AlignmentReference />\r\n    <NodeSelector xsi:nil=\"true\" />\r\n  </MileageParent>\r\n  <trackTopology xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <trackBegin pos=\"0\">\r\n      <openEnd>\r\n        <LuaExpressions />\r\n        <CurrentModelCheckObjectsToUpdate />\r\n        <Seq>0</Seq>\r\n        <Relations>\r\n          <ObjectRelations />\r\n        </Relations>\r\n        <RcSection />\r\n        <SymbolOffsets />\r\n        <TimeStamp />\r\n      </openEnd>\r\n    </trackBegin>\r\n    <trackEnd pos=\"0\">\r\n      <openEnd>\r\n        <LuaExpressions />\r\n        <CurrentModelCheckObjectsToUpdate />\r\n        <Seq>0</Seq>\r\n        <Relations>\r\n          <ObjectRelations />\r\n        </Relations>\r\n        <RcSection />\r\n        <SymbolOffsets />\r\n        <TimeStamp />\r\n      </openEnd>\r\n    </trackEnd>\r\n  </trackTopology>\r\n  <infraAttrGroupRefs xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <HorizontalGeometrySectionObjectTypeRef xmlns=\"http://www.railml.org/schemas/2013\">KO-HOS Horisontal traseseksjon</HorizontalGeometrySectionObjectTypeRef>\r\n  <HorizontalGeometryPointObjectTypeRef xmlns=\"http://www.railml.org/schemas/2013\">KO-HOT Horisontaltrasepunkt</HorizontalGeometryPointObjectTypeRef>\r\n  <VerticalGeometrySectionObjectTypeRef xmlns=\"http://www.railml.org/schemas/2013\">KO-VES Vertikal traseseksjon</VerticalGeometrySectionObjectTypeRef>\r\n  <VerticalGeometryPointObjectTypeRef xmlns=\"http://www.railml.org/schemas/2013\">KO-VET Vertikaltrasepunkt</VerticalGeometryPointObjectTypeRef>\r\n</eTrack>",
  "set <?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<tSignal xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" id=\"0e3470b4-04a5-46bd-bf8b-e6e9d8852286\" name=\"Hs.\" Stage=\"\" pos=\"0\" dir=\"up\" ruleCode=\"\" sight=\"250\" type=\"main\" ocpStationRef=\"\">\r\n  <LuaExpressions xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <LuaExpression Name=\"IsyPostnotat\" IsModelCheck=\"false\">\r\n      <Formula>local s = \"\"\nlocal first = true\nif (prop(\"Hovedsignal\") ~= \"-\") then \n\ts = prop(\"Hovedsignal\")\n\tfirst = false\nend \nif (prop(\"Forsignal\") == \"Ja\") then \n\tif (first) then s = \"Fs\" else s = s..\"-Fs\" end \n\tfirst = false\nend \nif (prop(\"Dvergsignal\") == \"Ja\") then \n\tif (first) then s = \"Ds\" else s = s..\"-Ds\" end\n\tfirst = false\nend\nif (prop(\"Middelkontrollampe\") == \"Ja\") then\n\tif (first) then s = \"Mk\" else s = s..\"-Mk\" end\t\t\n\tfirst = false\nend\nif (fromDisplayName(\"Forsiktig kjøring\") == \"Ja\") then\n\tif (first) then s = \"FKs\" else s = s..\"-FKs\" end\t\t\n\tfirst = false\nend\nif (fromDisplayName(\"Hovedlinjesignal\") == \"Ja\") then \n\tif (first) then s = \"HLs\" else s = s..\"-HLs\" end\t\t\n\tfirst = false\nend\nif (fromDisplayName(\"Lysende hastighetssignal\") == \"Ja\") then \n\tif (first) then s = \"Hast\" else s = s..\"-Hast\" end\t\t\n\tfirst = false\nend \nif (fromDisplayName(\"Høyt skiftesignal\") == \"Ja\") then \n\tif (first) then s = \"Z\" else s = s..\"-Z\" end\t\t\n\tfirst = false\nend \nreturn \"Navn: \"..name..\"  Bestykning: \"..s..\"  Beskrivelse: \"..description</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"IsyProsesskode\" IsModelCheck=\"false\">\r\n      <Formula>if MainSignal == \"Hs3\" then\n\tif Function == \"home\" then return \"3.52.131\"\n\telseif Function == \"exit\" then return \"3.52.132\"\n\telse return \"3.52.13\"\n\tend\nelseif MainSignal == \"Hs2\" then\n\tif Function == \"home\" then return \"3.52.141\"\n\telseif Function == \"exit\" then return \"3.52.142\"\n\telse return \"3.52.14\"\n\tend\nend\n\nreturn \"Prosesskode ikke definert\"</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"IsyProsessnavn\" IsModelCheck=\"false\">\r\n      <Formula>if MainSignal == \"Hs3\" then\n\tif Function == \"home\" then return \"Lyssignal, 3-lys; Innkjørhovedsignal\"\n\telseif Function == \"exit\" then return \"Lyssignal, 3-lys; Utkjørhovedsignal\"\n\telse return \"Lyssignal, 3-lys\"\n\tend\nelseif MainSignal == \"Hs2\" then\n\tif Function == \"home\" then return \"Lyssignal, 2-lys; Innkjørhovedsignal\"\n\telseif Function == \"exit\" then return \"Lyssignal, 2-lys; Utkjørhovedsignal\"\n\telse return \"Lyssignal, 2-lys\"\n\tend\nend\n\nreturn \"Prosessnavn ikke definert\"</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"IsySted\" IsModelCheck=\"false\">\r\n      <Formula>if OcpStationReference == nil then return \"OCP mangler\",_warning end\n \nreturn OcpStationReference.code</Formula>\r\n      <Symbol>_warning</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"name\" IsModelCheck=\"false\">\r\n      <Formula>NOBN_signalLongName()</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"RelativeElevation\" IsModelCheck=\"false\">\r\n      <Formula>PoleOrYoke == \"Pole\" and 0 or 7.90</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"SikkerhetsavstandTilKL\" IsModelCheck=\"true\">\r\n      <Formula>if (DwarfSignal == \"Ja\" and MainSignal == \"-\") then return \"Frittstående Dvergsignal - Sikkerhetsavstand til KL ikke relevant\", _noSymbol end\nradius = 6\ncloseObjects = getNearbyPointObjects2D(\"EH-MAS KL-master\", radius)\ncount = getCollectionLength(closeObjects)\nUpdateObjects = {}\nif(count == 0) then\n\treturn \"Ingen KL-master innenfor \"..radius..\" meter\", _ok\nelse\n\ti = 0\n\ttext = \"KL-Mast\"\n\tif (count &gt; 1) then text = text..\"ene\" end\n\ttext = text..\" [\"\n\twhile (i ~= count) do\n\t\ttext = text..closeObjects[i].name\n\t\ttable.insert(UpdateObjects, closeObjects[i])\n\t\ti = i+1\n\t\tif (i ~= count) then text = text..\", \" end\n\tend\n\treturn text..\"] er innenfor \"..radius..\" meter\", UpdateObjects, _warning\nend</Formula>\r\n      <Symbol>_ok</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"AvstandTilSpor\" IsModelCheck=\"true\">\r\n      <Formula>if (Alignment == null or getAlignmentInfo().AlignmentName == \"\") then return \"Mangler spor\", _warning end\nif (DwarfSignal == \"Ja\" and MainSignal == \"-\" and PoleOrYoke == \"Yoke\") then return \"Dverg i åk - gjør manuell profilkontroll\", _noSymbol end\nif (RelativeElevation &gt; 0.3) then return \"Signal med avvikende montasjehøyde - gjør manuell profilkontroll\", _noSymbol end\nclosestTrack = getClosestTracks()[0]\nif (closestTrack == null) then return \"Ingen spor i tegningen\", _noSymbol end\nalignmentInfo = getAlignmentInfo(closestTrack.id)\ncurveRadius = alignmentInfo.CurveRadius\nKi = 0.0\nKy = 0.0\nlimit = 2.12\nif (DwarfSignal == \"Ja\" and MainSignal == \"-\") then\n\tlimit = limit + 0.25\nelse\n\tlimit = limit + 0.4\nend\ndistToAlignment = math.abs(alignmentInfo.DistanceToAlignment)\nrightSided = alignmentInfo.DistanceToAlignment &lt;= 0.0\nif (curveRadius ~= math.huge) then\n\tKi = 81000.0/(2*curveRadius)\n\tKy = 63000.0/(2*curveRadius)\nend\nif ((alignmentInfo.CurveRotation == \"cw\" and not(rightSided)) or (alignmentInfo.CurveRotation == \"ccw\" and rightSided)) then \n\tlimit = limit + (Ky/1000.0)\nelse\n\tlimit = limit + (Ki/1000.0)\nend\nif (distToAlignment &lt;= limit) then\n\treturn string.format(\"%.3f\", distToAlignment)..\": Ugyldig - For nær spor '\"..alignmentInfo.AlignmentName..\"', øk avstand\", _error\nelseif (distToAlignment &gt; limit and distToAlignment &lt;= (limit + 0.4)) then\n\treturn string.format(\"%.3f\", distToAlignment)..\": Advarsel - Innenfor byggetoleranse men under anbefalt verdi, øk avstand\", _warning\nelse\n\treturn string.format(\"%.3f\", distToAlignment)..\": OK - Innenfor byggetoleranse med god margin\", _ok\nend</Formula>\r\n      <Symbol>_ok</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"SymbolFrame\" IsModelCheck=\"false\">\r\n      <Formula>NOBN_setModelCheckFrame()</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"IsInsideOcpArea\" IsModelCheck=\"true\">\r\n      <Formula>NOBN_isInsideOcpArea()</Formula>\r\n      <Symbol>_ok</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"ocpStationRef\" IsModelCheck=\"false\">\r\n      <Formula>area = NOBN_getAreaOfType(\"OCP Area\")\nreturn (area == null) and \"\" or area.id</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n  </LuaExpressions>\r\n  <CurrentModelCheckObjectsToUpdate xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <Seq xmlns=\"http://www.railml.org/schemas/2013\">0</Seq>\r\n  <Relations SourceSpace=\"signal\" xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <ObjectRelations />\r\n  </Relations>\r\n  <RcSection xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <SymbolOffsets xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <CustomAttributes xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <KeyValueString Key=\"Fag\" Value=\"Signal\" />\r\n    <KeyValueString Key=\"Tag\" Value=\"SA-SIG-nnnnnn\" />\r\n    <KeyValueString Key=\"ObjektInfo\" Value=\"\" />\r\n    <KeyValueString Key=\"MainSignal\" Value=\"Hs3\" />\r\n    <KeyValueString Key=\"EndOfTrainRoute\" Value=\"-\" />\r\n    <KeyValueString Key=\"DistantSignal\" Value=\"-\" />\r\n    <KeyValueString Key=\"DwarfSignal\" Value=\"Ja\" />\r\n    <KeyValueString Key=\"PositionLamp\" Value=\"-\" />\r\n    <KeyValueString Key=\"CautiousDrivingSignal\" Value=\"-\" />\r\n    <KeyValueString Key=\"LineSignal\" Value=\"-\" />\r\n    <KeyValueString Key=\"HighShuntingSignal\" Value=\"-\" />\r\n    <KeyValueString Key=\"OpticalSpeedSignal\" Value=\"-\" />\r\n    <KeyValueString Key=\"PoleOrYoke\" Value=\"Pole\" />\r\n    <KeyValueString Key=\"SikkerhetsavstandTilKL\" Value=\"Ingen KL-master innenfor 6 meter\" />\r\n    <KeyValueString Key=\"AvstandTilSpor\" Value=\"3.500: OK - Innenfor byggetoleranse med god margin\" />\r\n    <KeyValueString Key=\"LineSignalValue\" Value=\"\" />\r\n    <KeyValueString Key=\"OpticalSpeedSignalValue\" Value=\"\" />\r\n    <KeyValueString Key=\"IsyProsesskode\" Value=\"3.52.13\" />\r\n    <KeyValueString Key=\"IsyProsessnavn\" Value=\"Lyssignal, 3-lys\" />\r\n    <KeyValueString Key=\"IsyMengde\" Value=\"1\" />\r\n    <KeyValueString Key=\"IsyEnhet\" Value=\"stk\" />\r\n    <KeyValueString Key=\"IsySted\" Value=\"OCP mangler\" />\r\n    <KeyValueString Key=\"IsyPostnotat\" Value=\"Navn: Hs.  Bestykning: Hs3-Ds  Beskrivelse: \" />\r\n    <KeyValueString Key=\"IsInsideOcpArea\" Value=\"Objektet er ikke omsluttet av noen OCP områder\" />\r\n  </CustomAttributes>\r\n  <TimeStamp xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <Item>\r\n      <DateTime>2018-10-15T12:54:33.6734363+02:00</DateTime>\r\n      <User>bjslu</User>\r\n    </Item>\r\n  </TimeStamp>\r\n  <geoCoord coord=\"144.22710312746221 105.60615584664211 0\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <DrawTail xmlns=\"http://www.railml.org/schemas/2013\">false</DrawTail>\r\n  <Earthing xmlns=\"http://www.railml.org/schemas/2013\">Unknown</Earthing>\r\n  <CableMarkerColor xmlns=\"http://www.railml.org/schemas/2013\">Green</CableMarkerColor>\r\n  <Offset3D X=\"0\" Y=\"0\" Z=\"0\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <Rotation3D X=\"0\" Y=\"0\" Z=\"0\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <Annotations3D xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <CadAnnotation Tag=\"ISY Prosesskode\" Invisible=\"true\" Height=\"2\">\r\n      <Formula>IsyProsesskode</Formula>\r\n      <Offset X=\"0\" Y=\"30\" Z=\"0\" />\r\n      <Attitude X=\"0\" Y=\"0\" Z=\"0\" />\r\n    </CadAnnotation>\r\n    <CadAnnotation Tag=\"ISY Prosessnavn\" Invisible=\"true\" Height=\"2\">\r\n      <Formula>IsyProsessnavn</Formula>\r\n      <Offset X=\"0\" Y=\"25\" Z=\"0\" />\r\n      <Attitude X=\"0\" Y=\"0\" Z=\"0\" />\r\n    </CadAnnotation>\r\n    <CadAnnotation Tag=\"ISY Mengde\" Invisible=\"true\" Height=\"2\">\r\n      <Formula>IsyMengde</Formula>\r\n      <Offset X=\"0\" Y=\"20\" Z=\"0\" />\r\n      <Attitude X=\"0\" Y=\"0\" Z=\"0\" />\r\n    </CadAnnotation>\r\n    <CadAnnotation Tag=\"ISY Enhet\" Invisible=\"true\" Height=\"2\">\r\n      <Formula>IsyEnhet</Formula>\r\n      <Offset X=\"0\" Y=\"15\" Z=\"0\" />\r\n      <Attitude X=\"0\" Y=\"0\" Z=\"0\" />\r\n    </CadAnnotation>\r\n    <CadAnnotation Tag=\"ISY Sted\" Invisible=\"true\" Height=\"2\">\r\n      <Formula>IsySted</Formula>\r\n      <Offset X=\"0\" Y=\"10\" Z=\"0\" />\r\n      <Attitude X=\"0\" Y=\"0\" Z=\"0\" />\r\n    </CadAnnotation>\r\n    <CadAnnotation Tag=\"ISY Postnotat\" Invisible=\"true\" Height=\"2\">\r\n      <Formula>IsyPostnotat</Formula>\r\n      <Offset X=\"0\" Y=\"5\" Z=\"0\" />\r\n      <Attitude X=\"0\" Y=\"0\" Z=\"0\" />\r\n    </CadAnnotation>\r\n  </Annotations3D>\r\n  <AnnotationOffset X=\"0\" Y=\"0\" Z=\"0\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <AnnotationRotation xmlns=\"http://www.railml.org/schemas/2013\">0</AnnotationRotation>\r\n  <AlignmentRotation3D X=\"0\" Y=\"0\" Z=\"-1.4560275710337285\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <DirectionRotation3D X=\"0\" Y=\"0\" Z=\"0\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <PoleRouting3D xmlns=\"http://www.railml.org/schemas/2013\">None</PoleRouting3D>\r\n  <Model3DName xmlns=\"http://www.railml.org/schemas/2013\">NO-BN-3D-SA-SIG-NSI63-HS-3-LYS-MED-DS</Model3DName>\r\n  <AlignmentTangent xmlns=\"http://www.railml.org/schemas/2013\">0.1147687557611681</AlignmentTangent>\r\n  <Alignment xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <Id>d5570c64-d3ff-4e4b-bb6c-797bf94e697e</Id>\r\n  </Alignment>\r\n  <InheritPosition xmlns=\"http://www.railml.org/schemas/2013\">false</InheritPosition>\r\n  <speed xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <etcs xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <levelCrossing xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <trainRadio xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <catenary xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <line xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <milepost xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <braking xmlns=\"http://www.railml.org/schemas/2013\" />\r\n</tSignal>",
  "set <?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<eTrack xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" id=\"4c8ea38e-52e8-47a0-8b97-30bd1b5fa301\" code=\"t2\" name=\"[t2]\" Stage=\"\" type=\"mainTrack\">\r\n  <LuaExpressions xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <LuaExpression Name=\"name\" IsModelCheck=\"false\">\r\n      <Formula>\"[\"..code..\"]\"</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n  </LuaExpressions>\r\n  <CurrentModelCheckObjectsToUpdate xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <Seq xmlns=\"http://www.railml.org/schemas/2013\">0</Seq>\r\n  <Relations SourceSpace=\"spor\" xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <ObjectRelations />\r\n  </Relations>\r\n  <RcSection xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <SymbolOffsets xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <CustomAttributes xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <KeyValueString Key=\"Fag\" Value=\"Underbygning\" />\r\n  </CustomAttributes>\r\n  <TimeStamp xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <Item>\r\n      <DateTime>2018-10-15T12:55:17.9799989+02:00</DateTime>\r\n      <User>bjslu</User>\r\n    </Item>\r\n  </TimeStamp>\r\n  <AlignmentSystem xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <NameKey>Normalspor 1435mm</NameKey>\r\n  </AlignmentSystem>\r\n  <RcAlignment xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <Mileage StartMileage=\"0\">\r\n      <Items />\r\n    </Mileage>\r\n    <HorizontalProfile>\r\n      <Line StartDir=\"0.15768310531873109\" Length=\"9.025018302688478\">\r\n        <StartPt>\r\n          <X>58.474116843544834</X>\r\n          <Y>99.195323825837477</Y>\r\n        </StartPt>\r\n      </Line>\r\n      <Line StartDir=\"0.15768310531873109\" Length=\"4.9622466866614712\">\r\n        <StartPt>\r\n          <X>67.387168574588941</X>\r\n          <Y>100.61252677658013</Y>\r\n        </StartPt>\r\n      </Line>\r\n      <Arc StartDir=\"0.15768310531873109\" Length=\"7.7187066448125163\" Radius=\"27.537401572847429\">\r\n        <StartPt>\r\n          <X>72.287852422204026</X>\r\n          <Y>101.39175075273036</Y>\r\n        </StartPt>\r\n      </Arc>\r\n      <Arc StartDir=\"0.43798212425098049\" Length=\"9.9246230700022071\" Radius=\"-29.489373622166905\">\r\n        <StartPt>\r\n          <X>79.642608915906749</X>\r\n          <Y>103.6493892898734</Y>\r\n        </StartPt>\r\n      </Arc>\r\n      <Arc StartDir=\"0.10143299312457521\" Length=\"25.460316154088488\" Radius=\"-136.1962785753629\">\r\n        <StartPt>\r\n          <X>89.163364509437088</X>\r\n          <Y>106.28133857955163</Y>\r\n        </StartPt>\r\n      </Arc>\r\n      <Arc StartDir=\"-0.085505419733748728\" Length=\"6.8908048054590054\" Radius=\"38.688175291645557\">\r\n        <StartPt>\r\n          <X>114.58581835240513</X>\r\n          <Y>106.48380185945098</Y>\r\n        </StartPt>\r\n      </Arc>\r\n    </HorizontalProfile>\r\n    <VerticalProfile />\r\n    <CantProfile />\r\n  </RcAlignment>\r\n  <ReferenceAlignmentDefinition xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <Items />\r\n  </ReferenceAlignmentDefinition>\r\n  <MileageParent xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <AlignmentReference />\r\n    <NodeSelector xsi:nil=\"true\" />\r\n  </MileageParent>\r\n  <trackTopology xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <trackBegin pos=\"0\">\r\n      <openEnd>\r\n        <LuaExpressions />\r\n        <CurrentModelCheckObjectsToUpdate />\r\n        <Seq>0</Seq>\r\n        <Relations>\r\n          <ObjectRelations />\r\n        </Relations>\r\n        <RcSection />\r\n        <SymbolOffsets />\r\n        <TimeStamp />\r\n      </openEnd>\r\n    </trackBegin>\r\n    <trackEnd pos=\"0\">\r\n      <openEnd>\r\n        <LuaExpressions />\r\n        <CurrentModelCheckObjectsToUpdate />\r\n        <Seq>0</Seq>\r\n        <Relations>\r\n          <ObjectRelations />\r\n        </Relations>\r\n        <RcSection />\r\n        <SymbolOffsets />\r\n        <TimeStamp />\r\n      </openEnd>\r\n    </trackEnd>\r\n  </trackTopology>\r\n  <infraAttrGroupRefs xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <HorizontalGeometrySectionObjectTypeRef xmlns=\"http://www.railml.org/schemas/2013\">KO-HOS Horisontal traseseksjon</HorizontalGeometrySectionObjectTypeRef>\r\n  <HorizontalGeometryPointObjectTypeRef xmlns=\"http://www.railml.org/schemas/2013\">KO-HOT Horisontaltrasepunkt</HorizontalGeometryPointObjectTypeRef>\r\n  <VerticalGeometrySectionObjectTypeRef xmlns=\"http://www.railml.org/schemas/2013\">KO-VES Vertikal traseseksjon</VerticalGeometrySectionObjectTypeRef>\r\n  <VerticalGeometryPointObjectTypeRef xmlns=\"http://www.railml.org/schemas/2013\">KO-VET Vertikaltrasepunkt</VerticalGeometryPointObjectTypeRef>\r\n</eTrack>",
  "set <?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<eSwitch xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" id=\"bee0a8c5-919c-4489-b54f-01c48b2f6066\" name=\"V.\" Stage=\"\" pos=\"0\" trackContinueCourse=\"right\" trackContinueRadius=\"0\" model=\"Ustandard sporveksel\" ocpStationRef=\"\" type=\"other:unspecified\">\r\n  <Variant xmlns=\"http://www.railml.org/schemas/2013\">Ustandard sporveksel</Variant>\r\n  <LuaExpressions xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <LuaExpression Name=\"IsInsideOcpArea\" IsModelCheck=\"true\">\r\n      <Formula>NOBN_isInsideOcpArea()</Formula>\r\n      <Symbol>_ok</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"ocpStationRef\" IsModelCheck=\"false\">\r\n      <Formula>NOBN_ocpStationRef()</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"DistanceToAlignment\" IsModelCheck=\"false\">\r\n      <Formula>RightSided and .0001 or -.0001</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"RelativeElevation\" IsModelCheck=\"false\">\r\n      <Formula>0</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"name\" IsModelCheck=\"false\">\r\n      <Formula>\"V.\"..code</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"Offset3D.Z\" IsModelCheck=\"false\">\r\n      <Formula>0</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"Rotation3D.X\" IsModelCheck=\"false\">\r\n      <Formula>local g = getAlignmentInfo().gradient\nif (NOBN_isNan(g)) then \n\treturn 0, _warning\nelse\n\tlocal pitch = math.atan(g/1000.0)*(180.0/math.pi)\n\tif (Dir == \"up\") then\n\t\treturn pitch\n\telseif (Dir == \"down\") then \n\t\treturn -pitch\n\telse\n\t\treturn 90, _warning\n\tend\nend</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"Rotation3D.Y\" IsModelCheck=\"false\">\r\n      <Formula>NOBN_objectRotation3DY()</Formula>\r\n      <Symbol>_warning</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"Rotation3D.Z\" IsModelCheck=\"false\">\r\n      <Formula>if (Dir == \"down\" or Dir == \"up\") then\n\treturn 0\nelse\n\treturn 90, _warning\nend</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"model\" IsModelCheck=\"false\">\r\n      <Formula>Variant</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"Model3DName\" IsModelCheck=\"false\">\r\n      <Formula>NOBN_switchModel3DName()</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"trackContinueCourse\" IsModelCheck=\"false\">\r\n      <Formula>if (ConnectionCourse == \"right\") then \n\treturn \"left\"\nelseif (ConnectionCourse == \"left\") then\n\treturn \"right\"\nelseif (ConnectionCourse == 'straight') then\n\treturn \"Cannot use 'straight' connection course in 2-way switch, use 'left' or 'right'\", _warning\nelse\n\treturn \"Bad connection course [\"..ConnectionCourse..\"]\", _error\nend</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n  </LuaExpressions>\r\n  <CurrentModelCheckObjectsToUpdate xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <Seq xmlns=\"http://www.railml.org/schemas/2013\">0</Seq>\r\n  <Relations SourceSpace=\"sporveksel\" xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <ObjectRelations />\r\n  </Relations>\r\n  <RcSection xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <SymbolOffsets xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <CustomAttributes xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <KeyValueString Key=\"Fag\" Value=\"Overbygning\" />\r\n    <KeyValueString Key=\"Tag\" Value=\"KO-SPV-nnnnnn\" />\r\n    <KeyValueString Key=\"ObjektInfo\" Value=\"\" />\r\n    <KeyValueString Key=\"Omlegging\" Value=\"Sentralstilt / Sikringsanlegg\" />\r\n    <KeyValueString Key=\"Ledningsforing\" Value=\"Both\" />\r\n    <KeyValueString Key=\"RotateSymbol\" Value=\"False\" />\r\n    <KeyValueString Key=\"SwitchNoseType\" Value=\"Fixed\" />\r\n    <KeyValueString Key=\"IsInsideOcpArea\" Value=\"Objektet er ikke omsluttet av noen OCP områder\" />\r\n  </CustomAttributes>\r\n  <TimeStamp xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <Item>\r\n      <DateTime>2018-10-15T12:55:25.9054322+02:00</DateTime>\r\n      <User>bjslu</User>\r\n    </Item>\r\n  </TimeStamp>\r\n  <geoCoord coord=\"58.468575939915723 99.243390515999693 0\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <DrawTail xmlns=\"http://www.railml.org/schemas/2013\">false</DrawTail>\r\n  <Earthing xmlns=\"http://www.railml.org/schemas/2013\">Unknown</Earthing>\r\n  <CableMarkerColor xmlns=\"http://www.railml.org/schemas/2013\">Green</CableMarkerColor>\r\n  <Offset3D X=\"0\" Y=\"0\" Z=\"0\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <Rotation3D X=\"0\" Y=\"0\" Z=\"0\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <Annotations3D xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <AnnotationOffset X=\"0\" Y=\"0\" Z=\"0\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <AnnotationRotation xmlns=\"http://www.railml.org/schemas/2013\">0</AnnotationRotation>\r\n  <AlignmentRotation3D X=\"0\" Y=\"0\" Z=\"-1.4560275710337285\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <DirectionRotation3D X=\"0\" Y=\"0\" Z=\"0\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <PoleRouting3D xmlns=\"http://www.railml.org/schemas/2013\">None</PoleRouting3D>\r\n  <Model3DName xmlns=\"http://www.railml.org/schemas/2013\">NO-BN-3D-UNSPECIFIED</Model3DName>\r\n  <AlignmentTangent xmlns=\"http://www.railml.org/schemas/2013\">0.1147687557611681</AlignmentTangent>\r\n  <Alignment xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <Id>d5570c64-d3ff-4e4b-bb6c-797bf94e697e</Id>\r\n  </Alignment>\r\n  <Connections xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <AlignmentReference>\r\n      <Id>4c8ea38e-52e8-47a0-8b97-30bd1b5fa301</Id>\r\n    </AlignmentReference>\r\n  </Connections>\r\n  <SwitchGeometry xmlns=\"http://www.railml.org/schemas/2013\">left</SwitchGeometry>\r\n  <dir xmlns=\"http://www.railml.org/schemas/2013\">up</dir>\r\n  <ConnectionCourse xmlns=\"http://www.railml.org/schemas/2013\">left</ConnectionCourse>\r\n</eSwitch>",
  "set <?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<eSwitch xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" id=\"7735eba1-e146-480e-b6b2-255116d7e996\" name=\"V.\" Stage=\"\" pos=\"0\" trackContinueCourse=\"left\" trackContinueRadius=\"0\" model=\"Ustandard sporveksel\" ocpStationRef=\"\" type=\"other:unspecified\">\r\n  <Variant xmlns=\"http://www.railml.org/schemas/2013\">Ustandard sporveksel</Variant>\r\n  <LuaExpressions xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <LuaExpression Name=\"IsInsideOcpArea\" IsModelCheck=\"true\">\r\n      <Formula>NOBN_isInsideOcpArea()</Formula>\r\n      <Symbol>_ok</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"ocpStationRef\" IsModelCheck=\"false\">\r\n      <Formula>NOBN_ocpStationRef()</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"DistanceToAlignment\" IsModelCheck=\"false\">\r\n      <Formula>RightSided and .0001 or -.0001</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"RelativeElevation\" IsModelCheck=\"false\">\r\n      <Formula>0</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"name\" IsModelCheck=\"false\">\r\n      <Formula>\"V.\"..code</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"Offset3D.Z\" IsModelCheck=\"false\">\r\n      <Formula>0</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"Rotation3D.X\" IsModelCheck=\"false\">\r\n      <Formula>local g = getAlignmentInfo().gradient\nif (NOBN_isNan(g)) then \n\treturn 0, _warning\nelse\n\tlocal pitch = math.atan(g/1000.0)*(180.0/math.pi)\n\tif (Dir == \"up\") then\n\t\treturn pitch\n\telseif (Dir == \"down\") then \n\t\treturn -pitch\n\telse\n\t\treturn 90, _warning\n\tend\nend</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"Rotation3D.Y\" IsModelCheck=\"false\">\r\n      <Formula>NOBN_objectRotation3DY()</Formula>\r\n      <Symbol>_warning</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"Rotation3D.Z\" IsModelCheck=\"false\">\r\n      <Formula>if (Dir == \"down\" or Dir == \"up\") then\n\treturn 0\nelse\n\treturn 90, _warning\nend</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"model\" IsModelCheck=\"false\">\r\n      <Formula>Variant</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"Model3DName\" IsModelCheck=\"false\">\r\n      <Formula>NOBN_switchModel3DName()</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"trackContinueCourse\" IsModelCheck=\"false\">\r\n      <Formula>if (ConnectionCourse == \"right\") then \n\treturn \"left\"\nelseif (ConnectionCourse == \"left\") then\n\treturn \"right\"\nelseif (ConnectionCourse == 'straight') then\n\treturn \"Cannot use 'straight' connection course in 2-way switch, use 'left' or 'right'\", _warning\nelse\n\treturn \"Bad connection course [\"..ConnectionCourse..\"]\", _error\nend</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n  </LuaExpressions>\r\n  <CurrentModelCheckObjectsToUpdate xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <Seq xmlns=\"http://www.railml.org/schemas/2013\">0</Seq>\r\n  <Relations SourceSpace=\"sporveksel\" xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <ObjectRelations />\r\n  </Relations>\r\n  <RcSection xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <SymbolOffsets xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <CustomAttributes xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <KeyValueString Key=\"Fag\" Value=\"Overbygning\" />\r\n    <KeyValueString Key=\"Tag\" Value=\"KO-SPV-nnnnnn\" />\r\n    <KeyValueString Key=\"ObjektInfo\" Value=\"\" />\r\n    <KeyValueString Key=\"Omlegging\" Value=\"Sentralstilt / Sikringsanlegg\" />\r\n    <KeyValueString Key=\"Ledningsforing\" Value=\"Both\" />\r\n    <KeyValueString Key=\"RotateSymbol\" Value=\"False\" />\r\n    <KeyValueString Key=\"SwitchNoseType\" Value=\"Fixed\" />\r\n    <KeyValueString Key=\"IsInsideOcpArea\" Value=\"Objektet er ikke omsluttet av noen OCP områder\" />\r\n  </CustomAttributes>\r\n  <TimeStamp xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <Item>\r\n      <DateTime>2018-10-15T12:55:29.4999594+02:00</DateTime>\r\n      <User>bjslu</User>\r\n    </Item>\r\n  </TimeStamp>\r\n  <geoCoord coord=\"121.46775064259288 106.50584257090581 0\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <DrawTail xmlns=\"http://www.railml.org/schemas/2013\">false</DrawTail>\r\n  <Earthing xmlns=\"http://www.railml.org/schemas/2013\">Unknown</Earthing>\r\n  <CableMarkerColor xmlns=\"http://www.railml.org/schemas/2013\">Green</CableMarkerColor>\r\n  <Offset3D X=\"0\" Y=\"0\" Z=\"0\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <Rotation3D X=\"-0\" Y=\"0\" Z=\"0\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <Annotations3D xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <AnnotationOffset X=\"0\" Y=\"0\" Z=\"0\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <AnnotationRotation xmlns=\"http://www.railml.org/schemas/2013\">0</AnnotationRotation>\r\n  <AlignmentRotation3D X=\"0\" Y=\"0\" Z=\"-1.4560275710337285\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <DirectionRotation3D X=\"0\" Y=\"0\" Z=\"3.1415926535897931\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <PoleRouting3D xmlns=\"http://www.railml.org/schemas/2013\">None</PoleRouting3D>\r\n  <Model3DName xmlns=\"http://www.railml.org/schemas/2013\">NO-BN-3D-UNSPECIFIED</Model3DName>\r\n  <AlignmentTangent xmlns=\"http://www.railml.org/schemas/2013\">0.1147687557611681</AlignmentTangent>\r\n  <Alignment xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <Id>d5570c64-d3ff-4e4b-bb6c-797bf94e697e</Id>\r\n  </Alignment>\r\n  <Connections xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <AlignmentReference>\r\n      <Id>4c8ea38e-52e8-47a0-8b97-30bd1b5fa301</Id>\r\n    </AlignmentReference>\r\n  </Connections>\r\n  <SwitchGeometry xmlns=\"http://www.railml.org/schemas/2013\">right</SwitchGeometry>\r\n  <dir xmlns=\"http://www.railml.org/schemas/2013\">down</dir>\r\n  <ConnectionCourse xmlns=\"http://www.railml.org/schemas/2013\">right</ConnectionCourse>\r\n</eSwitch>",
  "set <?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<eTrack xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" id=\"4c8ea38e-52e8-47a0-8b97-30bd1b5fa301\" code=\"t2\" name=\"[t2]\" Stage=\"\" type=\"mainTrack\">\r\n  <LuaExpressions xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <LuaExpression Name=\"name\" IsModelCheck=\"false\">\r\n      <Formula>\"[\"..code..\"]\"</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n  </LuaExpressions>\r\n  <CurrentModelCheckObjectsToUpdate xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <Seq xmlns=\"http://www.railml.org/schemas/2013\">0</Seq>\r\n  <Relations SourceSpace=\"spor\" xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <ObjectRelations />\r\n  </Relations>\r\n  <RcSection xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <SymbolOffsets xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <CustomAttributes xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <KeyValueString Key=\"Fag\" Value=\"Underbygning\" />\r\n  </CustomAttributes>\r\n  <TimeStamp xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <Item>\r\n      <DateTime>2018-10-15T12:55:17.9799989+02:00</DateTime>\r\n      <User>bjslu</User>\r\n    </Item>\r\n  </TimeStamp>\r\n  <AlignmentSystem xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <NameKey>Normalspor 1435mm</NameKey>\r\n  </AlignmentSystem>\r\n  <RcAlignment xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <Mileage StartMileage=\"0\">\r\n      <Items />\r\n    </Mileage>\r\n    <HorizontalProfile>\r\n      <Line StartDir=\"0.15768310531873109\" Length=\"9.025018302688478\">\r\n        <StartPt>\r\n          <X>58.474116843544834</X>\r\n          <Y>99.195323825837477</Y>\r\n        </StartPt>\r\n      </Line>\r\n      <Line StartDir=\"0.15768310531873109\" Length=\"4.9622466866614712\">\r\n        <StartPt>\r\n          <X>67.387168574588941</X>\r\n          <Y>100.61252677658013</Y>\r\n        </StartPt>\r\n      </Line>\r\n      <Arc StartDir=\"0.15768310531873109\" Length=\"7.7187066448125163\" Radius=\"27.537401572847429\">\r\n        <StartPt>\r\n          <X>72.287852422204026</X>\r\n          <Y>101.39175075273036</Y>\r\n        </StartPt>\r\n      </Arc>\r\n      <Arc StartDir=\"0.43798212425098049\" Length=\"9.9246230700022071\" Radius=\"-29.489373622166905\">\r\n        <StartPt>\r\n          <X>79.642608915906749</X>\r\n          <Y>103.6493892898734</Y>\r\n        </StartPt>\r\n      </Arc>\r\n      <Arc StartDir=\"0.10143299312457521\" Length=\"25.460316154088488\" Radius=\"-136.1962785753629\">\r\n        <StartPt>\r\n          <X>89.163364509437088</X>\r\n          <Y>106.28133857955163</Y>\r\n        </StartPt>\r\n      </Arc>\r\n      <Arc StartDir=\"-0.085505419733748728\" Length=\"6.8908048054590054\" Radius=\"38.688175291645557\">\r\n        <StartPt>\r\n          <X>114.58581835240513</X>\r\n          <Y>106.48380185945098</Y>\r\n        </StartPt>\r\n      </Arc>\r\n    </HorizontalProfile>\r\n    <VerticalProfile />\r\n    <CantProfile />\r\n  </RcAlignment>\r\n  <ReferenceAlignmentDefinition xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <Items />\r\n  </ReferenceAlignmentDefinition>\r\n  <MileageParent xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <AlignmentReference />\r\n    <NodeSelector xsi:nil=\"true\" />\r\n  </MileageParent>\r\n  <trackTopology xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <trackBegin pos=\"0\">\r\n      <openEnd>\r\n        <LuaExpressions />\r\n        <CurrentModelCheckObjectsToUpdate />\r\n        <Seq>0</Seq>\r\n        <Relations>\r\n          <ObjectRelations />\r\n        </Relations>\r\n        <RcSection />\r\n        <SymbolOffsets />\r\n        <TimeStamp />\r\n      </openEnd>\r\n    </trackBegin>\r\n    <trackEnd pos=\"0\">\r\n      <openEnd>\r\n        <LuaExpressions />\r\n        <CurrentModelCheckObjectsToUpdate />\r\n        <Seq>0</Seq>\r\n        <Relations>\r\n          <ObjectRelations />\r\n        </Relations>\r\n        <RcSection />\r\n        <SymbolOffsets />\r\n        <TimeStamp />\r\n      </openEnd>\r\n    </trackEnd>\r\n  </trackTopology>\r\n  <infraAttrGroupRefs xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <HorizontalGeometrySectionObjectTypeRef xmlns=\"http://www.railml.org/schemas/2013\">KO-HOS Horisontal traseseksjon</HorizontalGeometrySectionObjectTypeRef>\r\n  <HorizontalGeometryPointObjectTypeRef xmlns=\"http://www.railml.org/schemas/2013\">KO-HOT Horisontaltrasepunkt</HorizontalGeometryPointObjectTypeRef>\r\n  <VerticalGeometrySectionObjectTypeRef xmlns=\"http://www.railml.org/schemas/2013\">KO-VES Vertikal traseseksjon</VerticalGeometrySectionObjectTypeRef>\r\n  <VerticalGeometryPointObjectTypeRef xmlns=\"http://www.railml.org/schemas/2013\">KO-VET Vertikaltrasepunkt</VerticalGeometryPointObjectTypeRef>\r\n</eTrack>",
  "set <?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<eSwitch xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" id=\"bee0a8c5-919c-4489-b54f-01c48b2f6066\" name=\"V.\" Stage=\"\" pos=\"0\" trackContinueCourse=\"right\" trackContinueRadius=\"0\" model=\"Ustandard sporveksel\" ocpStationRef=\"\" type=\"other:unspecified\">\r\n  <Variant xmlns=\"http://www.railml.org/schemas/2013\">Ustandard sporveksel</Variant>\r\n  <LuaExpressions xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <LuaExpression Name=\"IsInsideOcpArea\" IsModelCheck=\"true\">\r\n      <Formula>NOBN_isInsideOcpArea()</Formula>\r\n      <Symbol>_ok</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"ocpStationRef\" IsModelCheck=\"false\">\r\n      <Formula>NOBN_ocpStationRef()</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"DistanceToAlignment\" IsModelCheck=\"false\">\r\n      <Formula>RightSided and .0001 or -.0001</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"RelativeElevation\" IsModelCheck=\"false\">\r\n      <Formula>0</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"name\" IsModelCheck=\"false\">\r\n      <Formula>\"V.\"..code</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"Offset3D.Z\" IsModelCheck=\"false\">\r\n      <Formula>0</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"Rotation3D.X\" IsModelCheck=\"false\">\r\n      <Formula>local g = getAlignmentInfo().gradient\nif (NOBN_isNan(g)) then \n\treturn 0, _warning\nelse\n\tlocal pitch = math.atan(g/1000.0)*(180.0/math.pi)\n\tif (Dir == \"up\") then\n\t\treturn pitch\n\telseif (Dir == \"down\") then \n\t\treturn -pitch\n\telse\n\t\treturn 90, _warning\n\tend\nend</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"Rotation3D.Y\" IsModelCheck=\"false\">\r\n      <Formula>NOBN_objectRotation3DY()</Formula>\r\n      <Symbol>_warning</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"Rotation3D.Z\" IsModelCheck=\"false\">\r\n      <Formula>if (Dir == \"down\" or Dir == \"up\") then\n\treturn 0\nelse\n\treturn 90, _warning\nend</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"model\" IsModelCheck=\"false\">\r\n      <Formula>Variant</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"Model3DName\" IsModelCheck=\"false\">\r\n      <Formula>NOBN_switchModel3DName()</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"trackContinueCourse\" IsModelCheck=\"false\">\r\n      <Formula>if (ConnectionCourse == \"right\") then \n\treturn \"left\"\nelseif (ConnectionCourse == \"left\") then\n\treturn \"right\"\nelseif (ConnectionCourse == 'straight') then\n\treturn \"Cannot use 'straight' connection course in 2-way switch, use 'left' or 'right'\", _warning\nelse\n\treturn \"Bad connection course [\"..ConnectionCourse..\"]\", _error\nend</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n  </LuaExpressions>\r\n  <CurrentModelCheckObjectsToUpdate xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <Seq xmlns=\"http://www.railml.org/schemas/2013\">0</Seq>\r\n  <Relations SourceSpace=\"sporveksel\" xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <ObjectRelations />\r\n  </Relations>\r\n  <RcSection xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <SymbolOffsets xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <CustomAttributes xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <KeyValueString Key=\"Fag\" Value=\"Overbygning\" />\r\n    <KeyValueString Key=\"Tag\" Value=\"KO-SPV-nnnnnn\" />\r\n    <KeyValueString Key=\"ObjektInfo\" Value=\"\" />\r\n    <KeyValueString Key=\"Omlegging\" Value=\"Sentralstilt / Sikringsanlegg\" />\r\n    <KeyValueString Key=\"Ledningsforing\" Value=\"Both\" />\r\n    <KeyValueString Key=\"RotateSymbol\" Value=\"False\" />\r\n    <KeyValueString Key=\"SwitchNoseType\" Value=\"Fixed\" />\r\n    <KeyValueString Key=\"IsInsideOcpArea\" Value=\"Objektet er ikke omsluttet av noen OCP områder\" />\r\n  </CustomAttributes>\r\n  <TimeStamp xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <Item>\r\n      <DateTime>2018-10-15T12:55:25.9054322+02:00</DateTime>\r\n      <User>bjslu</User>\r\n    </Item>\r\n  </TimeStamp>\r\n  <geoCoord coord=\"58.468575939915723 99.243390515999693 0\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <DrawTail xmlns=\"http://www.railml.org/schemas/2013\">false</DrawTail>\r\n  <Earthing xmlns=\"http://www.railml.org/schemas/2013\">Unknown</Earthing>\r\n  <CableMarkerColor xmlns=\"http://www.railml.org/schemas/2013\">Green</CableMarkerColor>\r\n  <Offset3D X=\"0\" Y=\"0\" Z=\"0\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <Rotation3D X=\"0\" Y=\"0\" Z=\"0\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <Annotations3D xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <AnnotationOffset X=\"0\" Y=\"0\" Z=\"0\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <AnnotationRotation xmlns=\"http://www.railml.org/schemas/2013\">0</AnnotationRotation>\r\n  <AlignmentRotation3D X=\"0\" Y=\"0\" Z=\"-1.4560275710337285\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <DirectionRotation3D X=\"0\" Y=\"0\" Z=\"0\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <PoleRouting3D xmlns=\"http://www.railml.org/schemas/2013\">None</PoleRouting3D>\r\n  <Model3DName xmlns=\"http://www.railml.org/schemas/2013\">NO-BN-3D-UNSPECIFIED</Model3DName>\r\n  <AlignmentTangent xmlns=\"http://www.railml.org/schemas/2013\">0.1147687557611681</AlignmentTangent>\r\n  <Alignment xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <Id>d5570c64-d3ff-4e4b-bb6c-797bf94e697e</Id>\r\n  </Alignment>\r\n  <Connections xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <AlignmentReference>\r\n      <Id>4c8ea38e-52e8-47a0-8b97-30bd1b5fa301</Id>\r\n    </AlignmentReference>\r\n  </Connections>\r\n  <SwitchGeometry xmlns=\"http://www.railml.org/schemas/2013\">left</SwitchGeometry>\r\n  <dir xmlns=\"http://www.railml.org/schemas/2013\">up</dir>\r\n  <ConnectionCourse xmlns=\"http://www.railml.org/schemas/2013\">left</ConnectionCourse>\r\n</eSwitch>",
  "set <?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<eSwitch xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" id=\"7735eba1-e146-480e-b6b2-255116d7e996\" name=\"V.\" Stage=\"\" pos=\"0\" trackContinueCourse=\"left\" trackContinueRadius=\"0\" model=\"Ustandard sporveksel\" ocpStationRef=\"\" type=\"other:unspecified\">\r\n  <Variant xmlns=\"http://www.railml.org/schemas/2013\">Ustandard sporveksel</Variant>\r\n  <LuaExpressions xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <LuaExpression Name=\"IsInsideOcpArea\" IsModelCheck=\"true\">\r\n      <Formula>NOBN_isInsideOcpArea()</Formula>\r\n      <Symbol>_ok</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"ocpStationRef\" IsModelCheck=\"false\">\r\n      <Formula>NOBN_ocpStationRef()</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"DistanceToAlignment\" IsModelCheck=\"false\">\r\n      <Formula>RightSided and .0001 or -.0001</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"RelativeElevation\" IsModelCheck=\"false\">\r\n      <Formula>0</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"name\" IsModelCheck=\"false\">\r\n      <Formula>\"V.\"..code</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"Offset3D.Z\" IsModelCheck=\"false\">\r\n      <Formula>0</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"Rotation3D.X\" IsModelCheck=\"false\">\r\n      <Formula>local g = getAlignmentInfo().gradient\nif (NOBN_isNan(g)) then \n\treturn 0, _warning\nelse\n\tlocal pitch = math.atan(g/1000.0)*(180.0/math.pi)\n\tif (Dir == \"up\") then\n\t\treturn pitch\n\telseif (Dir == \"down\") then \n\t\treturn -pitch\n\telse\n\t\treturn 90, _warning\n\tend\nend</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"Rotation3D.Y\" IsModelCheck=\"false\">\r\n      <Formula>NOBN_objectRotation3DY()</Formula>\r\n      <Symbol>_warning</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"Rotation3D.Z\" IsModelCheck=\"false\">\r\n      <Formula>if (Dir == \"down\" or Dir == \"up\") then\n\treturn 0\nelse\n\treturn 90, _warning\nend</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"model\" IsModelCheck=\"false\">\r\n      <Formula>Variant</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"Model3DName\" IsModelCheck=\"false\">\r\n      <Formula>NOBN_switchModel3DName()</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"trackContinueCourse\" IsModelCheck=\"false\">\r\n      <Formula>if (ConnectionCourse == \"right\") then \n\treturn \"left\"\nelseif (ConnectionCourse == \"left\") then\n\treturn \"right\"\nelseif (ConnectionCourse == 'straight') then\n\treturn \"Cannot use 'straight' connection course in 2-way switch, use 'left' or 'right'\", _warning\nelse\n\treturn \"Bad connection course [\"..ConnectionCourse..\"]\", _error\nend</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n  </LuaExpressions>\r\n  <CurrentModelCheckObjectsToUpdate xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <Seq xmlns=\"http://www.railml.org/schemas/2013\">0</Seq>\r\n  <Relations SourceSpace=\"sporveksel\" xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <ObjectRelations />\r\n  </Relations>\r\n  <RcSection xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <SymbolOffsets xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <CustomAttributes xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <KeyValueString Key=\"Fag\" Value=\"Overbygning\" />\r\n    <KeyValueString Key=\"Tag\" Value=\"KO-SPV-nnnnnn\" />\r\n    <KeyValueString Key=\"ObjektInfo\" Value=\"\" />\r\n    <KeyValueString Key=\"Omlegging\" Value=\"Sentralstilt / Sikringsanlegg\" />\r\n    <KeyValueString Key=\"Ledningsforing\" Value=\"Both\" />\r\n    <KeyValueString Key=\"RotateSymbol\" Value=\"False\" />\r\n    <KeyValueString Key=\"SwitchNoseType\" Value=\"Fixed\" />\r\n    <KeyValueString Key=\"IsInsideOcpArea\" Value=\"Objektet er ikke omsluttet av noen OCP områder\" />\r\n  </CustomAttributes>\r\n  <TimeStamp xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <Item>\r\n      <DateTime>2018-10-15T12:55:29.4999594+02:00</DateTime>\r\n      <User>bjslu</User>\r\n    </Item>\r\n  </TimeStamp>\r\n  <geoCoord coord=\"121.46775064259288 106.50584257090581 0\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <DrawTail xmlns=\"http://www.railml.org/schemas/2013\">false</DrawTail>\r\n  <Earthing xmlns=\"http://www.railml.org/schemas/2013\">Unknown</Earthing>\r\n  <CableMarkerColor xmlns=\"http://www.railml.org/schemas/2013\">Green</CableMarkerColor>\r\n  <Offset3D X=\"0\" Y=\"0\" Z=\"0\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <Rotation3D X=\"-0\" Y=\"0\" Z=\"0\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <Annotations3D xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <AnnotationOffset X=\"0\" Y=\"0\" Z=\"0\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <AnnotationRotation xmlns=\"http://www.railml.org/schemas/2013\">0</AnnotationRotation>\r\n  <AlignmentRotation3D X=\"0\" Y=\"0\" Z=\"-1.4560275710337285\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <DirectionRotation3D X=\"0\" Y=\"0\" Z=\"3.1415926535897931\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <PoleRouting3D xmlns=\"http://www.railml.org/schemas/2013\">None</PoleRouting3D>\r\n  <Model3DName xmlns=\"http://www.railml.org/schemas/2013\">NO-BN-3D-UNSPECIFIED</Model3DName>\r\n  <AlignmentTangent xmlns=\"http://www.railml.org/schemas/2013\">0.1147687557611681</AlignmentTangent>\r\n  <Alignment xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <Id>d5570c64-d3ff-4e4b-bb6c-797bf94e697e</Id>\r\n  </Alignment>\r\n  <Connections xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <AlignmentReference>\r\n      <Id>4c8ea38e-52e8-47a0-8b97-30bd1b5fa301</Id>\r\n    </AlignmentReference>\r\n  </Connections>\r\n  <SwitchGeometry xmlns=\"http://www.railml.org/schemas/2013\">right</SwitchGeometry>\r\n  <dir xmlns=\"http://www.railml.org/schemas/2013\">down</dir>\r\n  <ConnectionCourse xmlns=\"http://www.railml.org/schemas/2013\">right</ConnectionCourse>\r\n</eSwitch>",
  "set <?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<tSignal xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" id=\"71bb4ff0-3487-4582-b85a-d4fb7bd8d6bd\" name=\"Hs.\" Stage=\"\" pos=\"0\" dir=\"up\" ruleCode=\"\" sight=\"250\" type=\"main\" ocpStationRef=\"\">\r\n  <LuaExpressions xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <LuaExpression Name=\"IsyPostnotat\" IsModelCheck=\"false\">\r\n      <Formula>local s = \"\"\nlocal first = true\nif (prop(\"Hovedsignal\") ~= \"-\") then \n\ts = prop(\"Hovedsignal\")\n\tfirst = false\nend \nif (prop(\"Forsignal\") == \"Ja\") then \n\tif (first) then s = \"Fs\" else s = s..\"-Fs\" end \n\tfirst = false\nend \nif (prop(\"Dvergsignal\") == \"Ja\") then \n\tif (first) then s = \"Ds\" else s = s..\"-Ds\" end\n\tfirst = false\nend\nif (prop(\"Middelkontrollampe\") == \"Ja\") then\n\tif (first) then s = \"Mk\" else s = s..\"-Mk\" end\t\t\n\tfirst = false\nend\nif (fromDisplayName(\"Forsiktig kjøring\") == \"Ja\") then\n\tif (first) then s = \"FKs\" else s = s..\"-FKs\" end\t\t\n\tfirst = false\nend\nif (fromDisplayName(\"Hovedlinjesignal\") == \"Ja\") then \n\tif (first) then s = \"HLs\" else s = s..\"-HLs\" end\t\t\n\tfirst = false\nend\nif (fromDisplayName(\"Lysende hastighetssignal\") == \"Ja\") then \n\tif (first) then s = \"Hast\" else s = s..\"-Hast\" end\t\t\n\tfirst = false\nend \nif (fromDisplayName(\"Høyt skiftesignal\") == \"Ja\") then \n\tif (first) then s = \"Z\" else s = s..\"-Z\" end\t\t\n\tfirst = false\nend \nreturn \"Navn: \"..name..\"  Bestykning: \"..s..\"  Beskrivelse: \"..description</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"IsyProsesskode\" IsModelCheck=\"false\">\r\n      <Formula>if MainSignal == \"Hs3\" then\n\tif Function == \"home\" then return \"3.52.131\"\n\telseif Function == \"exit\" then return \"3.52.132\"\n\telse return \"3.52.13\"\n\tend\nelseif MainSignal == \"Hs2\" then\n\tif Function == \"home\" then return \"3.52.141\"\n\telseif Function == \"exit\" then return \"3.52.142\"\n\telse return \"3.52.14\"\n\tend\nend\n\nreturn \"Prosesskode ikke definert\"</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"IsyProsessnavn\" IsModelCheck=\"false\">\r\n      <Formula>if MainSignal == \"Hs3\" then\n\tif Function == \"home\" then return \"Lyssignal, 3-lys; Innkjørhovedsignal\"\n\telseif Function == \"exit\" then return \"Lyssignal, 3-lys; Utkjørhovedsignal\"\n\telse return \"Lyssignal, 3-lys\"\n\tend\nelseif MainSignal == \"Hs2\" then\n\tif Function == \"home\" then return \"Lyssignal, 2-lys; Innkjørhovedsignal\"\n\telseif Function == \"exit\" then return \"Lyssignal, 2-lys; Utkjørhovedsignal\"\n\telse return \"Lyssignal, 2-lys\"\n\tend\nend\n\nreturn \"Prosessnavn ikke definert\"</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"IsySted\" IsModelCheck=\"false\">\r\n      <Formula>if OcpStationReference == nil then return \"OCP mangler\",_warning end\n \nreturn OcpStationReference.code</Formula>\r\n      <Symbol>_warning</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"name\" IsModelCheck=\"false\">\r\n      <Formula>NOBN_signalLongName()</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"RelativeElevation\" IsModelCheck=\"false\">\r\n      <Formula>PoleOrYoke == \"Pole\" and 0 or 7.90</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"SikkerhetsavstandTilKL\" IsModelCheck=\"true\">\r\n      <Formula>if (DwarfSignal == \"Ja\" and MainSignal == \"-\") then return \"Frittstående Dvergsignal - Sikkerhetsavstand til KL ikke relevant\", _noSymbol end\nradius = 6\ncloseObjects = getNearbyPointObjects2D(\"EH-MAS KL-master\", radius)\ncount = getCollectionLength(closeObjects)\nUpdateObjects = {}\nif(count == 0) then\n\treturn \"Ingen KL-master innenfor \"..radius..\" meter\", _ok\nelse\n\ti = 0\n\ttext = \"KL-Mast\"\n\tif (count &gt; 1) then text = text..\"ene\" end\n\ttext = text..\" [\"\n\twhile (i ~= count) do\n\t\ttext = text..closeObjects[i].name\n\t\ttable.insert(UpdateObjects, closeObjects[i])\n\t\ti = i+1\n\t\tif (i ~= count) then text = text..\", \" end\n\tend\n\treturn text..\"] er innenfor \"..radius..\" meter\", UpdateObjects, _warning\nend</Formula>\r\n      <Symbol>_ok</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"AvstandTilSpor\" IsModelCheck=\"true\">\r\n      <Formula>if (Alignment == null or getAlignmentInfo().AlignmentName == \"\") then return \"Mangler spor\", _warning end\nif (DwarfSignal == \"Ja\" and MainSignal == \"-\" and PoleOrYoke == \"Yoke\") then return \"Dverg i åk - gjør manuell profilkontroll\", _noSymbol end\nif (RelativeElevation &gt; 0.3) then return \"Signal med avvikende montasjehøyde - gjør manuell profilkontroll\", _noSymbol end\nclosestTrack = getClosestTracks()[0]\nif (closestTrack == null) then return \"Ingen spor i tegningen\", _noSymbol end\nalignmentInfo = getAlignmentInfo(closestTrack.id)\ncurveRadius = alignmentInfo.CurveRadius\nKi = 0.0\nKy = 0.0\nlimit = 2.12\nif (DwarfSignal == \"Ja\" and MainSignal == \"-\") then\n\tlimit = limit + 0.25\nelse\n\tlimit = limit + 0.4\nend\ndistToAlignment = math.abs(alignmentInfo.DistanceToAlignment)\nrightSided = alignmentInfo.DistanceToAlignment &lt;= 0.0\nif (curveRadius ~= math.huge) then\n\tKi = 81000.0/(2*curveRadius)\n\tKy = 63000.0/(2*curveRadius)\nend\nif ((alignmentInfo.CurveRotation == \"cw\" and not(rightSided)) or (alignmentInfo.CurveRotation == \"ccw\" and rightSided)) then \n\tlimit = limit + (Ky/1000.0)\nelse\n\tlimit = limit + (Ki/1000.0)\nend\nif (distToAlignment &lt;= limit) then\n\treturn string.format(\"%.3f\", distToAlignment)..\": Ugyldig - For nær spor '\"..alignmentInfo.AlignmentName..\"', øk avstand\", _error\nelseif (distToAlignment &gt; limit and distToAlignment &lt;= (limit + 0.4)) then\n\treturn string.format(\"%.3f\", distToAlignment)..\": Advarsel - Innenfor byggetoleranse men under anbefalt verdi, øk avstand\", _warning\nelse\n\treturn string.format(\"%.3f\", distToAlignment)..\": OK - Innenfor byggetoleranse med god margin\", _ok\nend</Formula>\r\n      <Symbol>_ok</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"SymbolFrame\" IsModelCheck=\"false\">\r\n      <Formula>NOBN_setModelCheckFrame()</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"IsInsideOcpArea\" IsModelCheck=\"true\">\r\n      <Formula>NOBN_isInsideOcpArea()</Formula>\r\n      <Symbol>_ok</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"ocpStationRef\" IsModelCheck=\"false\">\r\n      <Formula>area = NOBN_getAreaOfType(\"OCP Area\")\nreturn (area == null) and \"\" or area.id</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n  </LuaExpressions>\r\n  <CurrentModelCheckObjectsToUpdate xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <Seq xmlns=\"http://www.railml.org/schemas/2013\">0</Seq>\r\n  <Relations SourceSpace=\"signal\" xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <ObjectRelations />\r\n  </Relations>\r\n  <RcSection xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <SymbolOffsets xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <CustomAttributes xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <KeyValueString Key=\"Fag\" Value=\"Signal\" />\r\n    <KeyValueString Key=\"Tag\" Value=\"SA-SIG-nnnnnn\" />\r\n    <KeyValueString Key=\"ObjektInfo\" Value=\"\" />\r\n    <KeyValueString Key=\"MainSignal\" Value=\"Hs3\" />\r\n    <KeyValueString Key=\"EndOfTrainRoute\" Value=\"-\" />\r\n    <KeyValueString Key=\"DistantSignal\" Value=\"-\" />\r\n    <KeyValueString Key=\"DwarfSignal\" Value=\"Ja\" />\r\n    <KeyValueString Key=\"PositionLamp\" Value=\"-\" />\r\n    <KeyValueString Key=\"CautiousDrivingSignal\" Value=\"-\" />\r\n    <KeyValueString Key=\"LineSignal\" Value=\"-\" />\r\n    <KeyValueString Key=\"HighShuntingSignal\" Value=\"-\" />\r\n    <KeyValueString Key=\"OpticalSpeedSignal\" Value=\"-\" />\r\n    <KeyValueString Key=\"PoleOrYoke\" Value=\"Pole\" />\r\n    <KeyValueString Key=\"SikkerhetsavstandTilKL\" Value=\"Ingen KL-master innenfor 6 meter\" />\r\n    <KeyValueString Key=\"AvstandTilSpor\" Value=\"3.500: OK - Innenfor byggetoleranse med god margin\" />\r\n    <KeyValueString Key=\"LineSignalValue\" Value=\"\" />\r\n    <KeyValueString Key=\"OpticalSpeedSignalValue\" Value=\"\" />\r\n    <KeyValueString Key=\"IsyProsesskode\" Value=\"3.52.13\" />\r\n    <KeyValueString Key=\"IsyProsessnavn\" Value=\"Lyssignal, 3-lys\" />\r\n    <KeyValueString Key=\"IsyMengde\" Value=\"1\" />\r\n    <KeyValueString Key=\"IsyEnhet\" Value=\"stk\" />\r\n    <KeyValueString Key=\"IsySted\" Value=\"OCP mangler\" />\r\n    <KeyValueString Key=\"IsyPostnotat\" Value=\"Navn: Hs.  Bestykning: Hs3-Ds  Beskrivelse: \" />\r\n    <KeyValueString Key=\"IsInsideOcpArea\" Value=\"Objektet er ikke omsluttet av noen OCP områder\" />\r\n  </CustomAttributes>\r\n  <TimeStamp xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <Item>\r\n      <DateTime>2018-10-15T12:55:48.3066832+02:00</DateTime>\r\n      <User>bjslu</User>\r\n    </Item>\r\n  </TimeStamp>\r\n  <geoCoord coord=\"106.22341050216048 101.22526759166917 0\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <DrawTail xmlns=\"http://www.railml.org/schemas/2013\">false</DrawTail>\r\n  <Earthing xmlns=\"http://www.railml.org/schemas/2013\">Unknown</Earthing>\r\n  <CableMarkerColor xmlns=\"http://www.railml.org/schemas/2013\">Green</CableMarkerColor>\r\n  <Offset3D X=\"0\" Y=\"0\" Z=\"0\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <Rotation3D X=\"0\" Y=\"0\" Z=\"0\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <Annotations3D xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <CadAnnotation Tag=\"ISY Prosesskode\" Invisible=\"true\" Height=\"2\">\r\n      <Formula>IsyProsesskode</Formula>\r\n      <Offset X=\"0\" Y=\"30\" Z=\"0\" />\r\n      <Attitude X=\"0\" Y=\"0\" Z=\"0\" />\r\n    </CadAnnotation>\r\n    <CadAnnotation Tag=\"ISY Prosessnavn\" Invisible=\"true\" Height=\"2\">\r\n      <Formula>IsyProsessnavn</Formula>\r\n      <Offset X=\"0\" Y=\"25\" Z=\"0\" />\r\n      <Attitude X=\"0\" Y=\"0\" Z=\"0\" />\r\n    </CadAnnotation>\r\n    <CadAnnotation Tag=\"ISY Mengde\" Invisible=\"true\" Height=\"2\">\r\n      <Formula>IsyMengde</Formula>\r\n      <Offset X=\"0\" Y=\"20\" Z=\"0\" />\r\n      <Attitude X=\"0\" Y=\"0\" Z=\"0\" />\r\n    </CadAnnotation>\r\n    <CadAnnotation Tag=\"ISY Enhet\" Invisible=\"true\" Height=\"2\">\r\n      <Formula>IsyEnhet</Formula>\r\n      <Offset X=\"0\" Y=\"15\" Z=\"0\" />\r\n      <Attitude X=\"0\" Y=\"0\" Z=\"0\" />\r\n    </CadAnnotation>\r\n    <CadAnnotation Tag=\"ISY Sted\" Invisible=\"true\" Height=\"2\">\r\n      <Formula>IsySted</Formula>\r\n      <Offset X=\"0\" Y=\"10\" Z=\"0\" />\r\n      <Attitude X=\"0\" Y=\"0\" Z=\"0\" />\r\n    </CadAnnotation>\r\n    <CadAnnotation Tag=\"ISY Postnotat\" Invisible=\"true\" Height=\"2\">\r\n      <Formula>IsyPostnotat</Formula>\r\n      <Offset X=\"0\" Y=\"5\" Z=\"0\" />\r\n      <Attitude X=\"0\" Y=\"0\" Z=\"0\" />\r\n    </CadAnnotation>\r\n  </Annotations3D>\r\n  <AnnotationOffset X=\"0\" Y=\"0\" Z=\"0\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <AnnotationRotation xmlns=\"http://www.railml.org/schemas/2013\">0</AnnotationRotation>\r\n  <AlignmentRotation3D X=\"0\" Y=\"0\" Z=\"-1.4560275710337285\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <DirectionRotation3D X=\"0\" Y=\"0\" Z=\"0\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <PoleRouting3D xmlns=\"http://www.railml.org/schemas/2013\">None</PoleRouting3D>\r\n  <Model3DName xmlns=\"http://www.railml.org/schemas/2013\">NO-BN-3D-SA-SIG-NSI63-HS-3-LYS-MED-DS</Model3DName>\r\n  <AlignmentTangent xmlns=\"http://www.railml.org/schemas/2013\">0.1147687557611681</AlignmentTangent>\r\n  <Alignment xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <Id>d5570c64-d3ff-4e4b-bb6c-797bf94e697e</Id>\r\n  </Alignment>\r\n  <InheritPosition xmlns=\"http://www.railml.org/schemas/2013\">false</InheritPosition>\r\n  <speed xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <etcs xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <levelCrossing xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <trainRadio xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <catenary xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <line xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <milepost xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <braking xmlns=\"http://www.railml.org/schemas/2013\" />\r\n</tSignal>",
  "set <?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<tSignal xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" id=\"71bb4ff0-3487-4582-b85a-d4fb7bd8d6bd\" name=\"Hs.\" Stage=\"\" pos=\"0\" dir=\"up\" ruleCode=\"\" sight=\"250\" type=\"main\" ocpStationRef=\"\">\r\n  <LuaExpressions xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <LuaExpression Name=\"IsyPostnotat\" IsModelCheck=\"false\">\r\n      <Formula>local s = \"\"\nlocal first = true\nif (prop(\"Hovedsignal\") ~= \"-\") then \n\ts = prop(\"Hovedsignal\")\n\tfirst = false\nend \nif (prop(\"Forsignal\") == \"Ja\") then \n\tif (first) then s = \"Fs\" else s = s..\"-Fs\" end \n\tfirst = false\nend \nif (prop(\"Dvergsignal\") == \"Ja\") then \n\tif (first) then s = \"Ds\" else s = s..\"-Ds\" end\n\tfirst = false\nend\nif (prop(\"Middelkontrollampe\") == \"Ja\") then\n\tif (first) then s = \"Mk\" else s = s..\"-Mk\" end\t\t\n\tfirst = false\nend\nif (fromDisplayName(\"Forsiktig kjøring\") == \"Ja\") then\n\tif (first) then s = \"FKs\" else s = s..\"-FKs\" end\t\t\n\tfirst = false\nend\nif (fromDisplayName(\"Hovedlinjesignal\") == \"Ja\") then \n\tif (first) then s = \"HLs\" else s = s..\"-HLs\" end\t\t\n\tfirst = false\nend\nif (fromDisplayName(\"Lysende hastighetssignal\") == \"Ja\") then \n\tif (first) then s = \"Hast\" else s = s..\"-Hast\" end\t\t\n\tfirst = false\nend \nif (fromDisplayName(\"Høyt skiftesignal\") == \"Ja\") then \n\tif (first) then s = \"Z\" else s = s..\"-Z\" end\t\t\n\tfirst = false\nend \nreturn \"Navn: \"..name..\"  Bestykning: \"..s..\"  Beskrivelse: \"..description</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"IsyProsesskode\" IsModelCheck=\"false\">\r\n      <Formula>if MainSignal == \"Hs3\" then\n\tif Function == \"home\" then return \"3.52.131\"\n\telseif Function == \"exit\" then return \"3.52.132\"\n\telse return \"3.52.13\"\n\tend\nelseif MainSignal == \"Hs2\" then\n\tif Function == \"home\" then return \"3.52.141\"\n\telseif Function == \"exit\" then return \"3.52.142\"\n\telse return \"3.52.14\"\n\tend\nend\n\nreturn \"Prosesskode ikke definert\"</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"IsyProsessnavn\" IsModelCheck=\"false\">\r\n      <Formula>if MainSignal == \"Hs3\" then\n\tif Function == \"home\" then return \"Lyssignal, 3-lys; Innkjørhovedsignal\"\n\telseif Function == \"exit\" then return \"Lyssignal, 3-lys; Utkjørhovedsignal\"\n\telse return \"Lyssignal, 3-lys\"\n\tend\nelseif MainSignal == \"Hs2\" then\n\tif Function == \"home\" then return \"Lyssignal, 2-lys; Innkjørhovedsignal\"\n\telseif Function == \"exit\" then return \"Lyssignal, 2-lys; Utkjørhovedsignal\"\n\telse return \"Lyssignal, 2-lys\"\n\tend\nend\n\nreturn \"Prosessnavn ikke definert\"</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"IsySted\" IsModelCheck=\"false\">\r\n      <Formula>if OcpStationReference == nil then return \"OCP mangler\",_warning end\n \nreturn OcpStationReference.code</Formula>\r\n      <Symbol>_warning</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"name\" IsModelCheck=\"false\">\r\n      <Formula>NOBN_signalLongName()</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"RelativeElevation\" IsModelCheck=\"false\">\r\n      <Formula>PoleOrYoke == \"Pole\" and 0 or 7.90</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"SikkerhetsavstandTilKL\" IsModelCheck=\"true\">\r\n      <Formula>if (DwarfSignal == \"Ja\" and MainSignal == \"-\") then return \"Frittstående Dvergsignal - Sikkerhetsavstand til KL ikke relevant\", _noSymbol end\nradius = 6\ncloseObjects = getNearbyPointObjects2D(\"EH-MAS KL-master\", radius)\ncount = getCollectionLength(closeObjects)\nUpdateObjects = {}\nif(count == 0) then\n\treturn \"Ingen KL-master innenfor \"..radius..\" meter\", _ok\nelse\n\ti = 0\n\ttext = \"KL-Mast\"\n\tif (count &gt; 1) then text = text..\"ene\" end\n\ttext = text..\" [\"\n\twhile (i ~= count) do\n\t\ttext = text..closeObjects[i].name\n\t\ttable.insert(UpdateObjects, closeObjects[i])\n\t\ti = i+1\n\t\tif (i ~= count) then text = text..\", \" end\n\tend\n\treturn text..\"] er innenfor \"..radius..\" meter\", UpdateObjects, _warning\nend</Formula>\r\n      <Symbol>_ok</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"AvstandTilSpor\" IsModelCheck=\"true\">\r\n      <Formula>if (Alignment == null or getAlignmentInfo().AlignmentName == \"\") then return \"Mangler spor\", _warning end\nif (DwarfSignal == \"Ja\" and MainSignal == \"-\" and PoleOrYoke == \"Yoke\") then return \"Dverg i åk - gjør manuell profilkontroll\", _noSymbol end\nif (RelativeElevation &gt; 0.3) then return \"Signal med avvikende montasjehøyde - gjør manuell profilkontroll\", _noSymbol end\nclosestTrack = getClosestTracks()[0]\nif (closestTrack == null) then return \"Ingen spor i tegningen\", _noSymbol end\nalignmentInfo = getAlignmentInfo(closestTrack.id)\ncurveRadius = alignmentInfo.CurveRadius\nKi = 0.0\nKy = 0.0\nlimit = 2.12\nif (DwarfSignal == \"Ja\" and MainSignal == \"-\") then\n\tlimit = limit + 0.25\nelse\n\tlimit = limit + 0.4\nend\ndistToAlignment = math.abs(alignmentInfo.DistanceToAlignment)\nrightSided = alignmentInfo.DistanceToAlignment &lt;= 0.0\nif (curveRadius ~= math.huge) then\n\tKi = 81000.0/(2*curveRadius)\n\tKy = 63000.0/(2*curveRadius)\nend\nif ((alignmentInfo.CurveRotation == \"cw\" and not(rightSided)) or (alignmentInfo.CurveRotation == \"ccw\" and rightSided)) then \n\tlimit = limit + (Ky/1000.0)\nelse\n\tlimit = limit + (Ki/1000.0)\nend\nif (distToAlignment &lt;= limit) then\n\treturn string.format(\"%.3f\", distToAlignment)..\": Ugyldig - For nær spor '\"..alignmentInfo.AlignmentName..\"', øk avstand\", _error\nelseif (distToAlignment &gt; limit and distToAlignment &lt;= (limit + 0.4)) then\n\treturn string.format(\"%.3f\", distToAlignment)..\": Advarsel - Innenfor byggetoleranse men under anbefalt verdi, øk avstand\", _warning\nelse\n\treturn string.format(\"%.3f\", distToAlignment)..\": OK - Innenfor byggetoleranse med god margin\", _ok\nend</Formula>\r\n      <Symbol>_ok</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"SymbolFrame\" IsModelCheck=\"false\">\r\n      <Formula>NOBN_setModelCheckFrame()</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"IsInsideOcpArea\" IsModelCheck=\"true\">\r\n      <Formula>NOBN_isInsideOcpArea()</Formula>\r\n      <Symbol>_ok</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"ocpStationRef\" IsModelCheck=\"false\">\r\n      <Formula>area = NOBN_getAreaOfType(\"OCP Area\")\nreturn (area == null) and \"\" or area.id</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n  </LuaExpressions>\r\n  <CurrentModelCheckObjectsToUpdate xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <Seq xmlns=\"http://www.railml.org/schemas/2013\">0</Seq>\r\n  <Relations SourceSpace=\"signal\" xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <ObjectRelations />\r\n  </Relations>\r\n  <RcSection xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <SymbolOffsets xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <CustomAttributes xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <KeyValueString Key=\"Fag\" Value=\"Signal\" />\r\n    <KeyValueString Key=\"Tag\" Value=\"SA-SIG-nnnnnn\" />\r\n    <KeyValueString Key=\"ObjektInfo\" Value=\"\" />\r\n    <KeyValueString Key=\"MainSignal\" Value=\"Hs3\" />\r\n    <KeyValueString Key=\"EndOfTrainRoute\" Value=\"-\" />\r\n    <KeyValueString Key=\"DistantSignal\" Value=\"-\" />\r\n    <KeyValueString Key=\"DwarfSignal\" Value=\"Ja\" />\r\n    <KeyValueString Key=\"PositionLamp\" Value=\"-\" />\r\n    <KeyValueString Key=\"CautiousDrivingSignal\" Value=\"-\" />\r\n    <KeyValueString Key=\"LineSignal\" Value=\"-\" />\r\n    <KeyValueString Key=\"HighShuntingSignal\" Value=\"-\" />\r\n    <KeyValueString Key=\"OpticalSpeedSignal\" Value=\"-\" />\r\n    <KeyValueString Key=\"PoleOrYoke\" Value=\"Pole\" />\r\n    <KeyValueString Key=\"SikkerhetsavstandTilKL\" Value=\"Ingen KL-master innenfor 6 meter\" />\r\n    <KeyValueString Key=\"AvstandTilSpor\" Value=\"3.500: OK - Innenfor byggetoleranse med god margin\" />\r\n    <KeyValueString Key=\"LineSignalValue\" Value=\"\" />\r\n    <KeyValueString Key=\"OpticalSpeedSignalValue\" Value=\"\" />\r\n    <KeyValueString Key=\"IsyProsesskode\" Value=\"3.52.13\" />\r\n    <KeyValueString Key=\"IsyProsessnavn\" Value=\"Lyssignal, 3-lys\" />\r\n    <KeyValueString Key=\"IsyMengde\" Value=\"1\" />\r\n    <KeyValueString Key=\"IsyEnhet\" Value=\"stk\" />\r\n    <KeyValueString Key=\"IsySted\" Value=\"OCP mangler\" />\r\n    <KeyValueString Key=\"IsyPostnotat\" Value=\"Navn: Hs.  Bestykning: Hs3-Ds  Beskrivelse: \" />\r\n    <KeyValueString Key=\"IsInsideOcpArea\" Value=\"Objektet er ikke omsluttet av noen OCP områder\" />\r\n  </CustomAttributes>\r\n  <TimeStamp xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <Item>\r\n      <DateTime>2018-10-15T12:55:48.3066832+02:00</DateTime>\r\n      <User>bjslu</User>\r\n    </Item>\r\n  </TimeStamp>\r\n  <geoCoord coord=\"106.22341050216048 101.22526759166917 0\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <DrawTail xmlns=\"http://www.railml.org/schemas/2013\">false</DrawTail>\r\n  <Earthing xmlns=\"http://www.railml.org/schemas/2013\">Unknown</Earthing>\r\n  <CableMarkerColor xmlns=\"http://www.railml.org/schemas/2013\">Green</CableMarkerColor>\r\n  <Offset3D X=\"0\" Y=\"0\" Z=\"0\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <Rotation3D X=\"0\" Y=\"0\" Z=\"0\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <Annotations3D xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <CadAnnotation Tag=\"ISY Prosesskode\" Invisible=\"true\" Height=\"2\">\r\n      <Formula>IsyProsesskode</Formula>\r\n      <Offset X=\"0\" Y=\"30\" Z=\"0\" />\r\n      <Attitude X=\"0\" Y=\"0\" Z=\"0\" />\r\n    </CadAnnotation>\r\n    <CadAnnotation Tag=\"ISY Prosessnavn\" Invisible=\"true\" Height=\"2\">\r\n      <Formula>IsyProsessnavn</Formula>\r\n      <Offset X=\"0\" Y=\"25\" Z=\"0\" />\r\n      <Attitude X=\"0\" Y=\"0\" Z=\"0\" />\r\n    </CadAnnotation>\r\n    <CadAnnotation Tag=\"ISY Mengde\" Invisible=\"true\" Height=\"2\">\r\n      <Formula>IsyMengde</Formula>\r\n      <Offset X=\"0\" Y=\"20\" Z=\"0\" />\r\n      <Attitude X=\"0\" Y=\"0\" Z=\"0\" />\r\n    </CadAnnotation>\r\n    <CadAnnotation Tag=\"ISY Enhet\" Invisible=\"true\" Height=\"2\">\r\n      <Formula>IsyEnhet</Formula>\r\n      <Offset X=\"0\" Y=\"15\" Z=\"0\" />\r\n      <Attitude X=\"0\" Y=\"0\" Z=\"0\" />\r\n    </CadAnnotation>\r\n    <CadAnnotation Tag=\"ISY Sted\" Invisible=\"true\" Height=\"2\">\r\n      <Formula>IsySted</Formula>\r\n      <Offset X=\"0\" Y=\"10\" Z=\"0\" />\r\n      <Attitude X=\"0\" Y=\"0\" Z=\"0\" />\r\n    </CadAnnotation>\r\n    <CadAnnotation Tag=\"ISY Postnotat\" Invisible=\"true\" Height=\"2\">\r\n      <Formula>IsyPostnotat</Formula>\r\n      <Offset X=\"0\" Y=\"5\" Z=\"0\" />\r\n      <Attitude X=\"0\" Y=\"0\" Z=\"0\" />\r\n    </CadAnnotation>\r\n  </Annotations3D>\r\n  <AnnotationOffset X=\"0\" Y=\"0\" Z=\"0\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <AnnotationRotation xmlns=\"http://www.railml.org/schemas/2013\">0</AnnotationRotation>\r\n  <AlignmentRotation3D X=\"0\" Y=\"0\" Z=\"-1.4560275710337285\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <DirectionRotation3D X=\"0\" Y=\"0\" Z=\"0\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <PoleRouting3D xmlns=\"http://www.railml.org/schemas/2013\">None</PoleRouting3D>\r\n  <Model3DName xmlns=\"http://www.railml.org/schemas/2013\">NO-BN-3D-SA-SIG-NSI63-HS-3-LYS-MED-DS</Model3DName>\r\n  <AlignmentTangent xmlns=\"http://www.railml.org/schemas/2013\">0.1147687557611681</AlignmentTangent>\r\n  <Alignment xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <Id>d5570c64-d3ff-4e4b-bb6c-797bf94e697e</Id>\r\n  </Alignment>\r\n  <InheritPosition xmlns=\"http://www.railml.org/schemas/2013\">false</InheritPosition>\r\n  <speed xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <etcs xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <levelCrossing xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <trainRadio xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <catenary xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <line xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <milepost xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <braking xmlns=\"http://www.railml.org/schemas/2013\" />\r\n</tSignal>",
  "set <?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<tSignal xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" id=\"5370beaf-ddae-4642-9179-7cedf0f90ca4\" name=\"Hs.\" Stage=\"\" pos=\"0\" dir=\"up\" ruleCode=\"\" sight=\"250\" type=\"main\" ocpStationRef=\"\">\r\n  <LuaExpressions xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <LuaExpression Name=\"IsyPostnotat\" IsModelCheck=\"false\">\r\n      <Formula>local s = \"\"\nlocal first = true\nif (prop(\"Hovedsignal\") ~= \"-\") then \n\ts = prop(\"Hovedsignal\")\n\tfirst = false\nend \nif (prop(\"Forsignal\") == \"Ja\") then \n\tif (first) then s = \"Fs\" else s = s..\"-Fs\" end \n\tfirst = false\nend \nif (prop(\"Dvergsignal\") == \"Ja\") then \n\tif (first) then s = \"Ds\" else s = s..\"-Ds\" end\n\tfirst = false\nend\nif (prop(\"Middelkontrollampe\") == \"Ja\") then\n\tif (first) then s = \"Mk\" else s = s..\"-Mk\" end\t\t\n\tfirst = false\nend\nif (fromDisplayName(\"Forsiktig kjøring\") == \"Ja\") then\n\tif (first) then s = \"FKs\" else s = s..\"-FKs\" end\t\t\n\tfirst = false\nend\nif (fromDisplayName(\"Hovedlinjesignal\") == \"Ja\") then \n\tif (first) then s = \"HLs\" else s = s..\"-HLs\" end\t\t\n\tfirst = false\nend\nif (fromDisplayName(\"Lysende hastighetssignal\") == \"Ja\") then \n\tif (first) then s = \"Hast\" else s = s..\"-Hast\" end\t\t\n\tfirst = false\nend \nif (fromDisplayName(\"Høyt skiftesignal\") == \"Ja\") then \n\tif (first) then s = \"Z\" else s = s..\"-Z\" end\t\t\n\tfirst = false\nend \nreturn \"Navn: \"..name..\"  Bestykning: \"..s..\"  Beskrivelse: \"..description</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"IsyProsesskode\" IsModelCheck=\"false\">\r\n      <Formula>if MainSignal == \"Hs3\" then\n\tif Function == \"home\" then return \"3.52.131\"\n\telseif Function == \"exit\" then return \"3.52.132\"\n\telse return \"3.52.13\"\n\tend\nelseif MainSignal == \"Hs2\" then\n\tif Function == \"home\" then return \"3.52.141\"\n\telseif Function == \"exit\" then return \"3.52.142\"\n\telse return \"3.52.14\"\n\tend\nend\n\nreturn \"Prosesskode ikke definert\"</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"IsyProsessnavn\" IsModelCheck=\"false\">\r\n      <Formula>if MainSignal == \"Hs3\" then\n\tif Function == \"home\" then return \"Lyssignal, 3-lys; Innkjørhovedsignal\"\n\telseif Function == \"exit\" then return \"Lyssignal, 3-lys; Utkjørhovedsignal\"\n\telse return \"Lyssignal, 3-lys\"\n\tend\nelseif MainSignal == \"Hs2\" then\n\tif Function == \"home\" then return \"Lyssignal, 2-lys; Innkjørhovedsignal\"\n\telseif Function == \"exit\" then return \"Lyssignal, 2-lys; Utkjørhovedsignal\"\n\telse return \"Lyssignal, 2-lys\"\n\tend\nend\n\nreturn \"Prosessnavn ikke definert\"</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"IsySted\" IsModelCheck=\"false\">\r\n      <Formula>if OcpStationReference == nil then return \"OCP mangler\",_warning end\n \nreturn OcpStationReference.code</Formula>\r\n      <Symbol>_warning</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"name\" IsModelCheck=\"false\">\r\n      <Formula>NOBN_signalLongName()</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"RelativeElevation\" IsModelCheck=\"false\">\r\n      <Formula>PoleOrYoke == \"Pole\" and 0 or 7.90</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"SikkerhetsavstandTilKL\" IsModelCheck=\"true\">\r\n      <Formula>if (DwarfSignal == \"Ja\" and MainSignal == \"-\") then return \"Frittstående Dvergsignal - Sikkerhetsavstand til KL ikke relevant\", _noSymbol end\nradius = 6\ncloseObjects = getNearbyPointObjects2D(\"EH-MAS KL-master\", radius)\ncount = getCollectionLength(closeObjects)\nUpdateObjects = {}\nif(count == 0) then\n\treturn \"Ingen KL-master innenfor \"..radius..\" meter\", _ok\nelse\n\ti = 0\n\ttext = \"KL-Mast\"\n\tif (count &gt; 1) then text = text..\"ene\" end\n\ttext = text..\" [\"\n\twhile (i ~= count) do\n\t\ttext = text..closeObjects[i].name\n\t\ttable.insert(UpdateObjects, closeObjects[i])\n\t\ti = i+1\n\t\tif (i ~= count) then text = text..\", \" end\n\tend\n\treturn text..\"] er innenfor \"..radius..\" meter\", UpdateObjects, _warning\nend</Formula>\r\n      <Symbol>_ok</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"AvstandTilSpor\" IsModelCheck=\"true\">\r\n      <Formula>if (Alignment == null or getAlignmentInfo().AlignmentName == \"\") then return \"Mangler spor\", _warning end\nif (DwarfSignal == \"Ja\" and MainSignal == \"-\" and PoleOrYoke == \"Yoke\") then return \"Dverg i åk - gjør manuell profilkontroll\", _noSymbol end\nif (RelativeElevation &gt; 0.3) then return \"Signal med avvikende montasjehøyde - gjør manuell profilkontroll\", _noSymbol end\nclosestTrack = getClosestTracks()[0]\nif (closestTrack == null) then return \"Ingen spor i tegningen\", _noSymbol end\nalignmentInfo = getAlignmentInfo(closestTrack.id)\ncurveRadius = alignmentInfo.CurveRadius\nKi = 0.0\nKy = 0.0\nlimit = 2.12\nif (DwarfSignal == \"Ja\" and MainSignal == \"-\") then\n\tlimit = limit + 0.25\nelse\n\tlimit = limit + 0.4\nend\ndistToAlignment = math.abs(alignmentInfo.DistanceToAlignment)\nrightSided = alignmentInfo.DistanceToAlignment &lt;= 0.0\nif (curveRadius ~= math.huge) then\n\tKi = 81000.0/(2*curveRadius)\n\tKy = 63000.0/(2*curveRadius)\nend\nif ((alignmentInfo.CurveRotation == \"cw\" and not(rightSided)) or (alignmentInfo.CurveRotation == \"ccw\" and rightSided)) then \n\tlimit = limit + (Ky/1000.0)\nelse\n\tlimit = limit + (Ki/1000.0)\nend\nif (distToAlignment &lt;= limit) then\n\treturn string.format(\"%.3f\", distToAlignment)..\": Ugyldig - For nær spor '\"..alignmentInfo.AlignmentName..\"', øk avstand\", _error\nelseif (distToAlignment &gt; limit and distToAlignment &lt;= (limit + 0.4)) then\n\treturn string.format(\"%.3f\", distToAlignment)..\": Advarsel - Innenfor byggetoleranse men under anbefalt verdi, øk avstand\", _warning\nelse\n\treturn string.format(\"%.3f\", distToAlignment)..\": OK - Innenfor byggetoleranse med god margin\", _ok\nend</Formula>\r\n      <Symbol>_ok</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"SymbolFrame\" IsModelCheck=\"false\">\r\n      <Formula>NOBN_setModelCheckFrame()</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"IsInsideOcpArea\" IsModelCheck=\"true\">\r\n      <Formula>NOBN_isInsideOcpArea()</Formula>\r\n      <Symbol>_ok</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"ocpStationRef\" IsModelCheck=\"false\">\r\n      <Formula>area = NOBN_getAreaOfType(\"OCP Area\")\nreturn (area == null) and \"\" or area.id</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n  </LuaExpressions>\r\n  <CurrentModelCheckObjectsToUpdate xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <Seq xmlns=\"http://www.railml.org/schemas/2013\">0</Seq>\r\n  <Relations SourceSpace=\"signal\" xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <ObjectRelations />\r\n  </Relations>\r\n  <RcSection xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <SymbolOffsets xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <CustomAttributes xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <KeyValueString Key=\"Fag\" Value=\"Signal\" />\r\n    <KeyValueString Key=\"Tag\" Value=\"SA-SIG-nnnnnn\" />\r\n    <KeyValueString Key=\"ObjektInfo\" Value=\"\" />\r\n    <KeyValueString Key=\"MainSignal\" Value=\"Hs3\" />\r\n    <KeyValueString Key=\"EndOfTrainRoute\" Value=\"-\" />\r\n    <KeyValueString Key=\"DistantSignal\" Value=\"-\" />\r\n    <KeyValueString Key=\"DwarfSignal\" Value=\"Ja\" />\r\n    <KeyValueString Key=\"PositionLamp\" Value=\"-\" />\r\n    <KeyValueString Key=\"CautiousDrivingSignal\" Value=\"-\" />\r\n    <KeyValueString Key=\"LineSignal\" Value=\"-\" />\r\n    <KeyValueString Key=\"HighShuntingSignal\" Value=\"-\" />\r\n    <KeyValueString Key=\"OpticalSpeedSignal\" Value=\"-\" />\r\n    <KeyValueString Key=\"PoleOrYoke\" Value=\"Pole\" />\r\n    <KeyValueString Key=\"SikkerhetsavstandTilKL\" Value=\"Ingen KL-master innenfor 6 meter\" />\r\n    <KeyValueString Key=\"AvstandTilSpor\" Value=\"3.500: OK - Innenfor byggetoleranse med god margin\" />\r\n    <KeyValueString Key=\"LineSignalValue\" Value=\"\" />\r\n    <KeyValueString Key=\"OpticalSpeedSignalValue\" Value=\"\" />\r\n    <KeyValueString Key=\"IsyProsesskode\" Value=\"3.52.13\" />\r\n    <KeyValueString Key=\"IsyProsessnavn\" Value=\"Lyssignal, 3-lys\" />\r\n    <KeyValueString Key=\"IsyMengde\" Value=\"1\" />\r\n    <KeyValueString Key=\"IsyEnhet\" Value=\"stk\" />\r\n    <KeyValueString Key=\"IsySted\" Value=\"OCP mangler\" />\r\n    <KeyValueString Key=\"IsyPostnotat\" Value=\"Navn: Hs.  Bestykning: Hs3-Ds  Beskrivelse: \" />\r\n    <KeyValueString Key=\"IsInsideOcpArea\" Value=\"Objektet er ikke omsluttet av noen OCP områder\" />\r\n  </CustomAttributes>\r\n  <TimeStamp xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <Item>\r\n      <DateTime>2018-10-15T12:55:49.8376373+02:00</DateTime>\r\n      <User>bjslu</User>\r\n    </Item>\r\n  </TimeStamp>\r\n  <geoCoord coord=\"101.64076456289705 110.47519881527953 0\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <DrawTail xmlns=\"http://www.railml.org/schemas/2013\">false</DrawTail>\r\n  <Earthing xmlns=\"http://www.railml.org/schemas/2013\">Unknown</Earthing>\r\n  <CableMarkerColor xmlns=\"http://www.railml.org/schemas/2013\">Green</CableMarkerColor>\r\n  <Offset3D X=\"0\" Y=\"0\" Z=\"0\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <Rotation3D X=\"0\" Y=\"0\" Z=\"0\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <Annotations3D xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <CadAnnotation Tag=\"ISY Prosesskode\" Invisible=\"true\" Height=\"2\">\r\n      <Formula>IsyProsesskode</Formula>\r\n      <Offset X=\"0\" Y=\"30\" Z=\"0\" />\r\n      <Attitude X=\"0\" Y=\"0\" Z=\"0\" />\r\n    </CadAnnotation>\r\n    <CadAnnotation Tag=\"ISY Prosessnavn\" Invisible=\"true\" Height=\"2\">\r\n      <Formula>IsyProsessnavn</Formula>\r\n      <Offset X=\"0\" Y=\"25\" Z=\"0\" />\r\n      <Attitude X=\"0\" Y=\"0\" Z=\"0\" />\r\n    </CadAnnotation>\r\n    <CadAnnotation Tag=\"ISY Mengde\" Invisible=\"true\" Height=\"2\">\r\n      <Formula>IsyMengde</Formula>\r\n      <Offset X=\"0\" Y=\"20\" Z=\"0\" />\r\n      <Attitude X=\"0\" Y=\"0\" Z=\"0\" />\r\n    </CadAnnotation>\r\n    <CadAnnotation Tag=\"ISY Enhet\" Invisible=\"true\" Height=\"2\">\r\n      <Formula>IsyEnhet</Formula>\r\n      <Offset X=\"0\" Y=\"15\" Z=\"0\" />\r\n      <Attitude X=\"0\" Y=\"0\" Z=\"0\" />\r\n    </CadAnnotation>\r\n    <CadAnnotation Tag=\"ISY Sted\" Invisible=\"true\" Height=\"2\">\r\n      <Formula>IsySted</Formula>\r\n      <Offset X=\"0\" Y=\"10\" Z=\"0\" />\r\n      <Attitude X=\"0\" Y=\"0\" Z=\"0\" />\r\n    </CadAnnotation>\r\n    <CadAnnotation Tag=\"ISY Postnotat\" Invisible=\"true\" Height=\"2\">\r\n      <Formula>IsyPostnotat</Formula>\r\n      <Offset X=\"0\" Y=\"5\" Z=\"0\" />\r\n      <Attitude X=\"0\" Y=\"0\" Z=\"0\" />\r\n    </CadAnnotation>\r\n  </Annotations3D>\r\n  <AnnotationOffset X=\"0\" Y=\"0\" Z=\"0\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <AnnotationRotation xmlns=\"http://www.railml.org/schemas/2013\">0</AnnotationRotation>\r\n  <AlignmentRotation3D X=\"0\" Y=\"0\" Z=\"-1.5613920790636771\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <DirectionRotation3D X=\"0\" Y=\"0\" Z=\"0\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <PoleRouting3D xmlns=\"http://www.railml.org/schemas/2013\">None</PoleRouting3D>\r\n  <Model3DName xmlns=\"http://www.railml.org/schemas/2013\">NO-BN-3D-SA-SIG-NSI63-HS-3-LYS-MED-DS</Model3DName>\r\n  <AlignmentTangent xmlns=\"http://www.railml.org/schemas/2013\">0.0094042477312193118</AlignmentTangent>\r\n  <Alignment xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <Id>4c8ea38e-52e8-47a0-8b97-30bd1b5fa301</Id>\r\n  </Alignment>\r\n  <InheritPosition xmlns=\"http://www.railml.org/schemas/2013\">false</InheritPosition>\r\n  <speed xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <etcs xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <levelCrossing xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <trainRadio xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <catenary xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <line xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <milepost xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <braking xmlns=\"http://www.railml.org/schemas/2013\" />\r\n</tSignal>",
  "set <?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<tSignal xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" id=\"5370beaf-ddae-4642-9179-7cedf0f90ca4\" name=\"Hs.\" Stage=\"\" pos=\"0\" dir=\"up\" ruleCode=\"\" sight=\"250\" type=\"main\" ocpStationRef=\"\">\r\n  <LuaExpressions xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <LuaExpression Name=\"IsyPostnotat\" IsModelCheck=\"false\">\r\n      <Formula>local s = \"\"\nlocal first = true\nif (prop(\"Hovedsignal\") ~= \"-\") then \n\ts = prop(\"Hovedsignal\")\n\tfirst = false\nend \nif (prop(\"Forsignal\") == \"Ja\") then \n\tif (first) then s = \"Fs\" else s = s..\"-Fs\" end \n\tfirst = false\nend \nif (prop(\"Dvergsignal\") == \"Ja\") then \n\tif (first) then s = \"Ds\" else s = s..\"-Ds\" end\n\tfirst = false\nend\nif (prop(\"Middelkontrollampe\") == \"Ja\") then\n\tif (first) then s = \"Mk\" else s = s..\"-Mk\" end\t\t\n\tfirst = false\nend\nif (fromDisplayName(\"Forsiktig kjøring\") == \"Ja\") then\n\tif (first) then s = \"FKs\" else s = s..\"-FKs\" end\t\t\n\tfirst = false\nend\nif (fromDisplayName(\"Hovedlinjesignal\") == \"Ja\") then \n\tif (first) then s = \"HLs\" else s = s..\"-HLs\" end\t\t\n\tfirst = false\nend\nif (fromDisplayName(\"Lysende hastighetssignal\") == \"Ja\") then \n\tif (first) then s = \"Hast\" else s = s..\"-Hast\" end\t\t\n\tfirst = false\nend \nif (fromDisplayName(\"Høyt skiftesignal\") == \"Ja\") then \n\tif (first) then s = \"Z\" else s = s..\"-Z\" end\t\t\n\tfirst = false\nend \nreturn \"Navn: \"..name..\"  Bestykning: \"..s..\"  Beskrivelse: \"..description</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"IsyProsesskode\" IsModelCheck=\"false\">\r\n      <Formula>if MainSignal == \"Hs3\" then\n\tif Function == \"home\" then return \"3.52.131\"\n\telseif Function == \"exit\" then return \"3.52.132\"\n\telse return \"3.52.13\"\n\tend\nelseif MainSignal == \"Hs2\" then\n\tif Function == \"home\" then return \"3.52.141\"\n\telseif Function == \"exit\" then return \"3.52.142\"\n\telse return \"3.52.14\"\n\tend\nend\n\nreturn \"Prosesskode ikke definert\"</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"IsyProsessnavn\" IsModelCheck=\"false\">\r\n      <Formula>if MainSignal == \"Hs3\" then\n\tif Function == \"home\" then return \"Lyssignal, 3-lys; Innkjørhovedsignal\"\n\telseif Function == \"exit\" then return \"Lyssignal, 3-lys; Utkjørhovedsignal\"\n\telse return \"Lyssignal, 3-lys\"\n\tend\nelseif MainSignal == \"Hs2\" then\n\tif Function == \"home\" then return \"Lyssignal, 2-lys; Innkjørhovedsignal\"\n\telseif Function == \"exit\" then return \"Lyssignal, 2-lys; Utkjørhovedsignal\"\n\telse return \"Lyssignal, 2-lys\"\n\tend\nend\n\nreturn \"Prosessnavn ikke definert\"</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"IsySted\" IsModelCheck=\"false\">\r\n      <Formula>if OcpStationReference == nil then return \"OCP mangler\",_warning end\n \nreturn OcpStationReference.code</Formula>\r\n      <Symbol>_warning</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"name\" IsModelCheck=\"false\">\r\n      <Formula>NOBN_signalLongName()</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"RelativeElevation\" IsModelCheck=\"false\">\r\n      <Formula>PoleOrYoke == \"Pole\" and 0 or 7.90</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"SikkerhetsavstandTilKL\" IsModelCheck=\"true\">\r\n      <Formula>if (DwarfSignal == \"Ja\" and MainSignal == \"-\") then return \"Frittstående Dvergsignal - Sikkerhetsavstand til KL ikke relevant\", _noSymbol end\nradius = 6\ncloseObjects = getNearbyPointObjects2D(\"EH-MAS KL-master\", radius)\ncount = getCollectionLength(closeObjects)\nUpdateObjects = {}\nif(count == 0) then\n\treturn \"Ingen KL-master innenfor \"..radius..\" meter\", _ok\nelse\n\ti = 0\n\ttext = \"KL-Mast\"\n\tif (count &gt; 1) then text = text..\"ene\" end\n\ttext = text..\" [\"\n\twhile (i ~= count) do\n\t\ttext = text..closeObjects[i].name\n\t\ttable.insert(UpdateObjects, closeObjects[i])\n\t\ti = i+1\n\t\tif (i ~= count) then text = text..\", \" end\n\tend\n\treturn text..\"] er innenfor \"..radius..\" meter\", UpdateObjects, _warning\nend</Formula>\r\n      <Symbol>_ok</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"AvstandTilSpor\" IsModelCheck=\"true\">\r\n      <Formula>if (Alignment == null or getAlignmentInfo().AlignmentName == \"\") then return \"Mangler spor\", _warning end\nif (DwarfSignal == \"Ja\" and MainSignal == \"-\" and PoleOrYoke == \"Yoke\") then return \"Dverg i åk - gjør manuell profilkontroll\", _noSymbol end\nif (RelativeElevation &gt; 0.3) then return \"Signal med avvikende montasjehøyde - gjør manuell profilkontroll\", _noSymbol end\nclosestTrack = getClosestTracks()[0]\nif (closestTrack == null) then return \"Ingen spor i tegningen\", _noSymbol end\nalignmentInfo = getAlignmentInfo(closestTrack.id)\ncurveRadius = alignmentInfo.CurveRadius\nKi = 0.0\nKy = 0.0\nlimit = 2.12\nif (DwarfSignal == \"Ja\" and MainSignal == \"-\") then\n\tlimit = limit + 0.25\nelse\n\tlimit = limit + 0.4\nend\ndistToAlignment = math.abs(alignmentInfo.DistanceToAlignment)\nrightSided = alignmentInfo.DistanceToAlignment &lt;= 0.0\nif (curveRadius ~= math.huge) then\n\tKi = 81000.0/(2*curveRadius)\n\tKy = 63000.0/(2*curveRadius)\nend\nif ((alignmentInfo.CurveRotation == \"cw\" and not(rightSided)) or (alignmentInfo.CurveRotation == \"ccw\" and rightSided)) then \n\tlimit = limit + (Ky/1000.0)\nelse\n\tlimit = limit + (Ki/1000.0)\nend\nif (distToAlignment &lt;= limit) then\n\treturn string.format(\"%.3f\", distToAlignment)..\": Ugyldig - For nær spor '\"..alignmentInfo.AlignmentName..\"', øk avstand\", _error\nelseif (distToAlignment &gt; limit and distToAlignment &lt;= (limit + 0.4)) then\n\treturn string.format(\"%.3f\", distToAlignment)..\": Advarsel - Innenfor byggetoleranse men under anbefalt verdi, øk avstand\", _warning\nelse\n\treturn string.format(\"%.3f\", distToAlignment)..\": OK - Innenfor byggetoleranse med god margin\", _ok\nend</Formula>\r\n      <Symbol>_ok</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"SymbolFrame\" IsModelCheck=\"false\">\r\n      <Formula>NOBN_setModelCheckFrame()</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"IsInsideOcpArea\" IsModelCheck=\"true\">\r\n      <Formula>NOBN_isInsideOcpArea()</Formula>\r\n      <Symbol>_ok</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"ocpStationRef\" IsModelCheck=\"false\">\r\n      <Formula>area = NOBN_getAreaOfType(\"OCP Area\")\nreturn (area == null) and \"\" or area.id</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n  </LuaExpressions>\r\n  <CurrentModelCheckObjectsToUpdate xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <Seq xmlns=\"http://www.railml.org/schemas/2013\">0</Seq>\r\n  <Relations SourceSpace=\"signal\" xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <ObjectRelations />\r\n  </Relations>\r\n  <RcSection xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <SymbolOffsets xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <CustomAttributes xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <KeyValueString Key=\"Fag\" Value=\"Signal\" />\r\n    <KeyValueString Key=\"Tag\" Value=\"SA-SIG-nnnnnn\" />\r\n    <KeyValueString Key=\"ObjektInfo\" Value=\"\" />\r\n    <KeyValueString Key=\"MainSignal\" Value=\"Hs3\" />\r\n    <KeyValueString Key=\"EndOfTrainRoute\" Value=\"-\" />\r\n    <KeyValueString Key=\"DistantSignal\" Value=\"-\" />\r\n    <KeyValueString Key=\"DwarfSignal\" Value=\"Ja\" />\r\n    <KeyValueString Key=\"PositionLamp\" Value=\"-\" />\r\n    <KeyValueString Key=\"CautiousDrivingSignal\" Value=\"-\" />\r\n    <KeyValueString Key=\"LineSignal\" Value=\"-\" />\r\n    <KeyValueString Key=\"HighShuntingSignal\" Value=\"-\" />\r\n    <KeyValueString Key=\"OpticalSpeedSignal\" Value=\"-\" />\r\n    <KeyValueString Key=\"PoleOrYoke\" Value=\"Pole\" />\r\n    <KeyValueString Key=\"SikkerhetsavstandTilKL\" Value=\"Ingen KL-master innenfor 6 meter\" />\r\n    <KeyValueString Key=\"AvstandTilSpor\" Value=\"3.500: OK - Innenfor byggetoleranse med god margin\" />\r\n    <KeyValueString Key=\"LineSignalValue\" Value=\"\" />\r\n    <KeyValueString Key=\"OpticalSpeedSignalValue\" Value=\"\" />\r\n    <KeyValueString Key=\"IsyProsesskode\" Value=\"3.52.13\" />\r\n    <KeyValueString Key=\"IsyProsessnavn\" Value=\"Lyssignal, 3-lys\" />\r\n    <KeyValueString Key=\"IsyMengde\" Value=\"1\" />\r\n    <KeyValueString Key=\"IsyEnhet\" Value=\"stk\" />\r\n    <KeyValueString Key=\"IsySted\" Value=\"OCP mangler\" />\r\n    <KeyValueString Key=\"IsyPostnotat\" Value=\"Navn: Hs.  Bestykning: Hs3-Ds  Beskrivelse: \" />\r\n    <KeyValueString Key=\"IsInsideOcpArea\" Value=\"Objektet er ikke omsluttet av noen OCP områder\" />\r\n  </CustomAttributes>\r\n  <TimeStamp xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <Item>\r\n      <DateTime>2018-10-15T12:55:49.8376373+02:00</DateTime>\r\n      <User>bjslu</User>\r\n    </Item>\r\n  </TimeStamp>\r\n  <geoCoord coord=\"101.64076456289705 110.47519881527953 0\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <DrawTail xmlns=\"http://www.railml.org/schemas/2013\">false</DrawTail>\r\n  <Earthing xmlns=\"http://www.railml.org/schemas/2013\">Unknown</Earthing>\r\n  <CableMarkerColor xmlns=\"http://www.railml.org/schemas/2013\">Green</CableMarkerColor>\r\n  <Offset3D X=\"0\" Y=\"0\" Z=\"0\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <Rotation3D X=\"0\" Y=\"0\" Z=\"0\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <Annotations3D xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <CadAnnotation Tag=\"ISY Prosesskode\" Invisible=\"true\" Height=\"2\">\r\n      <Formula>IsyProsesskode</Formula>\r\n      <Offset X=\"0\" Y=\"30\" Z=\"0\" />\r\n      <Attitude X=\"0\" Y=\"0\" Z=\"0\" />\r\n    </CadAnnotation>\r\n    <CadAnnotation Tag=\"ISY Prosessnavn\" Invisible=\"true\" Height=\"2\">\r\n      <Formula>IsyProsessnavn</Formula>\r\n      <Offset X=\"0\" Y=\"25\" Z=\"0\" />\r\n      <Attitude X=\"0\" Y=\"0\" Z=\"0\" />\r\n    </CadAnnotation>\r\n    <CadAnnotation Tag=\"ISY Mengde\" Invisible=\"true\" Height=\"2\">\r\n      <Formula>IsyMengde</Formula>\r\n      <Offset X=\"0\" Y=\"20\" Z=\"0\" />\r\n      <Attitude X=\"0\" Y=\"0\" Z=\"0\" />\r\n    </CadAnnotation>\r\n    <CadAnnotation Tag=\"ISY Enhet\" Invisible=\"true\" Height=\"2\">\r\n      <Formula>IsyEnhet</Formula>\r\n      <Offset X=\"0\" Y=\"15\" Z=\"0\" />\r\n      <Attitude X=\"0\" Y=\"0\" Z=\"0\" />\r\n    </CadAnnotation>\r\n    <CadAnnotation Tag=\"ISY Sted\" Invisible=\"true\" Height=\"2\">\r\n      <Formula>IsySted</Formula>\r\n      <Offset X=\"0\" Y=\"10\" Z=\"0\" />\r\n      <Attitude X=\"0\" Y=\"0\" Z=\"0\" />\r\n    </CadAnnotation>\r\n    <CadAnnotation Tag=\"ISY Postnotat\" Invisible=\"true\" Height=\"2\">\r\n      <Formula>IsyPostnotat</Formula>\r\n      <Offset X=\"0\" Y=\"5\" Z=\"0\" />\r\n      <Attitude X=\"0\" Y=\"0\" Z=\"0\" />\r\n    </CadAnnotation>\r\n  </Annotations3D>\r\n  <AnnotationOffset X=\"0\" Y=\"0\" Z=\"0\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <AnnotationRotation xmlns=\"http://www.railml.org/schemas/2013\">0</AnnotationRotation>\r\n  <AlignmentRotation3D X=\"0\" Y=\"0\" Z=\"-1.5613920790636771\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <DirectionRotation3D X=\"0\" Y=\"0\" Z=\"0\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <PoleRouting3D xmlns=\"http://www.railml.org/schemas/2013\">None</PoleRouting3D>\r\n  <Model3DName xmlns=\"http://www.railml.org/schemas/2013\">NO-BN-3D-SA-SIG-NSI63-HS-3-LYS-MED-DS</Model3DName>\r\n  <AlignmentTangent xmlns=\"http://www.railml.org/schemas/2013\">0.0094042477312193118</AlignmentTangent>\r\n  <Alignment xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <Id>4c8ea38e-52e8-47a0-8b97-30bd1b5fa301</Id>\r\n  </Alignment>\r\n  <InheritPosition xmlns=\"http://www.railml.org/schemas/2013\">false</InheritPosition>\r\n  <speed xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <etcs xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <levelCrossing xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <trainRadio xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <catenary xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <line xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <milepost xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <braking xmlns=\"http://www.railml.org/schemas/2013\" />\r\n</tSignal>",
  "set <?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<tSignal xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" id=\"5370beaf-ddae-4642-9179-7cedf0f90ca4\" name=\"Hs.\" Stage=\"\" pos=\"0\" dir=\"up\" ruleCode=\"\" sight=\"250\" type=\"main\" ocpStationRef=\"\">\r\n  <LuaExpressions xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <LuaExpression Name=\"IsyPostnotat\" IsModelCheck=\"false\">\r\n      <Formula>local s = \"\"\nlocal first = true\nif (prop(\"Hovedsignal\") ~= \"-\") then \n\ts = prop(\"Hovedsignal\")\n\tfirst = false\nend \nif (prop(\"Forsignal\") == \"Ja\") then \n\tif (first) then s = \"Fs\" else s = s..\"-Fs\" end \n\tfirst = false\nend \nif (prop(\"Dvergsignal\") == \"Ja\") then \n\tif (first) then s = \"Ds\" else s = s..\"-Ds\" end\n\tfirst = false\nend\nif (prop(\"Middelkontrollampe\") == \"Ja\") then\n\tif (first) then s = \"Mk\" else s = s..\"-Mk\" end\t\t\n\tfirst = false\nend\nif (fromDisplayName(\"Forsiktig kjøring\") == \"Ja\") then\n\tif (first) then s = \"FKs\" else s = s..\"-FKs\" end\t\t\n\tfirst = false\nend\nif (fromDisplayName(\"Hovedlinjesignal\") == \"Ja\") then \n\tif (first) then s = \"HLs\" else s = s..\"-HLs\" end\t\t\n\tfirst = false\nend\nif (fromDisplayName(\"Lysende hastighetssignal\") == \"Ja\") then \n\tif (first) then s = \"Hast\" else s = s..\"-Hast\" end\t\t\n\tfirst = false\nend \nif (fromDisplayName(\"Høyt skiftesignal\") == \"Ja\") then \n\tif (first) then s = \"Z\" else s = s..\"-Z\" end\t\t\n\tfirst = false\nend \nreturn \"Navn: \"..name..\"  Bestykning: \"..s..\"  Beskrivelse: \"..description</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"IsyProsesskode\" IsModelCheck=\"false\">\r\n      <Formula>if MainSignal == \"Hs3\" then\n\tif Function == \"home\" then return \"3.52.131\"\n\telseif Function == \"exit\" then return \"3.52.132\"\n\telse return \"3.52.13\"\n\tend\nelseif MainSignal == \"Hs2\" then\n\tif Function == \"home\" then return \"3.52.141\"\n\telseif Function == \"exit\" then return \"3.52.142\"\n\telse return \"3.52.14\"\n\tend\nend\n\nreturn \"Prosesskode ikke definert\"</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"IsyProsessnavn\" IsModelCheck=\"false\">\r\n      <Formula>if MainSignal == \"Hs3\" then\n\tif Function == \"home\" then return \"Lyssignal, 3-lys; Innkjørhovedsignal\"\n\telseif Function == \"exit\" then return \"Lyssignal, 3-lys; Utkjørhovedsignal\"\n\telse return \"Lyssignal, 3-lys\"\n\tend\nelseif MainSignal == \"Hs2\" then\n\tif Function == \"home\" then return \"Lyssignal, 2-lys; Innkjørhovedsignal\"\n\telseif Function == \"exit\" then return \"Lyssignal, 2-lys; Utkjørhovedsignal\"\n\telse return \"Lyssignal, 2-lys\"\n\tend\nend\n\nreturn \"Prosessnavn ikke definert\"</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"IsySted\" IsModelCheck=\"false\">\r\n      <Formula>if OcpStationReference == nil then return \"OCP mangler\",_warning end\n \nreturn OcpStationReference.code</Formula>\r\n      <Symbol>_warning</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"name\" IsModelCheck=\"false\">\r\n      <Formula>NOBN_signalLongName()</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"RelativeElevation\" IsModelCheck=\"false\">\r\n      <Formula>PoleOrYoke == \"Pole\" and 0 or 7.90</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"SikkerhetsavstandTilKL\" IsModelCheck=\"true\">\r\n      <Formula>if (DwarfSignal == \"Ja\" and MainSignal == \"-\") then return \"Frittstående Dvergsignal - Sikkerhetsavstand til KL ikke relevant\", _noSymbol end\nradius = 6\ncloseObjects = getNearbyPointObjects2D(\"EH-MAS KL-master\", radius)\ncount = getCollectionLength(closeObjects)\nUpdateObjects = {}\nif(count == 0) then\n\treturn \"Ingen KL-master innenfor \"..radius..\" meter\", _ok\nelse\n\ti = 0\n\ttext = \"KL-Mast\"\n\tif (count &gt; 1) then text = text..\"ene\" end\n\ttext = text..\" [\"\n\twhile (i ~= count) do\n\t\ttext = text..closeObjects[i].name\n\t\ttable.insert(UpdateObjects, closeObjects[i])\n\t\ti = i+1\n\t\tif (i ~= count) then text = text..\", \" end\n\tend\n\treturn text..\"] er innenfor \"..radius..\" meter\", UpdateObjects, _warning\nend</Formula>\r\n      <Symbol>_ok</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"AvstandTilSpor\" IsModelCheck=\"true\">\r\n      <Formula>if (Alignment == null or getAlignmentInfo().AlignmentName == \"\") then return \"Mangler spor\", _warning end\nif (DwarfSignal == \"Ja\" and MainSignal == \"-\" and PoleOrYoke == \"Yoke\") then return \"Dverg i åk - gjør manuell profilkontroll\", _noSymbol end\nif (RelativeElevation &gt; 0.3) then return \"Signal med avvikende montasjehøyde - gjør manuell profilkontroll\", _noSymbol end\nclosestTrack = getClosestTracks()[0]\nif (closestTrack == null) then return \"Ingen spor i tegningen\", _noSymbol end\nalignmentInfo = getAlignmentInfo(closestTrack.id)\ncurveRadius = alignmentInfo.CurveRadius\nKi = 0.0\nKy = 0.0\nlimit = 2.12\nif (DwarfSignal == \"Ja\" and MainSignal == \"-\") then\n\tlimit = limit + 0.25\nelse\n\tlimit = limit + 0.4\nend\ndistToAlignment = math.abs(alignmentInfo.DistanceToAlignment)\nrightSided = alignmentInfo.DistanceToAlignment &lt;= 0.0\nif (curveRadius ~= math.huge) then\n\tKi = 81000.0/(2*curveRadius)\n\tKy = 63000.0/(2*curveRadius)\nend\nif ((alignmentInfo.CurveRotation == \"cw\" and not(rightSided)) or (alignmentInfo.CurveRotation == \"ccw\" and rightSided)) then \n\tlimit = limit + (Ky/1000.0)\nelse\n\tlimit = limit + (Ki/1000.0)\nend\nif (distToAlignment &lt;= limit) then\n\treturn string.format(\"%.3f\", distToAlignment)..\": Ugyldig - For nær spor '\"..alignmentInfo.AlignmentName..\"', øk avstand\", _error\nelseif (distToAlignment &gt; limit and distToAlignment &lt;= (limit + 0.4)) then\n\treturn string.format(\"%.3f\", distToAlignment)..\": Advarsel - Innenfor byggetoleranse men under anbefalt verdi, øk avstand\", _warning\nelse\n\treturn string.format(\"%.3f\", distToAlignment)..\": OK - Innenfor byggetoleranse med god margin\", _ok\nend</Formula>\r\n      <Symbol>_warning</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"SymbolFrame\" IsModelCheck=\"false\">\r\n      <Formula>NOBN_setModelCheckFrame()</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"IsInsideOcpArea\" IsModelCheck=\"true\">\r\n      <Formula>NOBN_isInsideOcpArea()</Formula>\r\n      <Symbol>_ok</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"ocpStationRef\" IsModelCheck=\"false\">\r\n      <Formula>area = NOBN_getAreaOfType(\"OCP Area\")\nreturn (area == null) and \"\" or area.id</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n  </LuaExpressions>\r\n  <CurrentModelCheckObjectsToUpdate xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <Seq xmlns=\"http://www.railml.org/schemas/2013\">0</Seq>\r\n  <Relations SourceSpace=\"signal\" xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <ObjectRelations />\r\n  </Relations>\r\n  <RcSection xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <SymbolOffsets xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <CustomAttributes xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <KeyValueString Key=\"Fag\" Value=\"Signal\" />\r\n    <KeyValueString Key=\"Tag\" Value=\"SA-SIG-nnnnnn\" />\r\n    <KeyValueString Key=\"ObjektInfo\" Value=\"\" />\r\n    <KeyValueString Key=\"MainSignal\" Value=\"Hs3\" />\r\n    <KeyValueString Key=\"EndOfTrainRoute\" Value=\"-\" />\r\n    <KeyValueString Key=\"DistantSignal\" Value=\"-\" />\r\n    <KeyValueString Key=\"DwarfSignal\" Value=\"Ja\" />\r\n    <KeyValueString Key=\"PositionLamp\" Value=\"-\" />\r\n    <KeyValueString Key=\"CautiousDrivingSignal\" Value=\"-\" />\r\n    <KeyValueString Key=\"LineSignal\" Value=\"-\" />\r\n    <KeyValueString Key=\"HighShuntingSignal\" Value=\"-\" />\r\n    <KeyValueString Key=\"OpticalSpeedSignal\" Value=\"-\" />\r\n    <KeyValueString Key=\"PoleOrYoke\" Value=\"Pole\" />\r\n    <KeyValueString Key=\"SikkerhetsavstandTilKL\" Value=\"Ingen KL-master innenfor 6 meter\" />\r\n    <KeyValueString Key=\"AvstandTilSpor\" Value=\"3.161: Advarsel - Innenfor byggetoleranse men under anbefalt verdi, øk avstand\" />\r\n    <KeyValueString Key=\"LineSignalValue\" Value=\"\" />\r\n    <KeyValueString Key=\"OpticalSpeedSignalValue\" Value=\"\" />\r\n    <KeyValueString Key=\"IsyProsesskode\" Value=\"3.52.13\" />\r\n    <KeyValueString Key=\"IsyProsessnavn\" Value=\"Lyssignal, 3-lys\" />\r\n    <KeyValueString Key=\"IsyMengde\" Value=\"1\" />\r\n    <KeyValueString Key=\"IsyEnhet\" Value=\"stk\" />\r\n    <KeyValueString Key=\"IsySted\" Value=\"OCP mangler\" />\r\n    <KeyValueString Key=\"IsyPostnotat\" Value=\"Navn: Hs.  Bestykning: Hs3-Ds  Beskrivelse: \" />\r\n    <KeyValueString Key=\"IsInsideOcpArea\" Value=\"Objektet er ikke omsluttet av noen OCP områder\" />\r\n  </CustomAttributes>\r\n  <TimeStamp xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <Item>\r\n      <DateTime>2018-10-15T12:55:49.8376373+02:00</DateTime>\r\n      <User>bjslu</User>\r\n    </Item>\r\n  </TimeStamp>\r\n  <geoCoord coord=\"95.042574333998346 109.91770257960889 0\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <DrawTail xmlns=\"http://www.railml.org/schemas/2013\">false</DrawTail>\r\n  <Earthing xmlns=\"http://www.railml.org/schemas/2013\">Unknown</Earthing>\r\n  <CableMarkerColor xmlns=\"http://www.railml.org/schemas/2013\">Green</CableMarkerColor>\r\n  <Offset3D X=\"0\" Y=\"0\" Z=\"0\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <Rotation3D X=\"0\" Y=\"0\" Z=\"0\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <Annotations3D xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <CadAnnotation Tag=\"ISY Prosesskode\" Invisible=\"true\" Height=\"2\">\r\n      <Formula>IsyProsesskode</Formula>\r\n      <Offset X=\"0\" Y=\"30\" Z=\"0\" />\r\n      <Attitude X=\"0\" Y=\"0\" Z=\"0\" />\r\n    </CadAnnotation>\r\n    <CadAnnotation Tag=\"ISY Prosessnavn\" Invisible=\"true\" Height=\"2\">\r\n      <Formula>IsyProsessnavn</Formula>\r\n      <Offset X=\"0\" Y=\"25\" Z=\"0\" />\r\n      <Attitude X=\"0\" Y=\"0\" Z=\"0\" />\r\n    </CadAnnotation>\r\n    <CadAnnotation Tag=\"ISY Mengde\" Invisible=\"true\" Height=\"2\">\r\n      <Formula>IsyMengde</Formula>\r\n      <Offset X=\"0\" Y=\"20\" Z=\"0\" />\r\n      <Attitude X=\"0\" Y=\"0\" Z=\"0\" />\r\n    </CadAnnotation>\r\n    <CadAnnotation Tag=\"ISY Enhet\" Invisible=\"true\" Height=\"2\">\r\n      <Formula>IsyEnhet</Formula>\r\n      <Offset X=\"0\" Y=\"15\" Z=\"0\" />\r\n      <Attitude X=\"0\" Y=\"0\" Z=\"0\" />\r\n    </CadAnnotation>\r\n    <CadAnnotation Tag=\"ISY Sted\" Invisible=\"true\" Height=\"2\">\r\n      <Formula>IsySted</Formula>\r\n      <Offset X=\"0\" Y=\"10\" Z=\"0\" />\r\n      <Attitude X=\"0\" Y=\"0\" Z=\"0\" />\r\n    </CadAnnotation>\r\n    <CadAnnotation Tag=\"ISY Postnotat\" Invisible=\"true\" Height=\"2\">\r\n      <Formula>IsyPostnotat</Formula>\r\n      <Offset X=\"0\" Y=\"5\" Z=\"0\" />\r\n      <Attitude X=\"0\" Y=\"0\" Z=\"0\" />\r\n    </CadAnnotation>\r\n  </Annotations3D>\r\n  <AnnotationOffset X=\"0\" Y=\"0\" Z=\"0\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <AnnotationRotation xmlns=\"http://www.railml.org/schemas/2013\">0</AnnotationRotation>\r\n  <AlignmentRotation3D X=\"0\" Y=\"0\" Z=\"-1.5139915437824847\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <DirectionRotation3D X=\"0\" Y=\"0\" Z=\"0\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <PoleRouting3D xmlns=\"http://www.railml.org/schemas/2013\">None</PoleRouting3D>\r\n  <Model3DName xmlns=\"http://www.railml.org/schemas/2013\">NO-BN-3D-SA-SIG-NSI63-HS-3-LYS-MED-DS</Model3DName>\r\n  <AlignmentTangent xmlns=\"http://www.railml.org/schemas/2013\">0.056804783012411791</AlignmentTangent>\r\n  <SymbolFrame Name=\"Warning\" CircleRadius=\"2\" HorizontalMargin=\"1\" VerticalMargin=\"1\" Color=\"Orange\" LineType=\"RC-DASHED\" LineWidth=\"0.2\" Transparency=\"200\" Layer=\"RC_SYMBOLFRAMES_WARNING\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <Alignment xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <Id>4c8ea38e-52e8-47a0-8b97-30bd1b5fa301</Id>\r\n  </Alignment>\r\n  <InheritPosition xmlns=\"http://www.railml.org/schemas/2013\">false</InheritPosition>\r\n  <speed xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <etcs xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <levelCrossing xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <trainRadio xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <catenary xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <line xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <milepost xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <braking xmlns=\"http://www.railml.org/schemas/2013\" />\r\n</tSignal>",
  "set <?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<tSignal xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" id=\"5370beaf-ddae-4642-9179-7cedf0f90ca4\" name=\"Hs.\" Stage=\"\" pos=\"0\" dir=\"up\" ruleCode=\"\" sight=\"250\" type=\"main\" ocpStationRef=\"\">\r\n  <LuaExpressions xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <LuaExpression Name=\"IsyPostnotat\" IsModelCheck=\"false\">\r\n      <Formula>local s = \"\"\nlocal first = true\nif (prop(\"Hovedsignal\") ~= \"-\") then \n\ts = prop(\"Hovedsignal\")\n\tfirst = false\nend \nif (prop(\"Forsignal\") == \"Ja\") then \n\tif (first) then s = \"Fs\" else s = s..\"-Fs\" end \n\tfirst = false\nend \nif (prop(\"Dvergsignal\") == \"Ja\") then \n\tif (first) then s = \"Ds\" else s = s..\"-Ds\" end\n\tfirst = false\nend\nif (prop(\"Middelkontrollampe\") == \"Ja\") then\n\tif (first) then s = \"Mk\" else s = s..\"-Mk\" end\t\t\n\tfirst = false\nend\nif (fromDisplayName(\"Forsiktig kjøring\") == \"Ja\") then\n\tif (first) then s = \"FKs\" else s = s..\"-FKs\" end\t\t\n\tfirst = false\nend\nif (fromDisplayName(\"Hovedlinjesignal\") == \"Ja\") then \n\tif (first) then s = \"HLs\" else s = s..\"-HLs\" end\t\t\n\tfirst = false\nend\nif (fromDisplayName(\"Lysende hastighetssignal\") == \"Ja\") then \n\tif (first) then s = \"Hast\" else s = s..\"-Hast\" end\t\t\n\tfirst = false\nend \nif (fromDisplayName(\"Høyt skiftesignal\") == \"Ja\") then \n\tif (first) then s = \"Z\" else s = s..\"-Z\" end\t\t\n\tfirst = false\nend \nreturn \"Navn: \"..name..\"  Bestykning: \"..s..\"  Beskrivelse: \"..description</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"IsyProsesskode\" IsModelCheck=\"false\">\r\n      <Formula>if MainSignal == \"Hs3\" then\n\tif Function == \"home\" then return \"3.52.131\"\n\telseif Function == \"exit\" then return \"3.52.132\"\n\telse return \"3.52.13\"\n\tend\nelseif MainSignal == \"Hs2\" then\n\tif Function == \"home\" then return \"3.52.141\"\n\telseif Function == \"exit\" then return \"3.52.142\"\n\telse return \"3.52.14\"\n\tend\nend\n\nreturn \"Prosesskode ikke definert\"</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"IsyProsessnavn\" IsModelCheck=\"false\">\r\n      <Formula>if MainSignal == \"Hs3\" then\n\tif Function == \"home\" then return \"Lyssignal, 3-lys; Innkjørhovedsignal\"\n\telseif Function == \"exit\" then return \"Lyssignal, 3-lys; Utkjørhovedsignal\"\n\telse return \"Lyssignal, 3-lys\"\n\tend\nelseif MainSignal == \"Hs2\" then\n\tif Function == \"home\" then return \"Lyssignal, 2-lys; Innkjørhovedsignal\"\n\telseif Function == \"exit\" then return \"Lyssignal, 2-lys; Utkjørhovedsignal\"\n\telse return \"Lyssignal, 2-lys\"\n\tend\nend\n\nreturn \"Prosessnavn ikke definert\"</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"IsySted\" IsModelCheck=\"false\">\r\n      <Formula>if OcpStationReference == nil then return \"OCP mangler\",_warning end\n \nreturn OcpStationReference.code</Formula>\r\n      <Symbol>_warning</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"name\" IsModelCheck=\"false\">\r\n      <Formula>NOBN_signalLongName()</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"RelativeElevation\" IsModelCheck=\"false\">\r\n      <Formula>PoleOrYoke == \"Pole\" and 0 or 7.90</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"SikkerhetsavstandTilKL\" IsModelCheck=\"true\">\r\n      <Formula>if (DwarfSignal == \"Ja\" and MainSignal == \"-\") then return \"Frittstående Dvergsignal - Sikkerhetsavstand til KL ikke relevant\", _noSymbol end\nradius = 6\ncloseObjects = getNearbyPointObjects2D(\"EH-MAS KL-master\", radius)\ncount = getCollectionLength(closeObjects)\nUpdateObjects = {}\nif(count == 0) then\n\treturn \"Ingen KL-master innenfor \"..radius..\" meter\", _ok\nelse\n\ti = 0\n\ttext = \"KL-Mast\"\n\tif (count &gt; 1) then text = text..\"ene\" end\n\ttext = text..\" [\"\n\twhile (i ~= count) do\n\t\ttext = text..closeObjects[i].name\n\t\ttable.insert(UpdateObjects, closeObjects[i])\n\t\ti = i+1\n\t\tif (i ~= count) then text = text..\", \" end\n\tend\n\treturn text..\"] er innenfor \"..radius..\" meter\", UpdateObjects, _warning\nend</Formula>\r\n      <Symbol>_ok</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"AvstandTilSpor\" IsModelCheck=\"true\">\r\n      <Formula>if (Alignment == null or getAlignmentInfo().AlignmentName == \"\") then return \"Mangler spor\", _warning end\nif (DwarfSignal == \"Ja\" and MainSignal == \"-\" and PoleOrYoke == \"Yoke\") then return \"Dverg i åk - gjør manuell profilkontroll\", _noSymbol end\nif (RelativeElevation &gt; 0.3) then return \"Signal med avvikende montasjehøyde - gjør manuell profilkontroll\", _noSymbol end\nclosestTrack = getClosestTracks()[0]\nif (closestTrack == null) then return \"Ingen spor i tegningen\", _noSymbol end\nalignmentInfo = getAlignmentInfo(closestTrack.id)\ncurveRadius = alignmentInfo.CurveRadius\nKi = 0.0\nKy = 0.0\nlimit = 2.12\nif (DwarfSignal == \"Ja\" and MainSignal == \"-\") then\n\tlimit = limit + 0.25\nelse\n\tlimit = limit + 0.4\nend\ndistToAlignment = math.abs(alignmentInfo.DistanceToAlignment)\nrightSided = alignmentInfo.DistanceToAlignment &lt;= 0.0\nif (curveRadius ~= math.huge) then\n\tKi = 81000.0/(2*curveRadius)\n\tKy = 63000.0/(2*curveRadius)\nend\nif ((alignmentInfo.CurveRotation == \"cw\" and not(rightSided)) or (alignmentInfo.CurveRotation == \"ccw\" and rightSided)) then \n\tlimit = limit + (Ky/1000.0)\nelse\n\tlimit = limit + (Ki/1000.0)\nend\nif (distToAlignment &lt;= limit) then\n\treturn string.format(\"%.3f\", distToAlignment)..\": Ugyldig - For nær spor '\"..alignmentInfo.AlignmentName..\"', øk avstand\", _error\nelseif (distToAlignment &gt; limit and distToAlignment &lt;= (limit + 0.4)) then\n\treturn string.format(\"%.3f\", distToAlignment)..\": Advarsel - Innenfor byggetoleranse men under anbefalt verdi, øk avstand\", _warning\nelse\n\treturn string.format(\"%.3f\", distToAlignment)..\": OK - Innenfor byggetoleranse med god margin\", _ok\nend</Formula>\r\n      <Symbol>_warning</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"SymbolFrame\" IsModelCheck=\"false\">\r\n      <Formula>NOBN_setModelCheckFrame()</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"IsInsideOcpArea\" IsModelCheck=\"true\">\r\n      <Formula>NOBN_isInsideOcpArea()</Formula>\r\n      <Symbol>_ok</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"ocpStationRef\" IsModelCheck=\"false\">\r\n      <Formula>area = NOBN_getAreaOfType(\"OCP Area\")\nreturn (area == null) and \"\" or area.id</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n  </LuaExpressions>\r\n  <CurrentModelCheckObjectsToUpdate xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <Seq xmlns=\"http://www.railml.org/schemas/2013\">0</Seq>\r\n  <Relations SourceSpace=\"signal\" xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <ObjectRelations />\r\n  </Relations>\r\n  <RcSection xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <SymbolOffsets xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <CustomAttributes xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <KeyValueString Key=\"Fag\" Value=\"Signal\" />\r\n    <KeyValueString Key=\"Tag\" Value=\"SA-SIG-nnnnnn\" />\r\n    <KeyValueString Key=\"ObjektInfo\" Value=\"\" />\r\n    <KeyValueString Key=\"MainSignal\" Value=\"Hs3\" />\r\n    <KeyValueString Key=\"EndOfTrainRoute\" Value=\"-\" />\r\n    <KeyValueString Key=\"DistantSignal\" Value=\"-\" />\r\n    <KeyValueString Key=\"DwarfSignal\" Value=\"Ja\" />\r\n    <KeyValueString Key=\"PositionLamp\" Value=\"-\" />\r\n    <KeyValueString Key=\"CautiousDrivingSignal\" Value=\"-\" />\r\n    <KeyValueString Key=\"LineSignal\" Value=\"-\" />\r\n    <KeyValueString Key=\"HighShuntingSignal\" Value=\"-\" />\r\n    <KeyValueString Key=\"OpticalSpeedSignal\" Value=\"-\" />\r\n    <KeyValueString Key=\"PoleOrYoke\" Value=\"Pole\" />\r\n    <KeyValueString Key=\"SikkerhetsavstandTilKL\" Value=\"Ingen KL-master innenfor 6 meter\" />\r\n    <KeyValueString Key=\"AvstandTilSpor\" Value=\"3.161: Advarsel - Innenfor byggetoleranse men under anbefalt verdi, øk avstand\" />\r\n    <KeyValueString Key=\"LineSignalValue\" Value=\"\" />\r\n    <KeyValueString Key=\"OpticalSpeedSignalValue\" Value=\"\" />\r\n    <KeyValueString Key=\"IsyProsesskode\" Value=\"3.52.13\" />\r\n    <KeyValueString Key=\"IsyProsessnavn\" Value=\"Lyssignal, 3-lys\" />\r\n    <KeyValueString Key=\"IsyMengde\" Value=\"1\" />\r\n    <KeyValueString Key=\"IsyEnhet\" Value=\"stk\" />\r\n    <KeyValueString Key=\"IsySted\" Value=\"OCP mangler\" />\r\n    <KeyValueString Key=\"IsyPostnotat\" Value=\"Navn: Hs.  Bestykning: Hs3-Ds  Beskrivelse: \" />\r\n    <KeyValueString Key=\"IsInsideOcpArea\" Value=\"Objektet er ikke omsluttet av noen OCP områder\" />\r\n  </CustomAttributes>\r\n  <TimeStamp xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <Item>\r\n      <DateTime>2018-10-15T12:55:49.8376373+02:00</DateTime>\r\n      <User>bjslu</User>\r\n    </Item>\r\n  </TimeStamp>\r\n  <geoCoord coord=\"95.042574333998346 109.91770257960889 0\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <DrawTail xmlns=\"http://www.railml.org/schemas/2013\">false</DrawTail>\r\n  <Earthing xmlns=\"http://www.railml.org/schemas/2013\">Unknown</Earthing>\r\n  <CableMarkerColor xmlns=\"http://www.railml.org/schemas/2013\">Green</CableMarkerColor>\r\n  <Offset3D X=\"0\" Y=\"0\" Z=\"0\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <Rotation3D X=\"0\" Y=\"0\" Z=\"0\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <Annotations3D xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <CadAnnotation Tag=\"ISY Prosesskode\" Invisible=\"true\" Height=\"2\">\r\n      <Formula>IsyProsesskode</Formula>\r\n      <Offset X=\"0\" Y=\"30\" Z=\"0\" />\r\n      <Attitude X=\"0\" Y=\"0\" Z=\"0\" />\r\n    </CadAnnotation>\r\n    <CadAnnotation Tag=\"ISY Prosessnavn\" Invisible=\"true\" Height=\"2\">\r\n      <Formula>IsyProsessnavn</Formula>\r\n      <Offset X=\"0\" Y=\"25\" Z=\"0\" />\r\n      <Attitude X=\"0\" Y=\"0\" Z=\"0\" />\r\n    </CadAnnotation>\r\n    <CadAnnotation Tag=\"ISY Mengde\" Invisible=\"true\" Height=\"2\">\r\n      <Formula>IsyMengde</Formula>\r\n      <Offset X=\"0\" Y=\"20\" Z=\"0\" />\r\n      <Attitude X=\"0\" Y=\"0\" Z=\"0\" />\r\n    </CadAnnotation>\r\n    <CadAnnotation Tag=\"ISY Enhet\" Invisible=\"true\" Height=\"2\">\r\n      <Formula>IsyEnhet</Formula>\r\n      <Offset X=\"0\" Y=\"15\" Z=\"0\" />\r\n      <Attitude X=\"0\" Y=\"0\" Z=\"0\" />\r\n    </CadAnnotation>\r\n    <CadAnnotation Tag=\"ISY Sted\" Invisible=\"true\" Height=\"2\">\r\n      <Formula>IsySted</Formula>\r\n      <Offset X=\"0\" Y=\"10\" Z=\"0\" />\r\n      <Attitude X=\"0\" Y=\"0\" Z=\"0\" />\r\n    </CadAnnotation>\r\n    <CadAnnotation Tag=\"ISY Postnotat\" Invisible=\"true\" Height=\"2\">\r\n      <Formula>IsyPostnotat</Formula>\r\n      <Offset X=\"0\" Y=\"5\" Z=\"0\" />\r\n      <Attitude X=\"0\" Y=\"0\" Z=\"0\" />\r\n    </CadAnnotation>\r\n  </Annotations3D>\r\n  <AnnotationOffset X=\"0\" Y=\"0\" Z=\"0\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <AnnotationRotation xmlns=\"http://www.railml.org/schemas/2013\">0</AnnotationRotation>\r\n  <AlignmentRotation3D X=\"0\" Y=\"0\" Z=\"-1.5139915437824847\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <DirectionRotation3D X=\"0\" Y=\"0\" Z=\"0\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <PoleRouting3D xmlns=\"http://www.railml.org/schemas/2013\">None</PoleRouting3D>\r\n  <Model3DName xmlns=\"http://www.railml.org/schemas/2013\">NO-BN-3D-SA-SIG-NSI63-HS-3-LYS-MED-DS</Model3DName>\r\n  <AlignmentTangent xmlns=\"http://www.railml.org/schemas/2013\">0.056804783012411791</AlignmentTangent>\r\n  <SymbolFrame Name=\"Warning\" CircleRadius=\"2\" HorizontalMargin=\"1\" VerticalMargin=\"1\" Color=\"Orange\" LineType=\"RC-DASHED\" LineWidth=\"0.2\" Transparency=\"200\" Layer=\"RC_SYMBOLFRAMES_WARNING\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <Alignment xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <Id>4c8ea38e-52e8-47a0-8b97-30bd1b5fa301</Id>\r\n  </Alignment>\r\n  <InheritPosition xmlns=\"http://www.railml.org/schemas/2013\">false</InheritPosition>\r\n  <speed xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <etcs xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <levelCrossing xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <trainRadio xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <catenary xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <line xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <milepost xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <braking xmlns=\"http://www.railml.org/schemas/2013\" />\r\n</tSignal>",
  "set <?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<tTrainDetector xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" id=\"26694f63-0478-4f06-bc2b-3ba9be32565f\" code=\"-/-\" name=\"Tp(-/-)\" Stage=\"\" pos=\"96.9088809194518\" absPos=\"96.9088809194518\" dir=\"both\" detectionObject=\"axle\" medium=\"magnetic\" posInTrack=\"rightRail\" directionDetection=\"false\" model=\"\" axleCounting=\"true\" ocpStationRef=\"\" controllerRef=\"\">\r\n  <Variant xmlns=\"http://www.railml.org/schemas/2013\">Tellepunkt</Variant>\r\n  <LuaExpressions xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <LuaExpression Name=\"code\" IsModelCheck=\"false\">\r\n      <Formula>NOBN_axleCounterCode()</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"name\" IsModelCheck=\"false\">\r\n      <Formula>\"Tp(\"..code..\")\"</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"IsInsideOcpArea\" IsModelCheck=\"true\">\r\n      <Formula>NOBN_isInsideOcpArea()</Formula>\r\n      <Symbol>_ok</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"ocpStationRef\" IsModelCheck=\"false\">\r\n      <Formula>NOBN_ocpStationRef()</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"Rotation3D.X\" IsModelCheck=\"false\">\r\n      <Formula>--SA_TEL@Rotation3d.X\n--Pitch (gradient)\ng = getAlignmentInfo().gradient\nif (NOBN_isNan(g)) then\n    return 0, _warning\nelse\n    -- Gradient is measured in meter elevation per thousand meters of horizontal displacement  \n    return math.atan(g/1000.0)*(180.0/math.pi)\nend</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"Rotation3D.Y\" IsModelCheck=\"false\">\r\n      <Formula>NOBN_objectRotation3DY()</Formula>\r\n      <Symbol>_warning</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"Offset3D.Z\" IsModelCheck=\"false\">\r\n      <Formula>NOBN_objectLiftWithCant()</Formula>\r\n      <Symbol>_warning</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"posInTrack\" IsModelCheck=\"false\">\r\n      <Formula>RightSided and \"leftRail\" or \"rightRail\"</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"DistanceToAlignment\" IsModelCheck=\"false\">\r\n      <Formula>RightSided and 0.75 or -0.75</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"RelativeElevation\" IsModelCheck=\"false\">\r\n      <Formula>0</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"AvstandTellepunkt\" IsModelCheck=\"true\">\r\n      <Formula>if (Alignment == null) then return \"Mangler spor\", _warning end\nclosestUp = getUpObject(\"SA-TEL Tellepunkt\")\nclosestDown = getDownObject(\"SA-TEL Tellepunkt\")\nobjectsToUpdate = {}\ndistUp = math.abs(distance(closestUp))\ndistDown = math.abs(distance(closestDown))\nclosest = nil\nif (NOBN_isNan(distUp)) then distUp = math.huge end\nif (NOBN_isNan(distDown)) then distDown = math.huge end\nif (distUp &gt; distDown) then \n\tclosest = closestDown\nelseif (distUp &lt; distDown) then\n\tclosest = closestUp\nelse\n\tif (distUp &lt; 22) then closest = closestUp end\nend\nif (closest == null) then return \"Ingen tellepunkt innenfor 22 meter\", _ok end\nclosestDist = math.abs(distance(closest))\nif(closestDist &gt; 22) then\n\treturn \"Ingen tellepunkt innenfor 22 meter\", _ok\nelse\n\tif (distUp &lt; 22) then  \n\t\ttable.insert(objectsToUpdate, closestUp)\n\tend\n\tif (distDown &lt; 22) then  \n\t\ttable.insert(objectsToUpdate, closestDown)\n\tend\n\t\n\tif (closestDist &lt; 21) then \n\t\treturn string.format(\"%.3f\", closestDist)..\": \"..closest.name, objectsToUpdate, _error\n\telseif (closestDist &lt; 22) then \n\t\treturn string.format(\"%.3f\", closestDist)..\": \"..closest.name, objectsToUpdate, _warning\n\telse\n\t\treturn \"Ingen tellepunkt innenfor 22 meter\", _ok\n\tend\nend</Formula>\r\n      <Symbol>_ok</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"SymbolFrame\" IsModelCheck=\"false\">\r\n      <Formula>NOBN_setModelCheckFrame()</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n  </LuaExpressions>\r\n  <CurrentModelCheckObjectsToUpdate xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <Seq xmlns=\"http://www.railml.org/schemas/2013\">0</Seq>\r\n  <Relations SourceSpace=\"tellepunkt\" xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <ObjectRelations />\r\n  </Relations>\r\n  <RcSection xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <SymbolOffsets xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <CustomAttributes xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <KeyValueString Key=\"Fag\" Value=\"Signal\" />\r\n    <KeyValueString Key=\"Tag\" Value=\"SA-TEL-nnnnnn\" />\r\n    <KeyValueString Key=\"ObjektInfo\" Value=\"\" />\r\n    <KeyValueString Key=\"MileageIncreasesTowardsLeft\" Value=\"False\" />\r\n    <KeyValueString Key=\"AvstandTellepunkt\" Value=\"Ingen tellepunkt innenfor 22 meter\" />\r\n    <KeyValueString Key=\"IsInsideOcpArea\" Value=\"Objektet er ikke omsluttet av noen OCP områder\" />\r\n  </CustomAttributes>\r\n  <TimeStamp xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <Item>\r\n      <DateTime>2018-10-15T12:56:31.1212248+02:00</DateTime>\r\n      <User>bjslu</User>\r\n    </Item>\r\n  </TimeStamp>\r\n  <geoCoord coord=\"143.7081234851448 109.82447495986914 0\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <DrawTail xmlns=\"http://www.railml.org/schemas/2013\">false</DrawTail>\r\n  <Earthing xmlns=\"http://www.railml.org/schemas/2013\">Unknown</Earthing>\r\n  <CableMarkerColor xmlns=\"http://www.railml.org/schemas/2013\">Green</CableMarkerColor>\r\n  <Offset3D X=\"0\" Y=\"0\" Z=\"0\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <Rotation3D X=\"0\" Y=\"0\" Z=\"0\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <Annotations3D xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <AnnotationOffset X=\"0\" Y=\"0\" Z=\"0\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <AnnotationRotation xmlns=\"http://www.railml.org/schemas/2013\">0</AnnotationRotation>\r\n  <AlignmentRotation3D X=\"0\" Y=\"0\" Z=\"-1.4560275710337285\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <DirectionRotation3D X=\"0\" Y=\"0\" Z=\"1.5707963267948966\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <PoleRouting3D xmlns=\"http://www.railml.org/schemas/2013\">None</PoleRouting3D>\r\n  <Model3DName xmlns=\"http://www.railml.org/schemas/2013\">NO-BN-3D-SA-TEL-THALES-TELLEPUNKT-SK30K</Model3DName>\r\n  <AlignmentTangent xmlns=\"http://www.railml.org/schemas/2013\">0.1147687557611681</AlignmentTangent>\r\n  <Alignment xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <Id>d5570c64-d3ff-4e4b-bb6c-797bf94e697e</Id>\r\n  </Alignment>\r\n  <UpSections xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <DownSections xmlns=\"http://www.railml.org/schemas/2013\" />\r\n</tTrainDetector>",
  "set <?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<tTrainDetector xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" id=\"26694f63-0478-4f06-bc2b-3ba9be32565f\" code=\"-/-\" name=\"Tp(-/-)\" Stage=\"\" pos=\"96.9088809194518\" absPos=\"96.9088809194518\" dir=\"both\" detectionObject=\"axle\" medium=\"magnetic\" posInTrack=\"rightRail\" directionDetection=\"false\" model=\"\" axleCounting=\"true\" ocpStationRef=\"\" controllerRef=\"\">\r\n  <Variant xmlns=\"http://www.railml.org/schemas/2013\">Tellepunkt</Variant>\r\n  <LuaExpressions xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <LuaExpression Name=\"code\" IsModelCheck=\"false\">\r\n      <Formula>NOBN_axleCounterCode()</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"name\" IsModelCheck=\"false\">\r\n      <Formula>\"Tp(\"..code..\")\"</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"IsInsideOcpArea\" IsModelCheck=\"true\">\r\n      <Formula>NOBN_isInsideOcpArea()</Formula>\r\n      <Symbol>_ok</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"ocpStationRef\" IsModelCheck=\"false\">\r\n      <Formula>NOBN_ocpStationRef()</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"Rotation3D.X\" IsModelCheck=\"false\">\r\n      <Formula>--SA_TEL@Rotation3d.X\n--Pitch (gradient)\ng = getAlignmentInfo().gradient\nif (NOBN_isNan(g)) then\n    return 0, _warning\nelse\n    -- Gradient is measured in meter elevation per thousand meters of horizontal displacement  \n    return math.atan(g/1000.0)*(180.0/math.pi)\nend</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"Rotation3D.Y\" IsModelCheck=\"false\">\r\n      <Formula>NOBN_objectRotation3DY()</Formula>\r\n      <Symbol>_warning</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"Offset3D.Z\" IsModelCheck=\"false\">\r\n      <Formula>NOBN_objectLiftWithCant()</Formula>\r\n      <Symbol>_warning</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"posInTrack\" IsModelCheck=\"false\">\r\n      <Formula>RightSided and \"leftRail\" or \"rightRail\"</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"DistanceToAlignment\" IsModelCheck=\"false\">\r\n      <Formula>RightSided and 0.75 or -0.75</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"RelativeElevation\" IsModelCheck=\"false\">\r\n      <Formula>0</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"AvstandTellepunkt\" IsModelCheck=\"true\">\r\n      <Formula>if (Alignment == null) then return \"Mangler spor\", _warning end\nclosestUp = getUpObject(\"SA-TEL Tellepunkt\")\nclosestDown = getDownObject(\"SA-TEL Tellepunkt\")\nobjectsToUpdate = {}\ndistUp = math.abs(distance(closestUp))\ndistDown = math.abs(distance(closestDown))\nclosest = nil\nif (NOBN_isNan(distUp)) then distUp = math.huge end\nif (NOBN_isNan(distDown)) then distDown = math.huge end\nif (distUp &gt; distDown) then \n\tclosest = closestDown\nelseif (distUp &lt; distDown) then\n\tclosest = closestUp\nelse\n\tif (distUp &lt; 22) then closest = closestUp end\nend\nif (closest == null) then return \"Ingen tellepunkt innenfor 22 meter\", _ok end\nclosestDist = math.abs(distance(closest))\nif(closestDist &gt; 22) then\n\treturn \"Ingen tellepunkt innenfor 22 meter\", _ok\nelse\n\tif (distUp &lt; 22) then  \n\t\ttable.insert(objectsToUpdate, closestUp)\n\tend\n\tif (distDown &lt; 22) then  \n\t\ttable.insert(objectsToUpdate, closestDown)\n\tend\n\t\n\tif (closestDist &lt; 21) then \n\t\treturn string.format(\"%.3f\", closestDist)..\": \"..closest.name, objectsToUpdate, _error\n\telseif (closestDist &lt; 22) then \n\t\treturn string.format(\"%.3f\", closestDist)..\": \"..closest.name, objectsToUpdate, _warning\n\telse\n\t\treturn \"Ingen tellepunkt innenfor 22 meter\", _ok\n\tend\nend</Formula>\r\n      <Symbol>_ok</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"SymbolFrame\" IsModelCheck=\"false\">\r\n      <Formula>NOBN_setModelCheckFrame()</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n  </LuaExpressions>\r\n  <CurrentModelCheckObjectsToUpdate xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <Seq xmlns=\"http://www.railml.org/schemas/2013\">0</Seq>\r\n  <Relations SourceSpace=\"tellepunkt\" xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <ObjectRelations />\r\n  </Relations>\r\n  <RcSection xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <SymbolOffsets xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <CustomAttributes xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <KeyValueString Key=\"Fag\" Value=\"Signal\" />\r\n    <KeyValueString Key=\"Tag\" Value=\"SA-TEL-nnnnnn\" />\r\n    <KeyValueString Key=\"ObjektInfo\" Value=\"\" />\r\n    <KeyValueString Key=\"MileageIncreasesTowardsLeft\" Value=\"False\" />\r\n    <KeyValueString Key=\"AvstandTellepunkt\" Value=\"Ingen tellepunkt innenfor 22 meter\" />\r\n    <KeyValueString Key=\"IsInsideOcpArea\" Value=\"Objektet er ikke omsluttet av noen OCP områder\" />\r\n  </CustomAttributes>\r\n  <TimeStamp xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <Item>\r\n      <DateTime>2018-10-15T12:56:31.1212248+02:00</DateTime>\r\n      <User>bjslu</User>\r\n    </Item>\r\n  </TimeStamp>\r\n  <geoCoord coord=\"143.7081234851448 109.82447495986914 0\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <DrawTail xmlns=\"http://www.railml.org/schemas/2013\">false</DrawTail>\r\n  <Earthing xmlns=\"http://www.railml.org/schemas/2013\">Unknown</Earthing>\r\n  <CableMarkerColor xmlns=\"http://www.railml.org/schemas/2013\">Green</CableMarkerColor>\r\n  <Offset3D X=\"0\" Y=\"0\" Z=\"0\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <Rotation3D X=\"0\" Y=\"0\" Z=\"0\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <Annotations3D xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <AnnotationOffset X=\"0\" Y=\"0\" Z=\"0\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <AnnotationRotation xmlns=\"http://www.railml.org/schemas/2013\">0</AnnotationRotation>\r\n  <AlignmentRotation3D X=\"0\" Y=\"0\" Z=\"-1.4560275710337285\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <DirectionRotation3D X=\"0\" Y=\"0\" Z=\"1.5707963267948966\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <PoleRouting3D xmlns=\"http://www.railml.org/schemas/2013\">None</PoleRouting3D>\r\n  <Model3DName xmlns=\"http://www.railml.org/schemas/2013\">NO-BN-3D-SA-TEL-THALES-TELLEPUNKT-SK30K</Model3DName>\r\n  <AlignmentTangent xmlns=\"http://www.railml.org/schemas/2013\">0.1147687557611681</AlignmentTangent>\r\n  <Alignment xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <Id>d5570c64-d3ff-4e4b-bb6c-797bf94e697e</Id>\r\n  </Alignment>\r\n  <UpSections xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <DownSections xmlns=\"http://www.railml.org/schemas/2013\" />\r\n</tTrainDetector>",
  "set <?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<tTrainDetector xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" id=\"430191ea-7707-4f5c-bc06-e006d801bf0c\" code=\"-/-\" name=\"Tp(-/-)\" Stage=\"\" pos=\"109.033241999617\" absPos=\"109.033241999617\" dir=\"both\" detectionObject=\"axle\" medium=\"magnetic\" posInTrack=\"rightRail\" directionDetection=\"false\" model=\"\" axleCounting=\"true\" ocpStationRef=\"\" controllerRef=\"\">\r\n  <Variant xmlns=\"http://www.railml.org/schemas/2013\">Tellepunkt</Variant>\r\n  <LuaExpressions xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <LuaExpression Name=\"code\" IsModelCheck=\"false\">\r\n      <Formula>NOBN_axleCounterCode()</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"name\" IsModelCheck=\"false\">\r\n      <Formula>\"Tp(\"..code..\")\"</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"IsInsideOcpArea\" IsModelCheck=\"true\">\r\n      <Formula>NOBN_isInsideOcpArea()</Formula>\r\n      <Symbol>_ok</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"ocpStationRef\" IsModelCheck=\"false\">\r\n      <Formula>NOBN_ocpStationRef()</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"Rotation3D.X\" IsModelCheck=\"false\">\r\n      <Formula>--SA_TEL@Rotation3d.X\n--Pitch (gradient)\ng = getAlignmentInfo().gradient\nif (NOBN_isNan(g)) then\n    return 0, _warning\nelse\n    -- Gradient is measured in meter elevation per thousand meters of horizontal displacement  \n    return math.atan(g/1000.0)*(180.0/math.pi)\nend</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"Rotation3D.Y\" IsModelCheck=\"false\">\r\n      <Formula>NOBN_objectRotation3DY()</Formula>\r\n      <Symbol>_warning</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"Offset3D.Z\" IsModelCheck=\"false\">\r\n      <Formula>NOBN_objectLiftWithCant()</Formula>\r\n      <Symbol>_warning</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"posInTrack\" IsModelCheck=\"false\">\r\n      <Formula>RightSided and \"leftRail\" or \"rightRail\"</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"DistanceToAlignment\" IsModelCheck=\"false\">\r\n      <Formula>RightSided and 0.75 or -0.75</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"RelativeElevation\" IsModelCheck=\"false\">\r\n      <Formula>0</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"AvstandTellepunkt\" IsModelCheck=\"true\">\r\n      <Formula>if (Alignment == null) then return \"Mangler spor\", _warning end\nclosestUp = getUpObject(\"SA-TEL Tellepunkt\")\nclosestDown = getDownObject(\"SA-TEL Tellepunkt\")\nobjectsToUpdate = {}\ndistUp = math.abs(distance(closestUp))\ndistDown = math.abs(distance(closestDown))\nclosest = nil\nif (NOBN_isNan(distUp)) then distUp = math.huge end\nif (NOBN_isNan(distDown)) then distDown = math.huge end\nif (distUp &gt; distDown) then \n\tclosest = closestDown\nelseif (distUp &lt; distDown) then\n\tclosest = closestUp\nelse\n\tif (distUp &lt; 22) then closest = closestUp end\nend\nif (closest == null) then return \"Ingen tellepunkt innenfor 22 meter\", _ok end\nclosestDist = math.abs(distance(closest))\nif(closestDist &gt; 22) then\n\treturn \"Ingen tellepunkt innenfor 22 meter\", _ok\nelse\n\tif (distUp &lt; 22) then  \n\t\ttable.insert(objectsToUpdate, closestUp)\n\tend\n\tif (distDown &lt; 22) then  \n\t\ttable.insert(objectsToUpdate, closestDown)\n\tend\n\t\n\tif (closestDist &lt; 21) then \n\t\treturn string.format(\"%.3f\", closestDist)..\": \"..closest.name, objectsToUpdate, _error\n\telseif (closestDist &lt; 22) then \n\t\treturn string.format(\"%.3f\", closestDist)..\": \"..closest.name, objectsToUpdate, _warning\n\telse\n\t\treturn \"Ingen tellepunkt innenfor 22 meter\", _ok\n\tend\nend</Formula>\r\n      <Symbol>_error</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"SymbolFrame\" IsModelCheck=\"false\">\r\n      <Formula>NOBN_setModelCheckFrame()</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n  </LuaExpressions>\r\n  <CurrentModelCheckObjectsToUpdate xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <string>26694f63-0478-4f06-bc2b-3ba9be32565f</string>\r\n  </CurrentModelCheckObjectsToUpdate>\r\n  <Seq xmlns=\"http://www.railml.org/schemas/2013\">0</Seq>\r\n  <Relations SourceSpace=\"tellepunkt\" xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <ObjectRelations />\r\n  </Relations>\r\n  <RcSection xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <SymbolOffsets xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <CustomAttributes xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <KeyValueString Key=\"Fag\" Value=\"Signal\" />\r\n    <KeyValueString Key=\"Tag\" Value=\"SA-TEL-nnnnnn\" />\r\n    <KeyValueString Key=\"ObjektInfo\" Value=\"\" />\r\n    <KeyValueString Key=\"MileageIncreasesTowardsLeft\" Value=\"False\" />\r\n    <KeyValueString Key=\"AvstandTellepunkt\" Value=\"12.124: Tp(-/-)\" />\r\n    <KeyValueString Key=\"IsInsideOcpArea\" Value=\"Objektet er ikke omsluttet av noen OCP områder\" />\r\n  </CustomAttributes>\r\n  <TimeStamp xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <Item>\r\n      <DateTime>2018-10-15T12:56:32.6662494+02:00</DateTime>\r\n      <User>bjslu</User>\r\n    </Item>\r\n  </TimeStamp>\r\n  <geoCoord coord=\"155.75272193728085 111.21292003585363 0\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <DrawTail xmlns=\"http://www.railml.org/schemas/2013\">false</DrawTail>\r\n  <Earthing xmlns=\"http://www.railml.org/schemas/2013\">Unknown</Earthing>\r\n  <CableMarkerColor xmlns=\"http://www.railml.org/schemas/2013\">Green</CableMarkerColor>\r\n  <Offset3D X=\"0\" Y=\"0\" Z=\"0\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <Rotation3D X=\"0\" Y=\"0\" Z=\"0\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <Annotations3D xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <AnnotationOffset X=\"0\" Y=\"0\" Z=\"0\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <AnnotationRotation xmlns=\"http://www.railml.org/schemas/2013\">0</AnnotationRotation>\r\n  <AlignmentRotation3D X=\"0\" Y=\"0\" Z=\"-1.4560275710337285\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <DirectionRotation3D X=\"0\" Y=\"0\" Z=\"1.5707963267948966\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <PoleRouting3D xmlns=\"http://www.railml.org/schemas/2013\">None</PoleRouting3D>\r\n  <Model3DName xmlns=\"http://www.railml.org/schemas/2013\">NO-BN-3D-SA-TEL-THALES-TELLEPUNKT-SK30K</Model3DName>\r\n  <AlignmentTangent xmlns=\"http://www.railml.org/schemas/2013\">0.1147687557611681</AlignmentTangent>\r\n  <SymbolFrame Name=\"Error\" CircleRadius=\"2\" HorizontalMargin=\"1\" VerticalMargin=\"1\" Color=\"Red\" LineType=\"RC-DASHED\" LineWidth=\"0.3\" Transparency=\"200\" Layer=\"RC_SYMBOLFRAMES_ERROR\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <Alignment xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <Id>d5570c64-d3ff-4e4b-bb6c-797bf94e697e</Id>\r\n  </Alignment>\r\n  <UpSections xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <DownSections xmlns=\"http://www.railml.org/schemas/2013\" />\r\n</tTrainDetector>",
  "set <?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<tTrainDetector xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" id=\"430191ea-7707-4f5c-bc06-e006d801bf0c\" code=\"-/-\" name=\"Tp(-/-)\" Stage=\"\" pos=\"109.033241999617\" absPos=\"109.033241999617\" dir=\"both\" detectionObject=\"axle\" medium=\"magnetic\" posInTrack=\"rightRail\" directionDetection=\"false\" model=\"\" axleCounting=\"true\" ocpStationRef=\"\" controllerRef=\"\">\r\n  <Variant xmlns=\"http://www.railml.org/schemas/2013\">Tellepunkt</Variant>\r\n  <LuaExpressions xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <LuaExpression Name=\"code\" IsModelCheck=\"false\">\r\n      <Formula>NOBN_axleCounterCode()</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"name\" IsModelCheck=\"false\">\r\n      <Formula>\"Tp(\"..code..\")\"</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"IsInsideOcpArea\" IsModelCheck=\"true\">\r\n      <Formula>NOBN_isInsideOcpArea()</Formula>\r\n      <Symbol>_ok</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"ocpStationRef\" IsModelCheck=\"false\">\r\n      <Formula>NOBN_ocpStationRef()</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"Rotation3D.X\" IsModelCheck=\"false\">\r\n      <Formula>--SA_TEL@Rotation3d.X\n--Pitch (gradient)\ng = getAlignmentInfo().gradient\nif (NOBN_isNan(g)) then\n    return 0, _warning\nelse\n    -- Gradient is measured in meter elevation per thousand meters of horizontal displacement  \n    return math.atan(g/1000.0)*(180.0/math.pi)\nend</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"Rotation3D.Y\" IsModelCheck=\"false\">\r\n      <Formula>NOBN_objectRotation3DY()</Formula>\r\n      <Symbol>_warning</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"Offset3D.Z\" IsModelCheck=\"false\">\r\n      <Formula>NOBN_objectLiftWithCant()</Formula>\r\n      <Symbol>_warning</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"posInTrack\" IsModelCheck=\"false\">\r\n      <Formula>RightSided and \"leftRail\" or \"rightRail\"</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"DistanceToAlignment\" IsModelCheck=\"false\">\r\n      <Formula>RightSided and 0.75 or -0.75</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"RelativeElevation\" IsModelCheck=\"false\">\r\n      <Formula>0</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"AvstandTellepunkt\" IsModelCheck=\"true\">\r\n      <Formula>if (Alignment == null) then return \"Mangler spor\", _warning end\nclosestUp = getUpObject(\"SA-TEL Tellepunkt\")\nclosestDown = getDownObject(\"SA-TEL Tellepunkt\")\nobjectsToUpdate = {}\ndistUp = math.abs(distance(closestUp))\ndistDown = math.abs(distance(closestDown))\nclosest = nil\nif (NOBN_isNan(distUp)) then distUp = math.huge end\nif (NOBN_isNan(distDown)) then distDown = math.huge end\nif (distUp &gt; distDown) then \n\tclosest = closestDown\nelseif (distUp &lt; distDown) then\n\tclosest = closestUp\nelse\n\tif (distUp &lt; 22) then closest = closestUp end\nend\nif (closest == null) then return \"Ingen tellepunkt innenfor 22 meter\", _ok end\nclosestDist = math.abs(distance(closest))\nif(closestDist &gt; 22) then\n\treturn \"Ingen tellepunkt innenfor 22 meter\", _ok\nelse\n\tif (distUp &lt; 22) then  \n\t\ttable.insert(objectsToUpdate, closestUp)\n\tend\n\tif (distDown &lt; 22) then  \n\t\ttable.insert(objectsToUpdate, closestDown)\n\tend\n\t\n\tif (closestDist &lt; 21) then \n\t\treturn string.format(\"%.3f\", closestDist)..\": \"..closest.name, objectsToUpdate, _error\n\telseif (closestDist &lt; 22) then \n\t\treturn string.format(\"%.3f\", closestDist)..\": \"..closest.name, objectsToUpdate, _warning\n\telse\n\t\treturn \"Ingen tellepunkt innenfor 22 meter\", _ok\n\tend\nend</Formula>\r\n      <Symbol>_error</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"SymbolFrame\" IsModelCheck=\"false\">\r\n      <Formula>NOBN_setModelCheckFrame()</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n  </LuaExpressions>\r\n  <CurrentModelCheckObjectsToUpdate xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <string>26694f63-0478-4f06-bc2b-3ba9be32565f</string>\r\n  </CurrentModelCheckObjectsToUpdate>\r\n  <Seq xmlns=\"http://www.railml.org/schemas/2013\">0</Seq>\r\n  <Relations SourceSpace=\"tellepunkt\" xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <ObjectRelations />\r\n  </Relations>\r\n  <RcSection xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <SymbolOffsets xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <CustomAttributes xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <KeyValueString Key=\"Fag\" Value=\"Signal\" />\r\n    <KeyValueString Key=\"Tag\" Value=\"SA-TEL-nnnnnn\" />\r\n    <KeyValueString Key=\"ObjektInfo\" Value=\"\" />\r\n    <KeyValueString Key=\"MileageIncreasesTowardsLeft\" Value=\"False\" />\r\n    <KeyValueString Key=\"AvstandTellepunkt\" Value=\"12.124: Tp(-/-)\" />\r\n    <KeyValueString Key=\"IsInsideOcpArea\" Value=\"Objektet er ikke omsluttet av noen OCP områder\" />\r\n  </CustomAttributes>\r\n  <TimeStamp xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <Item>\r\n      <DateTime>2018-10-15T12:56:32.6662494+02:00</DateTime>\r\n      <User>bjslu</User>\r\n    </Item>\r\n  </TimeStamp>\r\n  <geoCoord coord=\"155.75272193728085 111.21292003585363 0\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <DrawTail xmlns=\"http://www.railml.org/schemas/2013\">false</DrawTail>\r\n  <Earthing xmlns=\"http://www.railml.org/schemas/2013\">Unknown</Earthing>\r\n  <CableMarkerColor xmlns=\"http://www.railml.org/schemas/2013\">Green</CableMarkerColor>\r\n  <Offset3D X=\"0\" Y=\"0\" Z=\"0\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <Rotation3D X=\"0\" Y=\"0\" Z=\"0\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <Annotations3D xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <AnnotationOffset X=\"0\" Y=\"0\" Z=\"0\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <AnnotationRotation xmlns=\"http://www.railml.org/schemas/2013\">0</AnnotationRotation>\r\n  <AlignmentRotation3D X=\"0\" Y=\"0\" Z=\"-1.4560275710337285\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <DirectionRotation3D X=\"0\" Y=\"0\" Z=\"1.5707963267948966\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <PoleRouting3D xmlns=\"http://www.railml.org/schemas/2013\">None</PoleRouting3D>\r\n  <Model3DName xmlns=\"http://www.railml.org/schemas/2013\">NO-BN-3D-SA-TEL-THALES-TELLEPUNKT-SK30K</Model3DName>\r\n  <AlignmentTangent xmlns=\"http://www.railml.org/schemas/2013\">0.1147687557611681</AlignmentTangent>\r\n  <SymbolFrame Name=\"Error\" CircleRadius=\"2\" HorizontalMargin=\"1\" VerticalMargin=\"1\" Color=\"Red\" LineType=\"RC-DASHED\" LineWidth=\"0.3\" Transparency=\"200\" Layer=\"RC_SYMBOLFRAMES_ERROR\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <Alignment xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <Id>d5570c64-d3ff-4e4b-bb6c-797bf94e697e</Id>\r\n  </Alignment>\r\n  <UpSections xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <DownSections xmlns=\"http://www.railml.org/schemas/2013\" />\r\n</tTrainDetector>",
  "set <?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<tTrainDetector xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" id=\"26694f63-0478-4f06-bc2b-3ba9be32565f\" code=\"-/-\" name=\"Tp(-/-)\" Stage=\"\" pos=\"96.9088809194518\" absPos=\"96.9088809194518\" dir=\"both\" detectionObject=\"axle\" medium=\"magnetic\" posInTrack=\"rightRail\" directionDetection=\"false\" model=\"\" axleCounting=\"true\" ocpStationRef=\"\" controllerRef=\"\">\r\n  <Variant xmlns=\"http://www.railml.org/schemas/2013\">Tellepunkt</Variant>\r\n  <LuaExpressions xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <LuaExpression Name=\"code\" IsModelCheck=\"false\">\r\n      <Formula>NOBN_axleCounterCode()</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"name\" IsModelCheck=\"false\">\r\n      <Formula>\"Tp(\"..code..\")\"</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"IsInsideOcpArea\" IsModelCheck=\"true\">\r\n      <Formula>NOBN_isInsideOcpArea()</Formula>\r\n      <Symbol>_ok</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"ocpStationRef\" IsModelCheck=\"false\">\r\n      <Formula>NOBN_ocpStationRef()</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"Rotation3D.X\" IsModelCheck=\"false\">\r\n      <Formula>--SA_TEL@Rotation3d.X\n--Pitch (gradient)\ng = getAlignmentInfo().gradient\nif (NOBN_isNan(g)) then\n    return 0, _warning\nelse\n    -- Gradient is measured in meter elevation per thousand meters of horizontal displacement  \n    return math.atan(g/1000.0)*(180.0/math.pi)\nend</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"Rotation3D.Y\" IsModelCheck=\"false\">\r\n      <Formula>NOBN_objectRotation3DY()</Formula>\r\n      <Symbol>_warning</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"Offset3D.Z\" IsModelCheck=\"false\">\r\n      <Formula>NOBN_objectLiftWithCant()</Formula>\r\n      <Symbol>_warning</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"posInTrack\" IsModelCheck=\"false\">\r\n      <Formula>RightSided and \"leftRail\" or \"rightRail\"</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"DistanceToAlignment\" IsModelCheck=\"false\">\r\n      <Formula>RightSided and 0.75 or -0.75</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"RelativeElevation\" IsModelCheck=\"false\">\r\n      <Formula>0</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"AvstandTellepunkt\" IsModelCheck=\"true\">\r\n      <Formula>if (Alignment == null) then return \"Mangler spor\", _warning end\nclosestUp = getUpObject(\"SA-TEL Tellepunkt\")\nclosestDown = getDownObject(\"SA-TEL Tellepunkt\")\nobjectsToUpdate = {}\ndistUp = math.abs(distance(closestUp))\ndistDown = math.abs(distance(closestDown))\nclosest = nil\nif (NOBN_isNan(distUp)) then distUp = math.huge end\nif (NOBN_isNan(distDown)) then distDown = math.huge end\nif (distUp &gt; distDown) then \n\tclosest = closestDown\nelseif (distUp &lt; distDown) then\n\tclosest = closestUp\nelse\n\tif (distUp &lt; 22) then closest = closestUp end\nend\nif (closest == null) then return \"Ingen tellepunkt innenfor 22 meter\", _ok end\nclosestDist = math.abs(distance(closest))\nif(closestDist &gt; 22) then\n\treturn \"Ingen tellepunkt innenfor 22 meter\", _ok\nelse\n\tif (distUp &lt; 22) then  \n\t\ttable.insert(objectsToUpdate, closestUp)\n\tend\n\tif (distDown &lt; 22) then  \n\t\ttable.insert(objectsToUpdate, closestDown)\n\tend\n\t\n\tif (closestDist &lt; 21) then \n\t\treturn string.format(\"%.3f\", closestDist)..\": \"..closest.name, objectsToUpdate, _error\n\telseif (closestDist &lt; 22) then \n\t\treturn string.format(\"%.3f\", closestDist)..\": \"..closest.name, objectsToUpdate, _warning\n\telse\n\t\treturn \"Ingen tellepunkt innenfor 22 meter\", _ok\n\tend\nend</Formula>\r\n      <Symbol>_error</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"SymbolFrame\" IsModelCheck=\"false\">\r\n      <Formula>NOBN_setModelCheckFrame()</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n  </LuaExpressions>\r\n  <CurrentModelCheckObjectsToUpdate xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <string>430191ea-7707-4f5c-bc06-e006d801bf0c</string>\r\n  </CurrentModelCheckObjectsToUpdate>\r\n  <Seq xmlns=\"http://www.railml.org/schemas/2013\">0</Seq>\r\n  <Relations SourceSpace=\"tellepunkt\" xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <ObjectRelations />\r\n  </Relations>\r\n  <RcSection xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <SymbolOffsets xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <CustomAttributes xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <KeyValueString Key=\"Fag\" Value=\"Signal\" />\r\n    <KeyValueString Key=\"Tag\" Value=\"SA-TEL-nnnnnn\" />\r\n    <KeyValueString Key=\"ObjektInfo\" Value=\"\" />\r\n    <KeyValueString Key=\"MileageIncreasesTowardsLeft\" Value=\"False\" />\r\n    <KeyValueString Key=\"AvstandTellepunkt\" Value=\"12.124: Tp(-/-)\" />\r\n    <KeyValueString Key=\"IsInsideOcpArea\" Value=\"Objektet er ikke omsluttet av noen OCP områder\" />\r\n  </CustomAttributes>\r\n  <TimeStamp xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <Item>\r\n      <DateTime>2018-10-15T12:56:31.1212248+02:00</DateTime>\r\n      <User>bjslu</User>\r\n    </Item>\r\n  </TimeStamp>\r\n  <geoCoord coord=\"143.7081234851448 109.82447495986914 0\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <DrawTail xmlns=\"http://www.railml.org/schemas/2013\">false</DrawTail>\r\n  <Earthing xmlns=\"http://www.railml.org/schemas/2013\">Unknown</Earthing>\r\n  <CableMarkerColor xmlns=\"http://www.railml.org/schemas/2013\">Green</CableMarkerColor>\r\n  <Offset3D X=\"0\" Y=\"0\" Z=\"0\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <Rotation3D X=\"0\" Y=\"0\" Z=\"0\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <Annotations3D xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <AnnotationOffset X=\"0\" Y=\"0\" Z=\"0\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <AnnotationRotation xmlns=\"http://www.railml.org/schemas/2013\">0</AnnotationRotation>\r\n  <AlignmentRotation3D X=\"0\" Y=\"0\" Z=\"-1.4560275710337285\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <DirectionRotation3D X=\"0\" Y=\"0\" Z=\"1.5707963267948966\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <PoleRouting3D xmlns=\"http://www.railml.org/schemas/2013\">None</PoleRouting3D>\r\n  <Model3DName xmlns=\"http://www.railml.org/schemas/2013\">NO-BN-3D-SA-TEL-THALES-TELLEPUNKT-SK30K</Model3DName>\r\n  <AlignmentTangent xmlns=\"http://www.railml.org/schemas/2013\">0.1147687557611681</AlignmentTangent>\r\n  <SymbolFrame Name=\"Error\" CircleRadius=\"2\" HorizontalMargin=\"1\" VerticalMargin=\"1\" Color=\"Red\" LineType=\"RC-DASHED\" LineWidth=\"0.3\" Transparency=\"200\" Layer=\"RC_SYMBOLFRAMES_ERROR\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <Alignment xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <Id>d5570c64-d3ff-4e4b-bb6c-797bf94e697e</Id>\r\n  </Alignment>\r\n  <UpSections xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <DownSections xmlns=\"http://www.railml.org/schemas/2013\" />\r\n</tTrainDetector>",
  "set <?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<tTrainDetector xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" id=\"918e527d-a568-40a6-8243-9e0d9de0fd11\" code=\"-/-\" name=\"Tp(-/-)\" Stage=\"\" pos=\"2.60350125463046\" absPos=\"2.60350125463046\" dir=\"both\" detectionObject=\"axle\" medium=\"magnetic\" posInTrack=\"rightRail\" directionDetection=\"false\" model=\"\" axleCounting=\"true\" ocpStationRef=\"\" controllerRef=\"\">\r\n  <Variant xmlns=\"http://www.railml.org/schemas/2013\">Tellepunkt</Variant>\r\n  <LuaExpressions xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <LuaExpression Name=\"code\" IsModelCheck=\"false\">\r\n      <Formula>NOBN_axleCounterCode()</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"name\" IsModelCheck=\"false\">\r\n      <Formula>\"Tp(\"..code..\")\"</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"IsInsideOcpArea\" IsModelCheck=\"true\">\r\n      <Formula>NOBN_isInsideOcpArea()</Formula>\r\n      <Symbol>_ok</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"ocpStationRef\" IsModelCheck=\"false\">\r\n      <Formula>NOBN_ocpStationRef()</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"Rotation3D.X\" IsModelCheck=\"false\">\r\n      <Formula>--SA_TEL@Rotation3d.X\n--Pitch (gradient)\ng = getAlignmentInfo().gradient\nif (NOBN_isNan(g)) then\n    return 0, _warning\nelse\n    -- Gradient is measured in meter elevation per thousand meters of horizontal displacement  \n    return math.atan(g/1000.0)*(180.0/math.pi)\nend</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"Rotation3D.Y\" IsModelCheck=\"false\">\r\n      <Formula>NOBN_objectRotation3DY()</Formula>\r\n      <Symbol>_warning</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"Offset3D.Z\" IsModelCheck=\"false\">\r\n      <Formula>NOBN_objectLiftWithCant()</Formula>\r\n      <Symbol>_warning</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"posInTrack\" IsModelCheck=\"false\">\r\n      <Formula>RightSided and \"leftRail\" or \"rightRail\"</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"DistanceToAlignment\" IsModelCheck=\"false\">\r\n      <Formula>RightSided and 0.75 or -0.75</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"RelativeElevation\" IsModelCheck=\"false\">\r\n      <Formula>0</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"AvstandTellepunkt\" IsModelCheck=\"true\">\r\n      <Formula>if (Alignment == null) then return \"Mangler spor\", _warning end\nclosestUp = getUpObject(\"SA-TEL Tellepunkt\")\nclosestDown = getDownObject(\"SA-TEL Tellepunkt\")\nobjectsToUpdate = {}\ndistUp = math.abs(distance(closestUp))\ndistDown = math.abs(distance(closestDown))\nclosest = nil\nif (NOBN_isNan(distUp)) then distUp = math.huge end\nif (NOBN_isNan(distDown)) then distDown = math.huge end\nif (distUp &gt; distDown) then \n\tclosest = closestDown\nelseif (distUp &lt; distDown) then\n\tclosest = closestUp\nelse\n\tif (distUp &lt; 22) then closest = closestUp end\nend\nif (closest == null) then return \"Ingen tellepunkt innenfor 22 meter\", _ok end\nclosestDist = math.abs(distance(closest))\nif(closestDist &gt; 22) then\n\treturn \"Ingen tellepunkt innenfor 22 meter\", _ok\nelse\n\tif (distUp &lt; 22) then  \n\t\ttable.insert(objectsToUpdate, closestUp)\n\tend\n\tif (distDown &lt; 22) then  \n\t\ttable.insert(objectsToUpdate, closestDown)\n\tend\n\t\n\tif (closestDist &lt; 21) then \n\t\treturn string.format(\"%.3f\", closestDist)..\": \"..closest.name, objectsToUpdate, _error\n\telseif (closestDist &lt; 22) then \n\t\treturn string.format(\"%.3f\", closestDist)..\": \"..closest.name, objectsToUpdate, _warning\n\telse\n\t\treturn \"Ingen tellepunkt innenfor 22 meter\", _ok\n\tend\nend</Formula>\r\n      <Symbol>_ok</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"SymbolFrame\" IsModelCheck=\"false\">\r\n      <Formula>NOBN_setModelCheckFrame()</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n  </LuaExpressions>\r\n  <CurrentModelCheckObjectsToUpdate xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <Seq xmlns=\"http://www.railml.org/schemas/2013\">0</Seq>\r\n  <Relations SourceSpace=\"tellepunkt\" xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <ObjectRelations />\r\n  </Relations>\r\n  <RcSection xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <SymbolOffsets xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <CustomAttributes xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <KeyValueString Key=\"Fag\" Value=\"Signal\" />\r\n    <KeyValueString Key=\"Tag\" Value=\"SA-TEL-nnnnnn\" />\r\n    <KeyValueString Key=\"ObjektInfo\" Value=\"\" />\r\n    <KeyValueString Key=\"MileageIncreasesTowardsLeft\" Value=\"False\" />\r\n    <KeyValueString Key=\"AvstandTellepunkt\" Value=\"Ingen tellepunkt innenfor 22 meter\" />\r\n    <KeyValueString Key=\"IsInsideOcpArea\" Value=\"Objektet er ikke omsluttet av noen OCP områder\" />\r\n  </CustomAttributes>\r\n  <TimeStamp xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <Item>\r\n      <DateTime>2018-10-15T12:56:34.8099295+02:00</DateTime>\r\n      <User>bjslu</User>\r\n    </Item>\r\n  </TimeStamp>\r\n  <geoCoord coord=\"50.023151351047268 99.024908766754336 0\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <DrawTail xmlns=\"http://www.railml.org/schemas/2013\">false</DrawTail>\r\n  <Earthing xmlns=\"http://www.railml.org/schemas/2013\">Unknown</Earthing>\r\n  <CableMarkerColor xmlns=\"http://www.railml.org/schemas/2013\">Green</CableMarkerColor>\r\n  <Offset3D X=\"0\" Y=\"0\" Z=\"0\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <Rotation3D X=\"0\" Y=\"0\" Z=\"0\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <Annotations3D xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <AnnotationOffset X=\"0\" Y=\"0\" Z=\"0\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <AnnotationRotation xmlns=\"http://www.railml.org/schemas/2013\">0</AnnotationRotation>\r\n  <AlignmentRotation3D X=\"0\" Y=\"0\" Z=\"-1.4560275710337285\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <DirectionRotation3D X=\"0\" Y=\"0\" Z=\"1.5707963267948966\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <PoleRouting3D xmlns=\"http://www.railml.org/schemas/2013\">None</PoleRouting3D>\r\n  <Model3DName xmlns=\"http://www.railml.org/schemas/2013\">NO-BN-3D-SA-TEL-THALES-TELLEPUNKT-SK30K</Model3DName>\r\n  <AlignmentTangent xmlns=\"http://www.railml.org/schemas/2013\">0.1147687557611681</AlignmentTangent>\r\n  <Alignment xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <Id>d5570c64-d3ff-4e4b-bb6c-797bf94e697e</Id>\r\n  </Alignment>\r\n  <UpSections xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <DownSections xmlns=\"http://www.railml.org/schemas/2013\" />\r\n</tTrainDetector>",
  "set <?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<tTrainDetector xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" id=\"918e527d-a568-40a6-8243-9e0d9de0fd11\" code=\"-/-\" name=\"Tp(-/-)\" Stage=\"\" pos=\"2.60350125463046\" absPos=\"2.60350125463046\" dir=\"both\" detectionObject=\"axle\" medium=\"magnetic\" posInTrack=\"rightRail\" directionDetection=\"false\" model=\"\" axleCounting=\"true\" ocpStationRef=\"\" controllerRef=\"\">\r\n  <Variant xmlns=\"http://www.railml.org/schemas/2013\">Tellepunkt</Variant>\r\n  <LuaExpressions xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <LuaExpression Name=\"code\" IsModelCheck=\"false\">\r\n      <Formula>NOBN_axleCounterCode()</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"name\" IsModelCheck=\"false\">\r\n      <Formula>\"Tp(\"..code..\")\"</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"IsInsideOcpArea\" IsModelCheck=\"true\">\r\n      <Formula>NOBN_isInsideOcpArea()</Formula>\r\n      <Symbol>_ok</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"ocpStationRef\" IsModelCheck=\"false\">\r\n      <Formula>NOBN_ocpStationRef()</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"Rotation3D.X\" IsModelCheck=\"false\">\r\n      <Formula>--SA_TEL@Rotation3d.X\n--Pitch (gradient)\ng = getAlignmentInfo().gradient\nif (NOBN_isNan(g)) then\n    return 0, _warning\nelse\n    -- Gradient is measured in meter elevation per thousand meters of horizontal displacement  \n    return math.atan(g/1000.0)*(180.0/math.pi)\nend</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"Rotation3D.Y\" IsModelCheck=\"false\">\r\n      <Formula>NOBN_objectRotation3DY()</Formula>\r\n      <Symbol>_warning</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"Offset3D.Z\" IsModelCheck=\"false\">\r\n      <Formula>NOBN_objectLiftWithCant()</Formula>\r\n      <Symbol>_warning</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"posInTrack\" IsModelCheck=\"false\">\r\n      <Formula>RightSided and \"leftRail\" or \"rightRail\"</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"DistanceToAlignment\" IsModelCheck=\"false\">\r\n      <Formula>RightSided and 0.75 or -0.75</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"RelativeElevation\" IsModelCheck=\"false\">\r\n      <Formula>0</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"AvstandTellepunkt\" IsModelCheck=\"true\">\r\n      <Formula>if (Alignment == null) then return \"Mangler spor\", _warning end\nclosestUp = getUpObject(\"SA-TEL Tellepunkt\")\nclosestDown = getDownObject(\"SA-TEL Tellepunkt\")\nobjectsToUpdate = {}\ndistUp = math.abs(distance(closestUp))\ndistDown = math.abs(distance(closestDown))\nclosest = nil\nif (NOBN_isNan(distUp)) then distUp = math.huge end\nif (NOBN_isNan(distDown)) then distDown = math.huge end\nif (distUp &gt; distDown) then \n\tclosest = closestDown\nelseif (distUp &lt; distDown) then\n\tclosest = closestUp\nelse\n\tif (distUp &lt; 22) then closest = closestUp end\nend\nif (closest == null) then return \"Ingen tellepunkt innenfor 22 meter\", _ok end\nclosestDist = math.abs(distance(closest))\nif(closestDist &gt; 22) then\n\treturn \"Ingen tellepunkt innenfor 22 meter\", _ok\nelse\n\tif (distUp &lt; 22) then  \n\t\ttable.insert(objectsToUpdate, closestUp)\n\tend\n\tif (distDown &lt; 22) then  \n\t\ttable.insert(objectsToUpdate, closestDown)\n\tend\n\t\n\tif (closestDist &lt; 21) then \n\t\treturn string.format(\"%.3f\", closestDist)..\": \"..closest.name, objectsToUpdate, _error\n\telseif (closestDist &lt; 22) then \n\t\treturn string.format(\"%.3f\", closestDist)..\": \"..closest.name, objectsToUpdate, _warning\n\telse\n\t\treturn \"Ingen tellepunkt innenfor 22 meter\", _ok\n\tend\nend</Formula>\r\n      <Symbol>_ok</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"SymbolFrame\" IsModelCheck=\"false\">\r\n      <Formula>NOBN_setModelCheckFrame()</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n  </LuaExpressions>\r\n  <CurrentModelCheckObjectsToUpdate xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <Seq xmlns=\"http://www.railml.org/schemas/2013\">0</Seq>\r\n  <Relations SourceSpace=\"tellepunkt\" xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <ObjectRelations />\r\n  </Relations>\r\n  <RcSection xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <SymbolOffsets xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <CustomAttributes xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <KeyValueString Key=\"Fag\" Value=\"Signal\" />\r\n    <KeyValueString Key=\"Tag\" Value=\"SA-TEL-nnnnnn\" />\r\n    <KeyValueString Key=\"ObjektInfo\" Value=\"\" />\r\n    <KeyValueString Key=\"MileageIncreasesTowardsLeft\" Value=\"False\" />\r\n    <KeyValueString Key=\"AvstandTellepunkt\" Value=\"Ingen tellepunkt innenfor 22 meter\" />\r\n    <KeyValueString Key=\"IsInsideOcpArea\" Value=\"Objektet er ikke omsluttet av noen OCP områder\" />\r\n  </CustomAttributes>\r\n  <TimeStamp xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <Item>\r\n      <DateTime>2018-10-15T12:56:34.8099295+02:00</DateTime>\r\n      <User>bjslu</User>\r\n    </Item>\r\n  </TimeStamp>\r\n  <geoCoord coord=\"50.023151351047268 99.024908766754336 0\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <DrawTail xmlns=\"http://www.railml.org/schemas/2013\">false</DrawTail>\r\n  <Earthing xmlns=\"http://www.railml.org/schemas/2013\">Unknown</Earthing>\r\n  <CableMarkerColor xmlns=\"http://www.railml.org/schemas/2013\">Green</CableMarkerColor>\r\n  <Offset3D X=\"0\" Y=\"0\" Z=\"0\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <Rotation3D X=\"0\" Y=\"0\" Z=\"0\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <Annotations3D xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <AnnotationOffset X=\"0\" Y=\"0\" Z=\"0\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <AnnotationRotation xmlns=\"http://www.railml.org/schemas/2013\">0</AnnotationRotation>\r\n  <AlignmentRotation3D X=\"0\" Y=\"0\" Z=\"-1.4560275710337285\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <DirectionRotation3D X=\"0\" Y=\"0\" Z=\"1.5707963267948966\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <PoleRouting3D xmlns=\"http://www.railml.org/schemas/2013\">None</PoleRouting3D>\r\n  <Model3DName xmlns=\"http://www.railml.org/schemas/2013\">NO-BN-3D-SA-TEL-THALES-TELLEPUNKT-SK30K</Model3DName>\r\n  <AlignmentTangent xmlns=\"http://www.railml.org/schemas/2013\">0.1147687557611681</AlignmentTangent>\r\n  <Alignment xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <Id>d5570c64-d3ff-4e4b-bb6c-797bf94e697e</Id>\r\n  </Alignment>\r\n  <UpSections xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <DownSections xmlns=\"http://www.railml.org/schemas/2013\" />\r\n</tTrainDetector>",
  "set <?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<tTrainDetector xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" id=\"aad4a8ab-a4e2-4acd-a69b-152ba14d8c82\" code=\"-/-\" name=\"Tp(-/-)\" Stage=\"\" pos=\"6.69467111917814\" absPos=\"6.69467111917814\" dir=\"both\" detectionObject=\"axle\" medium=\"magnetic\" posInTrack=\"rightRail\" directionDetection=\"false\" model=\"\" axleCounting=\"true\" ocpStationRef=\"\" controllerRef=\"\">\r\n  <Variant xmlns=\"http://www.railml.org/schemas/2013\">Tellepunkt</Variant>\r\n  <LuaExpressions xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <LuaExpression Name=\"code\" IsModelCheck=\"false\">\r\n      <Formula>NOBN_axleCounterCode()</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"name\" IsModelCheck=\"false\">\r\n      <Formula>\"Tp(\"..code..\")\"</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"IsInsideOcpArea\" IsModelCheck=\"true\">\r\n      <Formula>NOBN_isInsideOcpArea()</Formula>\r\n      <Symbol>_ok</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"ocpStationRef\" IsModelCheck=\"false\">\r\n      <Formula>NOBN_ocpStationRef()</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"Rotation3D.X\" IsModelCheck=\"false\">\r\n      <Formula>--SA_TEL@Rotation3d.X\n--Pitch (gradient)\ng = getAlignmentInfo().gradient\nif (NOBN_isNan(g)) then\n    return 0, _warning\nelse\n    -- Gradient is measured in meter elevation per thousand meters of horizontal displacement  \n    return math.atan(g/1000.0)*(180.0/math.pi)\nend</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"Rotation3D.Y\" IsModelCheck=\"false\">\r\n      <Formula>NOBN_objectRotation3DY()</Formula>\r\n      <Symbol>_warning</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"Offset3D.Z\" IsModelCheck=\"false\">\r\n      <Formula>NOBN_objectLiftWithCant()</Formula>\r\n      <Symbol>_warning</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"posInTrack\" IsModelCheck=\"false\">\r\n      <Formula>RightSided and \"leftRail\" or \"rightRail\"</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"DistanceToAlignment\" IsModelCheck=\"false\">\r\n      <Formula>RightSided and 0.75 or -0.75</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"RelativeElevation\" IsModelCheck=\"false\">\r\n      <Formula>0</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"AvstandTellepunkt\" IsModelCheck=\"true\">\r\n      <Formula>if (Alignment == null) then return \"Mangler spor\", _warning end\nclosestUp = getUpObject(\"SA-TEL Tellepunkt\")\nclosestDown = getDownObject(\"SA-TEL Tellepunkt\")\nobjectsToUpdate = {}\ndistUp = math.abs(distance(closestUp))\ndistDown = math.abs(distance(closestDown))\nclosest = nil\nif (NOBN_isNan(distUp)) then distUp = math.huge end\nif (NOBN_isNan(distDown)) then distDown = math.huge end\nif (distUp &gt; distDown) then \n\tclosest = closestDown\nelseif (distUp &lt; distDown) then\n\tclosest = closestUp\nelse\n\tif (distUp &lt; 22) then closest = closestUp end\nend\nif (closest == null) then return \"Ingen tellepunkt innenfor 22 meter\", _ok end\nclosestDist = math.abs(distance(closest))\nif(closestDist &gt; 22) then\n\treturn \"Ingen tellepunkt innenfor 22 meter\", _ok\nelse\n\tif (distUp &lt; 22) then  \n\t\ttable.insert(objectsToUpdate, closestUp)\n\tend\n\tif (distDown &lt; 22) then  \n\t\ttable.insert(objectsToUpdate, closestDown)\n\tend\n\t\n\tif (closestDist &lt; 21) then \n\t\treturn string.format(\"%.3f\", closestDist)..\": \"..closest.name, objectsToUpdate, _error\n\telseif (closestDist &lt; 22) then \n\t\treturn string.format(\"%.3f\", closestDist)..\": \"..closest.name, objectsToUpdate, _warning\n\telse\n\t\treturn \"Ingen tellepunkt innenfor 22 meter\", _ok\n\tend\nend</Formula>\r\n      <Symbol>_error</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"SymbolFrame\" IsModelCheck=\"false\">\r\n      <Formula>NOBN_setModelCheckFrame()</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n  </LuaExpressions>\r\n  <CurrentModelCheckObjectsToUpdate xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <string>918e527d-a568-40a6-8243-9e0d9de0fd11</string>\r\n  </CurrentModelCheckObjectsToUpdate>\r\n  <Seq xmlns=\"http://www.railml.org/schemas/2013\">0</Seq>\r\n  <Relations SourceSpace=\"tellepunkt\" xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <ObjectRelations />\r\n  </Relations>\r\n  <RcSection xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <SymbolOffsets xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <CustomAttributes xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <KeyValueString Key=\"Fag\" Value=\"Signal\" />\r\n    <KeyValueString Key=\"Tag\" Value=\"SA-TEL-nnnnnn\" />\r\n    <KeyValueString Key=\"ObjektInfo\" Value=\"\" />\r\n    <KeyValueString Key=\"MileageIncreasesTowardsLeft\" Value=\"False\" />\r\n    <KeyValueString Key=\"AvstandTellepunkt\" Value=\"4.091: Tp(-/-)\" />\r\n    <KeyValueString Key=\"IsInsideOcpArea\" Value=\"Objektet er ikke omsluttet av noen OCP områder\" />\r\n  </CustomAttributes>\r\n  <TimeStamp xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <Item>\r\n      <DateTime>2018-10-15T12:56:35.8745657+02:00</DateTime>\r\n      <User>bjslu</User>\r\n    </Item>\r\n  </TimeStamp>\r\n  <geoCoord coord=\"54.087406604758783 99.493417137289427 0\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <DrawTail xmlns=\"http://www.railml.org/schemas/2013\">false</DrawTail>\r\n  <Earthing xmlns=\"http://www.railml.org/schemas/2013\">Unknown</Earthing>\r\n  <CableMarkerColor xmlns=\"http://www.railml.org/schemas/2013\">Green</CableMarkerColor>\r\n  <Offset3D X=\"0\" Y=\"0\" Z=\"0\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <Rotation3D X=\"0\" Y=\"0\" Z=\"0\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <Annotations3D xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <AnnotationOffset X=\"0\" Y=\"0\" Z=\"0\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <AnnotationRotation xmlns=\"http://www.railml.org/schemas/2013\">0</AnnotationRotation>\r\n  <AlignmentRotation3D X=\"0\" Y=\"0\" Z=\"-1.4560275710337285\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <DirectionRotation3D X=\"0\" Y=\"0\" Z=\"1.5707963267948966\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <PoleRouting3D xmlns=\"http://www.railml.org/schemas/2013\">None</PoleRouting3D>\r\n  <Model3DName xmlns=\"http://www.railml.org/schemas/2013\">NO-BN-3D-SA-TEL-THALES-TELLEPUNKT-SK30K</Model3DName>\r\n  <AlignmentTangent xmlns=\"http://www.railml.org/schemas/2013\">0.1147687557611681</AlignmentTangent>\r\n  <SymbolFrame Name=\"Error\" CircleRadius=\"2\" HorizontalMargin=\"1\" VerticalMargin=\"1\" Color=\"Red\" LineType=\"RC-DASHED\" LineWidth=\"0.3\" Transparency=\"200\" Layer=\"RC_SYMBOLFRAMES_ERROR\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <Alignment xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <Id>d5570c64-d3ff-4e4b-bb6c-797bf94e697e</Id>\r\n  </Alignment>\r\n  <UpSections xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <DownSections xmlns=\"http://www.railml.org/schemas/2013\" />\r\n</tTrainDetector>",
  "set <?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<tTrainDetector xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" id=\"918e527d-a568-40a6-8243-9e0d9de0fd11\" code=\"-/-\" name=\"Tp(-/-)\" Stage=\"\" pos=\"2.60350125463046\" absPos=\"2.60350125463046\" dir=\"both\" detectionObject=\"axle\" medium=\"magnetic\" posInTrack=\"rightRail\" directionDetection=\"false\" model=\"\" axleCounting=\"true\" ocpStationRef=\"\" controllerRef=\"\">\r\n  <Variant xmlns=\"http://www.railml.org/schemas/2013\">Tellepunkt</Variant>\r\n  <LuaExpressions xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <LuaExpression Name=\"code\" IsModelCheck=\"false\">\r\n      <Formula>NOBN_axleCounterCode()</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"name\" IsModelCheck=\"false\">\r\n      <Formula>\"Tp(\"..code..\")\"</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"IsInsideOcpArea\" IsModelCheck=\"true\">\r\n      <Formula>NOBN_isInsideOcpArea()</Formula>\r\n      <Symbol>_ok</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"ocpStationRef\" IsModelCheck=\"false\">\r\n      <Formula>NOBN_ocpStationRef()</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"Rotation3D.X\" IsModelCheck=\"false\">\r\n      <Formula>--SA_TEL@Rotation3d.X\n--Pitch (gradient)\ng = getAlignmentInfo().gradient\nif (NOBN_isNan(g)) then\n    return 0, _warning\nelse\n    -- Gradient is measured in meter elevation per thousand meters of horizontal displacement  \n    return math.atan(g/1000.0)*(180.0/math.pi)\nend</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"Rotation3D.Y\" IsModelCheck=\"false\">\r\n      <Formula>NOBN_objectRotation3DY()</Formula>\r\n      <Symbol>_warning</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"Offset3D.Z\" IsModelCheck=\"false\">\r\n      <Formula>NOBN_objectLiftWithCant()</Formula>\r\n      <Symbol>_warning</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"posInTrack\" IsModelCheck=\"false\">\r\n      <Formula>RightSided and \"leftRail\" or \"rightRail\"</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"DistanceToAlignment\" IsModelCheck=\"false\">\r\n      <Formula>RightSided and 0.75 or -0.75</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"RelativeElevation\" IsModelCheck=\"false\">\r\n      <Formula>0</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"AvstandTellepunkt\" IsModelCheck=\"true\">\r\n      <Formula>if (Alignment == null) then return \"Mangler spor\", _warning end\nclosestUp = getUpObject(\"SA-TEL Tellepunkt\")\nclosestDown = getDownObject(\"SA-TEL Tellepunkt\")\nobjectsToUpdate = {}\ndistUp = math.abs(distance(closestUp))\ndistDown = math.abs(distance(closestDown))\nclosest = nil\nif (NOBN_isNan(distUp)) then distUp = math.huge end\nif (NOBN_isNan(distDown)) then distDown = math.huge end\nif (distUp &gt; distDown) then \n\tclosest = closestDown\nelseif (distUp &lt; distDown) then\n\tclosest = closestUp\nelse\n\tif (distUp &lt; 22) then closest = closestUp end\nend\nif (closest == null) then return \"Ingen tellepunkt innenfor 22 meter\", _ok end\nclosestDist = math.abs(distance(closest))\nif(closestDist &gt; 22) then\n\treturn \"Ingen tellepunkt innenfor 22 meter\", _ok\nelse\n\tif (distUp &lt; 22) then  \n\t\ttable.insert(objectsToUpdate, closestUp)\n\tend\n\tif (distDown &lt; 22) then  \n\t\ttable.insert(objectsToUpdate, closestDown)\n\tend\n\t\n\tif (closestDist &lt; 21) then \n\t\treturn string.format(\"%.3f\", closestDist)..\": \"..closest.name, objectsToUpdate, _error\n\telseif (closestDist &lt; 22) then \n\t\treturn string.format(\"%.3f\", closestDist)..\": \"..closest.name, objectsToUpdate, _warning\n\telse\n\t\treturn \"Ingen tellepunkt innenfor 22 meter\", _ok\n\tend\nend</Formula>\r\n      <Symbol>_error</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"SymbolFrame\" IsModelCheck=\"false\">\r\n      <Formula>NOBN_setModelCheckFrame()</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n  </LuaExpressions>\r\n  <CurrentModelCheckObjectsToUpdate xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <string>aad4a8ab-a4e2-4acd-a69b-152ba14d8c82</string>\r\n  </CurrentModelCheckObjectsToUpdate>\r\n  <Seq xmlns=\"http://www.railml.org/schemas/2013\">0</Seq>\r\n  <Relations SourceSpace=\"tellepunkt\" xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <ObjectRelations />\r\n  </Relations>\r\n  <RcSection xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <SymbolOffsets xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <CustomAttributes xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <KeyValueString Key=\"Fag\" Value=\"Signal\" />\r\n    <KeyValueString Key=\"Tag\" Value=\"SA-TEL-nnnnnn\" />\r\n    <KeyValueString Key=\"ObjektInfo\" Value=\"\" />\r\n    <KeyValueString Key=\"MileageIncreasesTowardsLeft\" Value=\"False\" />\r\n    <KeyValueString Key=\"AvstandTellepunkt\" Value=\"4.091: Tp(-/-)\" />\r\n    <KeyValueString Key=\"IsInsideOcpArea\" Value=\"Objektet er ikke omsluttet av noen OCP områder\" />\r\n  </CustomAttributes>\r\n  <TimeStamp xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <Item>\r\n      <DateTime>2018-10-15T12:56:34.8099295+02:00</DateTime>\r\n      <User>bjslu</User>\r\n    </Item>\r\n  </TimeStamp>\r\n  <geoCoord coord=\"50.023151351047268 99.024908766754336 0\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <DrawTail xmlns=\"http://www.railml.org/schemas/2013\">false</DrawTail>\r\n  <Earthing xmlns=\"http://www.railml.org/schemas/2013\">Unknown</Earthing>\r\n  <CableMarkerColor xmlns=\"http://www.railml.org/schemas/2013\">Green</CableMarkerColor>\r\n  <Offset3D X=\"0\" Y=\"0\" Z=\"0\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <Rotation3D X=\"0\" Y=\"0\" Z=\"0\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <Annotations3D xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <AnnotationOffset X=\"0\" Y=\"0\" Z=\"0\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <AnnotationRotation xmlns=\"http://www.railml.org/schemas/2013\">0</AnnotationRotation>\r\n  <AlignmentRotation3D X=\"0\" Y=\"0\" Z=\"-1.4560275710337285\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <DirectionRotation3D X=\"0\" Y=\"0\" Z=\"1.5707963267948966\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <PoleRouting3D xmlns=\"http://www.railml.org/schemas/2013\">None</PoleRouting3D>\r\n  <Model3DName xmlns=\"http://www.railml.org/schemas/2013\">NO-BN-3D-SA-TEL-THALES-TELLEPUNKT-SK30K</Model3DName>\r\n  <AlignmentTangent xmlns=\"http://www.railml.org/schemas/2013\">0.1147687557611681</AlignmentTangent>\r\n  <SymbolFrame Name=\"Error\" CircleRadius=\"2\" HorizontalMargin=\"1\" VerticalMargin=\"1\" Color=\"Red\" LineType=\"RC-DASHED\" LineWidth=\"0.3\" Transparency=\"200\" Layer=\"RC_SYMBOLFRAMES_ERROR\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <Alignment xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <Id>d5570c64-d3ff-4e4b-bb6c-797bf94e697e</Id>\r\n  </Alignment>\r\n  <UpSections xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <DownSections xmlns=\"http://www.railml.org/schemas/2013\" />\r\n</tTrainDetector>",
  "set <?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<tTrainDetector xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" id=\"aad4a8ab-a4e2-4acd-a69b-152ba14d8c82\" code=\"-/-\" name=\"Tp(-/-)\" Stage=\"\" pos=\"6.69467111917814\" absPos=\"6.69467111917814\" dir=\"both\" detectionObject=\"axle\" medium=\"magnetic\" posInTrack=\"rightRail\" directionDetection=\"false\" model=\"\" axleCounting=\"true\" ocpStationRef=\"\" controllerRef=\"\">\r\n  <Variant xmlns=\"http://www.railml.org/schemas/2013\">Tellepunkt</Variant>\r\n  <LuaExpressions xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <LuaExpression Name=\"code\" IsModelCheck=\"false\">\r\n      <Formula>NOBN_axleCounterCode()</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"name\" IsModelCheck=\"false\">\r\n      <Formula>\"Tp(\"..code..\")\"</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"IsInsideOcpArea\" IsModelCheck=\"true\">\r\n      <Formula>NOBN_isInsideOcpArea()</Formula>\r\n      <Symbol>_ok</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"ocpStationRef\" IsModelCheck=\"false\">\r\n      <Formula>NOBN_ocpStationRef()</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"Rotation3D.X\" IsModelCheck=\"false\">\r\n      <Formula>--SA_TEL@Rotation3d.X\n--Pitch (gradient)\ng = getAlignmentInfo().gradient\nif (NOBN_isNan(g)) then\n    return 0, _warning\nelse\n    -- Gradient is measured in meter elevation per thousand meters of horizontal displacement  \n    return math.atan(g/1000.0)*(180.0/math.pi)\nend</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"Rotation3D.Y\" IsModelCheck=\"false\">\r\n      <Formula>NOBN_objectRotation3DY()</Formula>\r\n      <Symbol>_warning</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"Offset3D.Z\" IsModelCheck=\"false\">\r\n      <Formula>NOBN_objectLiftWithCant()</Formula>\r\n      <Symbol>_warning</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"posInTrack\" IsModelCheck=\"false\">\r\n      <Formula>RightSided and \"leftRail\" or \"rightRail\"</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"DistanceToAlignment\" IsModelCheck=\"false\">\r\n      <Formula>RightSided and 0.75 or -0.75</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"RelativeElevation\" IsModelCheck=\"false\">\r\n      <Formula>0</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"AvstandTellepunkt\" IsModelCheck=\"true\">\r\n      <Formula>if (Alignment == null) then return \"Mangler spor\", _warning end\nclosestUp = getUpObject(\"SA-TEL Tellepunkt\")\nclosestDown = getDownObject(\"SA-TEL Tellepunkt\")\nobjectsToUpdate = {}\ndistUp = math.abs(distance(closestUp))\ndistDown = math.abs(distance(closestDown))\nclosest = nil\nif (NOBN_isNan(distUp)) then distUp = math.huge end\nif (NOBN_isNan(distDown)) then distDown = math.huge end\nif (distUp &gt; distDown) then \n\tclosest = closestDown\nelseif (distUp &lt; distDown) then\n\tclosest = closestUp\nelse\n\tif (distUp &lt; 22) then closest = closestUp end\nend\nif (closest == null) then return \"Ingen tellepunkt innenfor 22 meter\", _ok end\nclosestDist = math.abs(distance(closest))\nif(closestDist &gt; 22) then\n\treturn \"Ingen tellepunkt innenfor 22 meter\", _ok\nelse\n\tif (distUp &lt; 22) then  \n\t\ttable.insert(objectsToUpdate, closestUp)\n\tend\n\tif (distDown &lt; 22) then  \n\t\ttable.insert(objectsToUpdate, closestDown)\n\tend\n\t\n\tif (closestDist &lt; 21) then \n\t\treturn string.format(\"%.3f\", closestDist)..\": \"..closest.name, objectsToUpdate, _error\n\telseif (closestDist &lt; 22) then \n\t\treturn string.format(\"%.3f\", closestDist)..\": \"..closest.name, objectsToUpdate, _warning\n\telse\n\t\treturn \"Ingen tellepunkt innenfor 22 meter\", _ok\n\tend\nend</Formula>\r\n      <Symbol>_error</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"SymbolFrame\" IsModelCheck=\"false\">\r\n      <Formula>NOBN_setModelCheckFrame()</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n  </LuaExpressions>\r\n  <CurrentModelCheckObjectsToUpdate xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <string>918e527d-a568-40a6-8243-9e0d9de0fd11</string>\r\n  </CurrentModelCheckObjectsToUpdate>\r\n  <Seq xmlns=\"http://www.railml.org/schemas/2013\">0</Seq>\r\n  <Relations SourceSpace=\"tellepunkt\" xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <ObjectRelations />\r\n  </Relations>\r\n  <RcSection xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <SymbolOffsets xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <CustomAttributes xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <KeyValueString Key=\"Fag\" Value=\"Signal\" />\r\n    <KeyValueString Key=\"Tag\" Value=\"SA-TEL-nnnnnn\" />\r\n    <KeyValueString Key=\"ObjektInfo\" Value=\"\" />\r\n    <KeyValueString Key=\"MileageIncreasesTowardsLeft\" Value=\"False\" />\r\n    <KeyValueString Key=\"AvstandTellepunkt\" Value=\"4.091: Tp(-/-)\" />\r\n    <KeyValueString Key=\"IsInsideOcpArea\" Value=\"Objektet er ikke omsluttet av noen OCP områder\" />\r\n  </CustomAttributes>\r\n  <TimeStamp xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <Item>\r\n      <DateTime>2018-10-15T12:56:35.8745657+02:00</DateTime>\r\n      <User>bjslu</User>\r\n    </Item>\r\n  </TimeStamp>\r\n  <geoCoord coord=\"54.087406604758783 99.493417137289427 0\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <DrawTail xmlns=\"http://www.railml.org/schemas/2013\">false</DrawTail>\r\n  <Earthing xmlns=\"http://www.railml.org/schemas/2013\">Unknown</Earthing>\r\n  <CableMarkerColor xmlns=\"http://www.railml.org/schemas/2013\">Green</CableMarkerColor>\r\n  <Offset3D X=\"0\" Y=\"0\" Z=\"0\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <Rotation3D X=\"0\" Y=\"0\" Z=\"0\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <Annotations3D xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <AnnotationOffset X=\"0\" Y=\"0\" Z=\"0\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <AnnotationRotation xmlns=\"http://www.railml.org/schemas/2013\">0</AnnotationRotation>\r\n  <AlignmentRotation3D X=\"0\" Y=\"0\" Z=\"-1.4560275710337285\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <DirectionRotation3D X=\"0\" Y=\"0\" Z=\"1.5707963267948966\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <PoleRouting3D xmlns=\"http://www.railml.org/schemas/2013\">None</PoleRouting3D>\r\n  <Model3DName xmlns=\"http://www.railml.org/schemas/2013\">NO-BN-3D-SA-TEL-THALES-TELLEPUNKT-SK30K</Model3DName>\r\n  <AlignmentTangent xmlns=\"http://www.railml.org/schemas/2013\">0.1147687557611681</AlignmentTangent>\r\n  <SymbolFrame Name=\"Error\" CircleRadius=\"2\" HorizontalMargin=\"1\" VerticalMargin=\"1\" Color=\"Red\" LineType=\"RC-DASHED\" LineWidth=\"0.3\" Transparency=\"200\" Layer=\"RC_SYMBOLFRAMES_ERROR\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <Alignment xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <Id>d5570c64-d3ff-4e4b-bb6c-797bf94e697e</Id>\r\n  </Alignment>\r\n  <UpSections xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <DownSections xmlns=\"http://www.railml.org/schemas/2013\" />\r\n</tTrainDetector>",
  "set <?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<tTrainDetector xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" id=\"59a2e0ba-12b2-4248-9e4a-f655546478cd\" code=\"-/-\" name=\"Tp(-/-)\" Stage=\"\" pos=\"32.2645780616645\" absPos=\"32.2645780616645\" dir=\"both\" detectionObject=\"axle\" medium=\"magnetic\" posInTrack=\"leftRail\" directionDetection=\"false\" model=\"\" axleCounting=\"true\" ocpStationRef=\"\" controllerRef=\"\">\r\n  <Variant xmlns=\"http://www.railml.org/schemas/2013\">Tellepunkt</Variant>\r\n  <LuaExpressions xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <LuaExpression Name=\"code\" IsModelCheck=\"false\">\r\n      <Formula>NOBN_axleCounterCode()</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"name\" IsModelCheck=\"false\">\r\n      <Formula>\"Tp(\"..code..\")\"</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"IsInsideOcpArea\" IsModelCheck=\"true\">\r\n      <Formula>NOBN_isInsideOcpArea()</Formula>\r\n      <Symbol>_ok</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"ocpStationRef\" IsModelCheck=\"false\">\r\n      <Formula>NOBN_ocpStationRef()</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"Rotation3D.X\" IsModelCheck=\"false\">\r\n      <Formula>--SA_TEL@Rotation3d.X\n--Pitch (gradient)\ng = getAlignmentInfo().gradient\nif (NOBN_isNan(g)) then\n    return 0, _warning\nelse\n    -- Gradient is measured in meter elevation per thousand meters of horizontal displacement  \n    return math.atan(g/1000.0)*(180.0/math.pi)\nend</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"Rotation3D.Y\" IsModelCheck=\"false\">\r\n      <Formula>NOBN_objectRotation3DY()</Formula>\r\n      <Symbol>_warning</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"Offset3D.Z\" IsModelCheck=\"false\">\r\n      <Formula>NOBN_objectLiftWithCant()</Formula>\r\n      <Symbol>_warning</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"posInTrack\" IsModelCheck=\"false\">\r\n      <Formula>RightSided and \"leftRail\" or \"rightRail\"</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"DistanceToAlignment\" IsModelCheck=\"false\">\r\n      <Formula>RightSided and 0.75 or -0.75</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"RelativeElevation\" IsModelCheck=\"false\">\r\n      <Formula>0</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"AvstandTellepunkt\" IsModelCheck=\"true\">\r\n      <Formula>if (Alignment == null) then return \"Mangler spor\", _warning end\nclosestUp = getUpObject(\"SA-TEL Tellepunkt\")\nclosestDown = getDownObject(\"SA-TEL Tellepunkt\")\nobjectsToUpdate = {}\ndistUp = math.abs(distance(closestUp))\ndistDown = math.abs(distance(closestDown))\nclosest = nil\nif (NOBN_isNan(distUp)) then distUp = math.huge end\nif (NOBN_isNan(distDown)) then distDown = math.huge end\nif (distUp &gt; distDown) then \n\tclosest = closestDown\nelseif (distUp &lt; distDown) then\n\tclosest = closestUp\nelse\n\tif (distUp &lt; 22) then closest = closestUp end\nend\nif (closest == null) then return \"Ingen tellepunkt innenfor 22 meter\", _ok end\nclosestDist = math.abs(distance(closest))\nif(closestDist &gt; 22) then\n\treturn \"Ingen tellepunkt innenfor 22 meter\", _ok\nelse\n\tif (distUp &lt; 22) then  \n\t\ttable.insert(objectsToUpdate, closestUp)\n\tend\n\tif (distDown &lt; 22) then  \n\t\ttable.insert(objectsToUpdate, closestDown)\n\tend\n\t\n\tif (closestDist &lt; 21) then \n\t\treturn string.format(\"%.3f\", closestDist)..\": \"..closest.name, objectsToUpdate, _error\n\telseif (closestDist &lt; 22) then \n\t\treturn string.format(\"%.3f\", closestDist)..\": \"..closest.name, objectsToUpdate, _warning\n\telse\n\t\treturn \"Ingen tellepunkt innenfor 22 meter\", _ok\n\tend\nend</Formula>\r\n      <Symbol>_ok</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"SymbolFrame\" IsModelCheck=\"false\">\r\n      <Formula>NOBN_setModelCheckFrame()</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n  </LuaExpressions>\r\n  <CurrentModelCheckObjectsToUpdate xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <Seq xmlns=\"http://www.railml.org/schemas/2013\">0</Seq>\r\n  <Relations SourceSpace=\"tellepunkt\" xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <ObjectRelations />\r\n  </Relations>\r\n  <RcSection xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <SymbolOffsets xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <CustomAttributes xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <KeyValueString Key=\"Fag\" Value=\"Signal\" />\r\n    <KeyValueString Key=\"Tag\" Value=\"SA-TEL-nnnnnn\" />\r\n    <KeyValueString Key=\"ObjektInfo\" Value=\"\" />\r\n    <KeyValueString Key=\"MileageIncreasesTowardsLeft\" Value=\"False\" />\r\n    <KeyValueString Key=\"AvstandTellepunkt\" Value=\"Ingen tellepunkt innenfor 22 meter\" />\r\n    <KeyValueString Key=\"IsInsideOcpArea\" Value=\"Objektet er ikke omsluttet av noen OCP områder\" />\r\n  </CustomAttributes>\r\n  <TimeStamp xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <Item>\r\n      <DateTime>2018-10-15T12:56:37.8643613+02:00</DateTime>\r\n      <User>bjslu</User>\r\n    </Item>\r\n  </TimeStamp>\r\n  <geoCoord coord=\"79.660872055400688 100.93147342695208 0\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <DrawTail xmlns=\"http://www.railml.org/schemas/2013\">false</DrawTail>\r\n  <Earthing xmlns=\"http://www.railml.org/schemas/2013\">Unknown</Earthing>\r\n  <CableMarkerColor xmlns=\"http://www.railml.org/schemas/2013\">Green</CableMarkerColor>\r\n  <Offset3D X=\"0\" Y=\"0\" Z=\"0\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <Rotation3D X=\"0\" Y=\"0\" Z=\"0\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <Annotations3D xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <AnnotationOffset X=\"0\" Y=\"0\" Z=\"0\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <AnnotationRotation xmlns=\"http://www.railml.org/schemas/2013\">0</AnnotationRotation>\r\n  <AlignmentRotation3D X=\"0\" Y=\"0\" Z=\"-1.4560275710337285\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <DirectionRotation3D X=\"0\" Y=\"0\" Z=\"-1.5707963267948966\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <PoleRouting3D xmlns=\"http://www.railml.org/schemas/2013\">None</PoleRouting3D>\r\n  <Model3DName xmlns=\"http://www.railml.org/schemas/2013\">NO-BN-3D-SA-TEL-THALES-TELLEPUNKT-SK30K</Model3DName>\r\n  <AlignmentTangent xmlns=\"http://www.railml.org/schemas/2013\">0.1147687557611681</AlignmentTangent>\r\n  <Alignment xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <Id>d5570c64-d3ff-4e4b-bb6c-797bf94e697e</Id>\r\n  </Alignment>\r\n  <UpSections xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <DownSections xmlns=\"http://www.railml.org/schemas/2013\" />\r\n</tTrainDetector>",
  "set <?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<tTrainDetector xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" id=\"59a2e0ba-12b2-4248-9e4a-f655546478cd\" code=\"-/-\" name=\"Tp(-/-)\" Stage=\"\" pos=\"32.2645780616645\" absPos=\"32.2645780616645\" dir=\"both\" detectionObject=\"axle\" medium=\"magnetic\" posInTrack=\"leftRail\" directionDetection=\"false\" model=\"\" axleCounting=\"true\" ocpStationRef=\"\" controllerRef=\"\">\r\n  <Variant xmlns=\"http://www.railml.org/schemas/2013\">Tellepunkt</Variant>\r\n  <LuaExpressions xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <LuaExpression Name=\"code\" IsModelCheck=\"false\">\r\n      <Formula>NOBN_axleCounterCode()</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"name\" IsModelCheck=\"false\">\r\n      <Formula>\"Tp(\"..code..\")\"</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"IsInsideOcpArea\" IsModelCheck=\"true\">\r\n      <Formula>NOBN_isInsideOcpArea()</Formula>\r\n      <Symbol>_ok</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"ocpStationRef\" IsModelCheck=\"false\">\r\n      <Formula>NOBN_ocpStationRef()</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"Rotation3D.X\" IsModelCheck=\"false\">\r\n      <Formula>--SA_TEL@Rotation3d.X\n--Pitch (gradient)\ng = getAlignmentInfo().gradient\nif (NOBN_isNan(g)) then\n    return 0, _warning\nelse\n    -- Gradient is measured in meter elevation per thousand meters of horizontal displacement  \n    return math.atan(g/1000.0)*(180.0/math.pi)\nend</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"Rotation3D.Y\" IsModelCheck=\"false\">\r\n      <Formula>NOBN_objectRotation3DY()</Formula>\r\n      <Symbol>_warning</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"Offset3D.Z\" IsModelCheck=\"false\">\r\n      <Formula>NOBN_objectLiftWithCant()</Formula>\r\n      <Symbol>_warning</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"posInTrack\" IsModelCheck=\"false\">\r\n      <Formula>RightSided and \"leftRail\" or \"rightRail\"</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"DistanceToAlignment\" IsModelCheck=\"false\">\r\n      <Formula>RightSided and 0.75 or -0.75</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"RelativeElevation\" IsModelCheck=\"false\">\r\n      <Formula>0</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"AvstandTellepunkt\" IsModelCheck=\"true\">\r\n      <Formula>if (Alignment == null) then return \"Mangler spor\", _warning end\nclosestUp = getUpObject(\"SA-TEL Tellepunkt\")\nclosestDown = getDownObject(\"SA-TEL Tellepunkt\")\nobjectsToUpdate = {}\ndistUp = math.abs(distance(closestUp))\ndistDown = math.abs(distance(closestDown))\nclosest = nil\nif (NOBN_isNan(distUp)) then distUp = math.huge end\nif (NOBN_isNan(distDown)) then distDown = math.huge end\nif (distUp &gt; distDown) then \n\tclosest = closestDown\nelseif (distUp &lt; distDown) then\n\tclosest = closestUp\nelse\n\tif (distUp &lt; 22) then closest = closestUp end\nend\nif (closest == null) then return \"Ingen tellepunkt innenfor 22 meter\", _ok end\nclosestDist = math.abs(distance(closest))\nif(closestDist &gt; 22) then\n\treturn \"Ingen tellepunkt innenfor 22 meter\", _ok\nelse\n\tif (distUp &lt; 22) then  \n\t\ttable.insert(objectsToUpdate, closestUp)\n\tend\n\tif (distDown &lt; 22) then  \n\t\ttable.insert(objectsToUpdate, closestDown)\n\tend\n\t\n\tif (closestDist &lt; 21) then \n\t\treturn string.format(\"%.3f\", closestDist)..\": \"..closest.name, objectsToUpdate, _error\n\telseif (closestDist &lt; 22) then \n\t\treturn string.format(\"%.3f\", closestDist)..\": \"..closest.name, objectsToUpdate, _warning\n\telse\n\t\treturn \"Ingen tellepunkt innenfor 22 meter\", _ok\n\tend\nend</Formula>\r\n      <Symbol>_ok</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"SymbolFrame\" IsModelCheck=\"false\">\r\n      <Formula>NOBN_setModelCheckFrame()</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n  </LuaExpressions>\r\n  <CurrentModelCheckObjectsToUpdate xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <Seq xmlns=\"http://www.railml.org/schemas/2013\">0</Seq>\r\n  <Relations SourceSpace=\"tellepunkt\" xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <ObjectRelations />\r\n  </Relations>\r\n  <RcSection xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <SymbolOffsets xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <CustomAttributes xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <KeyValueString Key=\"Fag\" Value=\"Signal\" />\r\n    <KeyValueString Key=\"Tag\" Value=\"SA-TEL-nnnnnn\" />\r\n    <KeyValueString Key=\"ObjektInfo\" Value=\"\" />\r\n    <KeyValueString Key=\"MileageIncreasesTowardsLeft\" Value=\"False\" />\r\n    <KeyValueString Key=\"AvstandTellepunkt\" Value=\"Ingen tellepunkt innenfor 22 meter\" />\r\n    <KeyValueString Key=\"IsInsideOcpArea\" Value=\"Objektet er ikke omsluttet av noen OCP områder\" />\r\n  </CustomAttributes>\r\n  <TimeStamp xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <Item>\r\n      <DateTime>2018-10-15T12:56:37.8643613+02:00</DateTime>\r\n      <User>bjslu</User>\r\n    </Item>\r\n  </TimeStamp>\r\n  <geoCoord coord=\"79.660872055400688 100.93147342695208 0\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <DrawTail xmlns=\"http://www.railml.org/schemas/2013\">false</DrawTail>\r\n  <Earthing xmlns=\"http://www.railml.org/schemas/2013\">Unknown</Earthing>\r\n  <CableMarkerColor xmlns=\"http://www.railml.org/schemas/2013\">Green</CableMarkerColor>\r\n  <Offset3D X=\"0\" Y=\"0\" Z=\"0\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <Rotation3D X=\"0\" Y=\"0\" Z=\"0\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <Annotations3D xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <AnnotationOffset X=\"0\" Y=\"0\" Z=\"0\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <AnnotationRotation xmlns=\"http://www.railml.org/schemas/2013\">0</AnnotationRotation>\r\n  <AlignmentRotation3D X=\"0\" Y=\"0\" Z=\"-1.4560275710337285\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <DirectionRotation3D X=\"0\" Y=\"0\" Z=\"-1.5707963267948966\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <PoleRouting3D xmlns=\"http://www.railml.org/schemas/2013\">None</PoleRouting3D>\r\n  <Model3DName xmlns=\"http://www.railml.org/schemas/2013\">NO-BN-3D-SA-TEL-THALES-TELLEPUNKT-SK30K</Model3DName>\r\n  <AlignmentTangent xmlns=\"http://www.railml.org/schemas/2013\">0.1147687557611681</AlignmentTangent>\r\n  <Alignment xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <Id>d5570c64-d3ff-4e4b-bb6c-797bf94e697e</Id>\r\n  </Alignment>\r\n  <UpSections xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <DownSections xmlns=\"http://www.railml.org/schemas/2013\" />\r\n</tTrainDetector>",
  "set <?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<tTrainDetector xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" id=\"cc5dfaef-4e3d-4dbc-af0e-3c183bce165d\" code=\"-/-\" name=\"Tp(-/-)\" Stage=\"\" pos=\"21.4888823400908\" absPos=\"21.4888823400908\" dir=\"both\" detectionObject=\"axle\" medium=\"magnetic\" posInTrack=\"rightRail\" directionDetection=\"false\" model=\"\" axleCounting=\"true\" ocpStationRef=\"\" controllerRef=\"\">\r\n  <Variant xmlns=\"http://www.railml.org/schemas/2013\">Tellepunkt</Variant>\r\n  <LuaExpressions xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <LuaExpression Name=\"code\" IsModelCheck=\"false\">\r\n      <Formula>NOBN_axleCounterCode()</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"name\" IsModelCheck=\"false\">\r\n      <Formula>\"Tp(\"..code..\")\"</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"IsInsideOcpArea\" IsModelCheck=\"true\">\r\n      <Formula>NOBN_isInsideOcpArea()</Formula>\r\n      <Symbol>_ok</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"ocpStationRef\" IsModelCheck=\"false\">\r\n      <Formula>NOBN_ocpStationRef()</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"Rotation3D.X\" IsModelCheck=\"false\">\r\n      <Formula>--SA_TEL@Rotation3d.X\n--Pitch (gradient)\ng = getAlignmentInfo().gradient\nif (NOBN_isNan(g)) then\n    return 0, _warning\nelse\n    -- Gradient is measured in meter elevation per thousand meters of horizontal displacement  \n    return math.atan(g/1000.0)*(180.0/math.pi)\nend</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"Rotation3D.Y\" IsModelCheck=\"false\">\r\n      <Formula>NOBN_objectRotation3DY()</Formula>\r\n      <Symbol>_warning</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"Offset3D.Z\" IsModelCheck=\"false\">\r\n      <Formula>NOBN_objectLiftWithCant()</Formula>\r\n      <Symbol>_warning</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"posInTrack\" IsModelCheck=\"false\">\r\n      <Formula>RightSided and \"leftRail\" or \"rightRail\"</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"DistanceToAlignment\" IsModelCheck=\"false\">\r\n      <Formula>RightSided and 0.75 or -0.75</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"RelativeElevation\" IsModelCheck=\"false\">\r\n      <Formula>0</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"AvstandTellepunkt\" IsModelCheck=\"true\">\r\n      <Formula>if (Alignment == null) then return \"Mangler spor\", _warning end\nclosestUp = getUpObject(\"SA-TEL Tellepunkt\")\nclosestDown = getDownObject(\"SA-TEL Tellepunkt\")\nobjectsToUpdate = {}\ndistUp = math.abs(distance(closestUp))\ndistDown = math.abs(distance(closestDown))\nclosest = nil\nif (NOBN_isNan(distUp)) then distUp = math.huge end\nif (NOBN_isNan(distDown)) then distDown = math.huge end\nif (distUp &gt; distDown) then \n\tclosest = closestDown\nelseif (distUp &lt; distDown) then\n\tclosest = closestUp\nelse\n\tif (distUp &lt; 22) then closest = closestUp end\nend\nif (closest == null) then return \"Ingen tellepunkt innenfor 22 meter\", _ok end\nclosestDist = math.abs(distance(closest))\nif(closestDist &gt; 22) then\n\treturn \"Ingen tellepunkt innenfor 22 meter\", _ok\nelse\n\tif (distUp &lt; 22) then  \n\t\ttable.insert(objectsToUpdate, closestUp)\n\tend\n\tif (distDown &lt; 22) then  \n\t\ttable.insert(objectsToUpdate, closestDown)\n\tend\n\t\n\tif (closestDist &lt; 21) then \n\t\treturn string.format(\"%.3f\", closestDist)..\": \"..closest.name, objectsToUpdate, _error\n\telseif (closestDist &lt; 22) then \n\t\treturn string.format(\"%.3f\", closestDist)..\": \"..closest.name, objectsToUpdate, _warning\n\telse\n\t\treturn \"Ingen tellepunkt innenfor 22 meter\", _ok\n\tend\nend</Formula>\r\n      <Symbol>_ok</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"SymbolFrame\" IsModelCheck=\"false\">\r\n      <Formula>NOBN_setModelCheckFrame()</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n  </LuaExpressions>\r\n  <CurrentModelCheckObjectsToUpdate xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <Seq xmlns=\"http://www.railml.org/schemas/2013\">0</Seq>\r\n  <Relations SourceSpace=\"tellepunkt\" xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <ObjectRelations />\r\n  </Relations>\r\n  <RcSection xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <SymbolOffsets xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <CustomAttributes xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <KeyValueString Key=\"Fag\" Value=\"Signal\" />\r\n    <KeyValueString Key=\"Tag\" Value=\"SA-TEL-nnnnnn\" />\r\n    <KeyValueString Key=\"ObjektInfo\" Value=\"\" />\r\n    <KeyValueString Key=\"MileageIncreasesTowardsLeft\" Value=\"False\" />\r\n    <KeyValueString Key=\"AvstandTellepunkt\" Value=\"Ingen tellepunkt innenfor 22 meter\" />\r\n    <KeyValueString Key=\"IsInsideOcpArea\" Value=\"Objektet er ikke omsluttet av noen OCP områder\" />\r\n  </CustomAttributes>\r\n  <TimeStamp xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <Item>\r\n      <DateTime>2018-10-15T12:56:38.7473986+02:00</DateTime>\r\n      <User>bjslu</User>\r\n    </Item>\r\n  </TimeStamp>\r\n  <geoCoord coord=\"79.132929572513987 104.23978825177309 0\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <DrawTail xmlns=\"http://www.railml.org/schemas/2013\">false</DrawTail>\r\n  <Earthing xmlns=\"http://www.railml.org/schemas/2013\">Unknown</Earthing>\r\n  <CableMarkerColor xmlns=\"http://www.railml.org/schemas/2013\">Green</CableMarkerColor>\r\n  <Offset3D X=\"0\" Y=\"0\" Z=\"0\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <Rotation3D X=\"0\" Y=\"0\" Z=\"0\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <Annotations3D xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <AnnotationOffset X=\"0\" Y=\"0\" Z=\"0\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <AnnotationRotation xmlns=\"http://www.railml.org/schemas/2013\">0</AnnotationRotation>\r\n  <AlignmentRotation3D X=\"0\" Y=\"0\" Z=\"-1.1406976367705406\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <DirectionRotation3D X=\"0\" Y=\"0\" Z=\"1.5707963267948966\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <PoleRouting3D xmlns=\"http://www.railml.org/schemas/2013\">None</PoleRouting3D>\r\n  <Model3DName xmlns=\"http://www.railml.org/schemas/2013\">NO-BN-3D-SA-TEL-THALES-TELLEPUNKT-SK30K</Model3DName>\r\n  <AlignmentTangent xmlns=\"http://www.railml.org/schemas/2013\">0.43009869002435597</AlignmentTangent>\r\n  <Alignment xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <Id>4c8ea38e-52e8-47a0-8b97-30bd1b5fa301</Id>\r\n  </Alignment>\r\n  <UpSections xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <DownSections xmlns=\"http://www.railml.org/schemas/2013\" />\r\n</tTrainDetector>",
  "set <?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<tTrainDetector xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" id=\"cc5dfaef-4e3d-4dbc-af0e-3c183bce165d\" code=\"-/-\" name=\"Tp(-/-)\" Stage=\"\" pos=\"21.4888823400908\" absPos=\"21.4888823400908\" dir=\"both\" detectionObject=\"axle\" medium=\"magnetic\" posInTrack=\"rightRail\" directionDetection=\"false\" model=\"\" axleCounting=\"true\" ocpStationRef=\"\" controllerRef=\"\">\r\n  <Variant xmlns=\"http://www.railml.org/schemas/2013\">Tellepunkt</Variant>\r\n  <LuaExpressions xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <LuaExpression Name=\"code\" IsModelCheck=\"false\">\r\n      <Formula>NOBN_axleCounterCode()</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"name\" IsModelCheck=\"false\">\r\n      <Formula>\"Tp(\"..code..\")\"</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"IsInsideOcpArea\" IsModelCheck=\"true\">\r\n      <Formula>NOBN_isInsideOcpArea()</Formula>\r\n      <Symbol>_ok</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"ocpStationRef\" IsModelCheck=\"false\">\r\n      <Formula>NOBN_ocpStationRef()</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"Rotation3D.X\" IsModelCheck=\"false\">\r\n      <Formula>--SA_TEL@Rotation3d.X\n--Pitch (gradient)\ng = getAlignmentInfo().gradient\nif (NOBN_isNan(g)) then\n    return 0, _warning\nelse\n    -- Gradient is measured in meter elevation per thousand meters of horizontal displacement  \n    return math.atan(g/1000.0)*(180.0/math.pi)\nend</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"Rotation3D.Y\" IsModelCheck=\"false\">\r\n      <Formula>NOBN_objectRotation3DY()</Formula>\r\n      <Symbol>_warning</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"Offset3D.Z\" IsModelCheck=\"false\">\r\n      <Formula>NOBN_objectLiftWithCant()</Formula>\r\n      <Symbol>_warning</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"posInTrack\" IsModelCheck=\"false\">\r\n      <Formula>RightSided and \"leftRail\" or \"rightRail\"</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"DistanceToAlignment\" IsModelCheck=\"false\">\r\n      <Formula>RightSided and 0.75 or -0.75</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"RelativeElevation\" IsModelCheck=\"false\">\r\n      <Formula>0</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"AvstandTellepunkt\" IsModelCheck=\"true\">\r\n      <Formula>if (Alignment == null) then return \"Mangler spor\", _warning end\nclosestUp = getUpObject(\"SA-TEL Tellepunkt\")\nclosestDown = getDownObject(\"SA-TEL Tellepunkt\")\nobjectsToUpdate = {}\ndistUp = math.abs(distance(closestUp))\ndistDown = math.abs(distance(closestDown))\nclosest = nil\nif (NOBN_isNan(distUp)) then distUp = math.huge end\nif (NOBN_isNan(distDown)) then distDown = math.huge end\nif (distUp &gt; distDown) then \n\tclosest = closestDown\nelseif (distUp &lt; distDown) then\n\tclosest = closestUp\nelse\n\tif (distUp &lt; 22) then closest = closestUp end\nend\nif (closest == null) then return \"Ingen tellepunkt innenfor 22 meter\", _ok end\nclosestDist = math.abs(distance(closest))\nif(closestDist &gt; 22) then\n\treturn \"Ingen tellepunkt innenfor 22 meter\", _ok\nelse\n\tif (distUp &lt; 22) then  \n\t\ttable.insert(objectsToUpdate, closestUp)\n\tend\n\tif (distDown &lt; 22) then  \n\t\ttable.insert(objectsToUpdate, closestDown)\n\tend\n\t\n\tif (closestDist &lt; 21) then \n\t\treturn string.format(\"%.3f\", closestDist)..\": \"..closest.name, objectsToUpdate, _error\n\telseif (closestDist &lt; 22) then \n\t\treturn string.format(\"%.3f\", closestDist)..\": \"..closest.name, objectsToUpdate, _warning\n\telse\n\t\treturn \"Ingen tellepunkt innenfor 22 meter\", _ok\n\tend\nend</Formula>\r\n      <Symbol>_ok</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"SymbolFrame\" IsModelCheck=\"false\">\r\n      <Formula>NOBN_setModelCheckFrame()</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n  </LuaExpressions>\r\n  <CurrentModelCheckObjectsToUpdate xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <Seq xmlns=\"http://www.railml.org/schemas/2013\">0</Seq>\r\n  <Relations SourceSpace=\"tellepunkt\" xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <ObjectRelations />\r\n  </Relations>\r\n  <RcSection xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <SymbolOffsets xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <CustomAttributes xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <KeyValueString Key=\"Fag\" Value=\"Signal\" />\r\n    <KeyValueString Key=\"Tag\" Value=\"SA-TEL-nnnnnn\" />\r\n    <KeyValueString Key=\"ObjektInfo\" Value=\"\" />\r\n    <KeyValueString Key=\"MileageIncreasesTowardsLeft\" Value=\"False\" />\r\n    <KeyValueString Key=\"AvstandTellepunkt\" Value=\"Ingen tellepunkt innenfor 22 meter\" />\r\n    <KeyValueString Key=\"IsInsideOcpArea\" Value=\"Objektet er ikke omsluttet av noen OCP områder\" />\r\n  </CustomAttributes>\r\n  <TimeStamp xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <Item>\r\n      <DateTime>2018-10-15T12:56:38.7473986+02:00</DateTime>\r\n      <User>bjslu</User>\r\n    </Item>\r\n  </TimeStamp>\r\n  <geoCoord coord=\"79.132929572513987 104.23978825177309 0\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <DrawTail xmlns=\"http://www.railml.org/schemas/2013\">false</DrawTail>\r\n  <Earthing xmlns=\"http://www.railml.org/schemas/2013\">Unknown</Earthing>\r\n  <CableMarkerColor xmlns=\"http://www.railml.org/schemas/2013\">Green</CableMarkerColor>\r\n  <Offset3D X=\"0\" Y=\"0\" Z=\"0\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <Rotation3D X=\"0\" Y=\"0\" Z=\"0\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <Annotations3D xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <AnnotationOffset X=\"0\" Y=\"0\" Z=\"0\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <AnnotationRotation xmlns=\"http://www.railml.org/schemas/2013\">0</AnnotationRotation>\r\n  <AlignmentRotation3D X=\"0\" Y=\"0\" Z=\"-1.1406976367705406\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <DirectionRotation3D X=\"0\" Y=\"0\" Z=\"1.5707963267948966\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <PoleRouting3D xmlns=\"http://www.railml.org/schemas/2013\">None</PoleRouting3D>\r\n  <Model3DName xmlns=\"http://www.railml.org/schemas/2013\">NO-BN-3D-SA-TEL-THALES-TELLEPUNKT-SK30K</Model3DName>\r\n  <AlignmentTangent xmlns=\"http://www.railml.org/schemas/2013\">0.43009869002435597</AlignmentTangent>\r\n  <Alignment xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <Id>4c8ea38e-52e8-47a0-8b97-30bd1b5fa301</Id>\r\n  </Alignment>\r\n  <UpSections xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <DownSections xmlns=\"http://www.railml.org/schemas/2013\" />\r\n</tTrainDetector>",
  "set <?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<tTrainDetector xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" id=\"ab92f735-5388-4c66-82b0-d5609965074d\" code=\"-/-\" name=\"Tp(-/-)\" Stage=\"\" pos=\"48.8701193925332\" absPos=\"48.8701193925332\" dir=\"both\" detectionObject=\"axle\" medium=\"magnetic\" posInTrack=\"rightRail\" directionDetection=\"false\" model=\"\" axleCounting=\"true\" ocpStationRef=\"\" controllerRef=\"\">\r\n  <Variant xmlns=\"http://www.railml.org/schemas/2013\">Tellepunkt</Variant>\r\n  <LuaExpressions xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <LuaExpression Name=\"code\" IsModelCheck=\"false\">\r\n      <Formula>NOBN_axleCounterCode()</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"name\" IsModelCheck=\"false\">\r\n      <Formula>\"Tp(\"..code..\")\"</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"IsInsideOcpArea\" IsModelCheck=\"true\">\r\n      <Formula>NOBN_isInsideOcpArea()</Formula>\r\n      <Symbol>_ok</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"ocpStationRef\" IsModelCheck=\"false\">\r\n      <Formula>NOBN_ocpStationRef()</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"Rotation3D.X\" IsModelCheck=\"false\">\r\n      <Formula>--SA_TEL@Rotation3d.X\n--Pitch (gradient)\ng = getAlignmentInfo().gradient\nif (NOBN_isNan(g)) then\n    return 0, _warning\nelse\n    -- Gradient is measured in meter elevation per thousand meters of horizontal displacement  \n    return math.atan(g/1000.0)*(180.0/math.pi)\nend</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"Rotation3D.Y\" IsModelCheck=\"false\">\r\n      <Formula>NOBN_objectRotation3DY()</Formula>\r\n      <Symbol>_warning</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"Offset3D.Z\" IsModelCheck=\"false\">\r\n      <Formula>NOBN_objectLiftWithCant()</Formula>\r\n      <Symbol>_warning</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"posInTrack\" IsModelCheck=\"false\">\r\n      <Formula>RightSided and \"leftRail\" or \"rightRail\"</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"DistanceToAlignment\" IsModelCheck=\"false\">\r\n      <Formula>RightSided and 0.75 or -0.75</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"RelativeElevation\" IsModelCheck=\"false\">\r\n      <Formula>0</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"AvstandTellepunkt\" IsModelCheck=\"true\">\r\n      <Formula>if (Alignment == null) then return \"Mangler spor\", _warning end\nclosestUp = getUpObject(\"SA-TEL Tellepunkt\")\nclosestDown = getDownObject(\"SA-TEL Tellepunkt\")\nobjectsToUpdate = {}\ndistUp = math.abs(distance(closestUp))\ndistDown = math.abs(distance(closestDown))\nclosest = nil\nif (NOBN_isNan(distUp)) then distUp = math.huge end\nif (NOBN_isNan(distDown)) then distDown = math.huge end\nif (distUp &gt; distDown) then \n\tclosest = closestDown\nelseif (distUp &lt; distDown) then\n\tclosest = closestUp\nelse\n\tif (distUp &lt; 22) then closest = closestUp end\nend\nif (closest == null) then return \"Ingen tellepunkt innenfor 22 meter\", _ok end\nclosestDist = math.abs(distance(closest))\nif(closestDist &gt; 22) then\n\treturn \"Ingen tellepunkt innenfor 22 meter\", _ok\nelse\n\tif (distUp &lt; 22) then  \n\t\ttable.insert(objectsToUpdate, closestUp)\n\tend\n\tif (distDown &lt; 22) then  \n\t\ttable.insert(objectsToUpdate, closestDown)\n\tend\n\t\n\tif (closestDist &lt; 21) then \n\t\treturn string.format(\"%.3f\", closestDist)..\": \"..closest.name, objectsToUpdate, _error\n\telseif (closestDist &lt; 22) then \n\t\treturn string.format(\"%.3f\", closestDist)..\": \"..closest.name, objectsToUpdate, _warning\n\telse\n\t\treturn \"Ingen tellepunkt innenfor 22 meter\", _ok\n\tend\nend</Formula>\r\n      <Symbol>_ok</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"SymbolFrame\" IsModelCheck=\"false\">\r\n      <Formula>NOBN_setModelCheckFrame()</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n  </LuaExpressions>\r\n  <CurrentModelCheckObjectsToUpdate xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <Seq xmlns=\"http://www.railml.org/schemas/2013\">0</Seq>\r\n  <Relations SourceSpace=\"tellepunkt\" xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <ObjectRelations />\r\n  </Relations>\r\n  <RcSection xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <SymbolOffsets xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <CustomAttributes xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <KeyValueString Key=\"Fag\" Value=\"Signal\" />\r\n    <KeyValueString Key=\"Tag\" Value=\"SA-TEL-nnnnnn\" />\r\n    <KeyValueString Key=\"ObjektInfo\" Value=\"\" />\r\n    <KeyValueString Key=\"MileageIncreasesTowardsLeft\" Value=\"False\" />\r\n    <KeyValueString Key=\"AvstandTellepunkt\" Value=\"Ingen tellepunkt innenfor 22 meter\" />\r\n    <KeyValueString Key=\"IsInsideOcpArea\" Value=\"Objektet er ikke omsluttet av noen OCP områder\" />\r\n  </CustomAttributes>\r\n  <TimeStamp xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <Item>\r\n      <DateTime>2018-10-15T12:56:40.634799+02:00</DateTime>\r\n      <User>bjslu</User>\r\n    </Item>\r\n  </TimeStamp>\r\n  <geoCoord coord=\"106.39770837767732 107.68808298216229 0\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <DrawTail xmlns=\"http://www.railml.org/schemas/2013\">false</DrawTail>\r\n  <Earthing xmlns=\"http://www.railml.org/schemas/2013\">Unknown</Earthing>\r\n  <CableMarkerColor xmlns=\"http://www.railml.org/schemas/2013\">Green</CableMarkerColor>\r\n  <Offset3D X=\"0\" Y=\"0\" Z=\"0\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <Rotation3D X=\"0\" Y=\"0\" Z=\"0\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <Annotations3D xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <AnnotationOffset X=\"0\" Y=\"0\" Z=\"0\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <AnnotationRotation xmlns=\"http://www.railml.org/schemas/2013\">0</AnnotationRotation>\r\n  <AlignmentRotation3D X=\"0\" Y=\"0\" Z=\"-1.5959418633386575\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <DirectionRotation3D X=\"0\" Y=\"0\" Z=\"1.5707963267948966\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <PoleRouting3D xmlns=\"http://www.railml.org/schemas/2013\">None</PoleRouting3D>\r\n  <Model3DName xmlns=\"http://www.railml.org/schemas/2013\">NO-BN-3D-SA-TEL-THALES-TELLEPUNKT-SK30K</Model3DName>\r\n  <AlignmentTangent xmlns=\"http://www.railml.org/schemas/2013\">-0.025145536543761032</AlignmentTangent>\r\n  <Alignment xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <Id>4c8ea38e-52e8-47a0-8b97-30bd1b5fa301</Id>\r\n  </Alignment>\r\n  <UpSections xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <DownSections xmlns=\"http://www.railml.org/schemas/2013\" />\r\n</tTrainDetector>",
  "set <?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<tTrainDetector xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" id=\"ab92f735-5388-4c66-82b0-d5609965074d\" code=\"-/-\" name=\"Tp(-/-)\" Stage=\"\" pos=\"48.8701193925332\" absPos=\"48.8701193925332\" dir=\"both\" detectionObject=\"axle\" medium=\"magnetic\" posInTrack=\"rightRail\" directionDetection=\"false\" model=\"\" axleCounting=\"true\" ocpStationRef=\"\" controllerRef=\"\">\r\n  <Variant xmlns=\"http://www.railml.org/schemas/2013\">Tellepunkt</Variant>\r\n  <LuaExpressions xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <LuaExpression Name=\"code\" IsModelCheck=\"false\">\r\n      <Formula>NOBN_axleCounterCode()</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"name\" IsModelCheck=\"false\">\r\n      <Formula>\"Tp(\"..code..\")\"</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"IsInsideOcpArea\" IsModelCheck=\"true\">\r\n      <Formula>NOBN_isInsideOcpArea()</Formula>\r\n      <Symbol>_ok</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"ocpStationRef\" IsModelCheck=\"false\">\r\n      <Formula>NOBN_ocpStationRef()</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"Rotation3D.X\" IsModelCheck=\"false\">\r\n      <Formula>--SA_TEL@Rotation3d.X\n--Pitch (gradient)\ng = getAlignmentInfo().gradient\nif (NOBN_isNan(g)) then\n    return 0, _warning\nelse\n    -- Gradient is measured in meter elevation per thousand meters of horizontal displacement  \n    return math.atan(g/1000.0)*(180.0/math.pi)\nend</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"Rotation3D.Y\" IsModelCheck=\"false\">\r\n      <Formula>NOBN_objectRotation3DY()</Formula>\r\n      <Symbol>_warning</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"Offset3D.Z\" IsModelCheck=\"false\">\r\n      <Formula>NOBN_objectLiftWithCant()</Formula>\r\n      <Symbol>_warning</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"posInTrack\" IsModelCheck=\"false\">\r\n      <Formula>RightSided and \"leftRail\" or \"rightRail\"</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"DistanceToAlignment\" IsModelCheck=\"false\">\r\n      <Formula>RightSided and 0.75 or -0.75</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"RelativeElevation\" IsModelCheck=\"false\">\r\n      <Formula>0</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"AvstandTellepunkt\" IsModelCheck=\"true\">\r\n      <Formula>if (Alignment == null) then return \"Mangler spor\", _warning end\nclosestUp = getUpObject(\"SA-TEL Tellepunkt\")\nclosestDown = getDownObject(\"SA-TEL Tellepunkt\")\nobjectsToUpdate = {}\ndistUp = math.abs(distance(closestUp))\ndistDown = math.abs(distance(closestDown))\nclosest = nil\nif (NOBN_isNan(distUp)) then distUp = math.huge end\nif (NOBN_isNan(distDown)) then distDown = math.huge end\nif (distUp &gt; distDown) then \n\tclosest = closestDown\nelseif (distUp &lt; distDown) then\n\tclosest = closestUp\nelse\n\tif (distUp &lt; 22) then closest = closestUp end\nend\nif (closest == null) then return \"Ingen tellepunkt innenfor 22 meter\", _ok end\nclosestDist = math.abs(distance(closest))\nif(closestDist &gt; 22) then\n\treturn \"Ingen tellepunkt innenfor 22 meter\", _ok\nelse\n\tif (distUp &lt; 22) then  \n\t\ttable.insert(objectsToUpdate, closestUp)\n\tend\n\tif (distDown &lt; 22) then  \n\t\ttable.insert(objectsToUpdate, closestDown)\n\tend\n\t\n\tif (closestDist &lt; 21) then \n\t\treturn string.format(\"%.3f\", closestDist)..\": \"..closest.name, objectsToUpdate, _error\n\telseif (closestDist &lt; 22) then \n\t\treturn string.format(\"%.3f\", closestDist)..\": \"..closest.name, objectsToUpdate, _warning\n\telse\n\t\treturn \"Ingen tellepunkt innenfor 22 meter\", _ok\n\tend\nend</Formula>\r\n      <Symbol>_ok</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"SymbolFrame\" IsModelCheck=\"false\">\r\n      <Formula>NOBN_setModelCheckFrame()</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n  </LuaExpressions>\r\n  <CurrentModelCheckObjectsToUpdate xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <Seq xmlns=\"http://www.railml.org/schemas/2013\">0</Seq>\r\n  <Relations SourceSpace=\"tellepunkt\" xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <ObjectRelations />\r\n  </Relations>\r\n  <RcSection xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <SymbolOffsets xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <CustomAttributes xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <KeyValueString Key=\"Fag\" Value=\"Signal\" />\r\n    <KeyValueString Key=\"Tag\" Value=\"SA-TEL-nnnnnn\" />\r\n    <KeyValueString Key=\"ObjektInfo\" Value=\"\" />\r\n    <KeyValueString Key=\"MileageIncreasesTowardsLeft\" Value=\"False\" />\r\n    <KeyValueString Key=\"AvstandTellepunkt\" Value=\"Ingen tellepunkt innenfor 22 meter\" />\r\n    <KeyValueString Key=\"IsInsideOcpArea\" Value=\"Objektet er ikke omsluttet av noen OCP områder\" />\r\n  </CustomAttributes>\r\n  <TimeStamp xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <Item>\r\n      <DateTime>2018-10-15T12:56:40.634799+02:00</DateTime>\r\n      <User>bjslu</User>\r\n    </Item>\r\n  </TimeStamp>\r\n  <geoCoord coord=\"106.39770837767732 107.68808298216229 0\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <DrawTail xmlns=\"http://www.railml.org/schemas/2013\">false</DrawTail>\r\n  <Earthing xmlns=\"http://www.railml.org/schemas/2013\">Unknown</Earthing>\r\n  <CableMarkerColor xmlns=\"http://www.railml.org/schemas/2013\">Green</CableMarkerColor>\r\n  <Offset3D X=\"0\" Y=\"0\" Z=\"0\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <Rotation3D X=\"0\" Y=\"0\" Z=\"0\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <Annotations3D xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <AnnotationOffset X=\"0\" Y=\"0\" Z=\"0\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <AnnotationRotation xmlns=\"http://www.railml.org/schemas/2013\">0</AnnotationRotation>\r\n  <AlignmentRotation3D X=\"0\" Y=\"0\" Z=\"-1.5959418633386575\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <DirectionRotation3D X=\"0\" Y=\"0\" Z=\"1.5707963267948966\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <PoleRouting3D xmlns=\"http://www.railml.org/schemas/2013\">None</PoleRouting3D>\r\n  <Model3DName xmlns=\"http://www.railml.org/schemas/2013\">NO-BN-3D-SA-TEL-THALES-TELLEPUNKT-SK30K</Model3DName>\r\n  <AlignmentTangent xmlns=\"http://www.railml.org/schemas/2013\">-0.025145536543761032</AlignmentTangent>\r\n  <Alignment xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <Id>4c8ea38e-52e8-47a0-8b97-30bd1b5fa301</Id>\r\n  </Alignment>\r\n  <UpSections xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <DownSections xmlns=\"http://www.railml.org/schemas/2013\" />\r\n</tTrainDetector>",
  "set <?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<tTrainDetector xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" id=\"f475cca6-1be3-4412-8a2c-7d994e9cc53d\" code=\"-/-\" name=\"Tp(-/-)\" Stage=\"\" pos=\"58.7852494093764\" absPos=\"58.7852494093764\" dir=\"both\" detectionObject=\"axle\" medium=\"magnetic\" posInTrack=\"leftRail\" directionDetection=\"false\" model=\"\" axleCounting=\"true\" ocpStationRef=\"\" controllerRef=\"\">\r\n  <Variant xmlns=\"http://www.railml.org/schemas/2013\">Tellepunkt</Variant>\r\n  <LuaExpressions xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <LuaExpression Name=\"code\" IsModelCheck=\"false\">\r\n      <Formula>NOBN_axleCounterCode()</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"name\" IsModelCheck=\"false\">\r\n      <Formula>\"Tp(\"..code..\")\"</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"IsInsideOcpArea\" IsModelCheck=\"true\">\r\n      <Formula>NOBN_isInsideOcpArea()</Formula>\r\n      <Symbol>_ok</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"ocpStationRef\" IsModelCheck=\"false\">\r\n      <Formula>NOBN_ocpStationRef()</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"Rotation3D.X\" IsModelCheck=\"false\">\r\n      <Formula>--SA_TEL@Rotation3d.X\n--Pitch (gradient)\ng = getAlignmentInfo().gradient\nif (NOBN_isNan(g)) then\n    return 0, _warning\nelse\n    -- Gradient is measured in meter elevation per thousand meters of horizontal displacement  \n    return math.atan(g/1000.0)*(180.0/math.pi)\nend</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"Rotation3D.Y\" IsModelCheck=\"false\">\r\n      <Formula>NOBN_objectRotation3DY()</Formula>\r\n      <Symbol>_warning</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"Offset3D.Z\" IsModelCheck=\"false\">\r\n      <Formula>NOBN_objectLiftWithCant()</Formula>\r\n      <Symbol>_warning</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"posInTrack\" IsModelCheck=\"false\">\r\n      <Formula>RightSided and \"leftRail\" or \"rightRail\"</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"DistanceToAlignment\" IsModelCheck=\"false\">\r\n      <Formula>RightSided and 0.75 or -0.75</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"RelativeElevation\" IsModelCheck=\"false\">\r\n      <Formula>0</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"AvstandTellepunkt\" IsModelCheck=\"true\">\r\n      <Formula>if (Alignment == null) then return \"Mangler spor\", _warning end\nclosestUp = getUpObject(\"SA-TEL Tellepunkt\")\nclosestDown = getDownObject(\"SA-TEL Tellepunkt\")\nobjectsToUpdate = {}\ndistUp = math.abs(distance(closestUp))\ndistDown = math.abs(distance(closestDown))\nclosest = nil\nif (NOBN_isNan(distUp)) then distUp = math.huge end\nif (NOBN_isNan(distDown)) then distDown = math.huge end\nif (distUp &gt; distDown) then \n\tclosest = closestDown\nelseif (distUp &lt; distDown) then\n\tclosest = closestUp\nelse\n\tif (distUp &lt; 22) then closest = closestUp end\nend\nif (closest == null) then return \"Ingen tellepunkt innenfor 22 meter\", _ok end\nclosestDist = math.abs(distance(closest))\nif(closestDist &gt; 22) then\n\treturn \"Ingen tellepunkt innenfor 22 meter\", _ok\nelse\n\tif (distUp &lt; 22) then  \n\t\ttable.insert(objectsToUpdate, closestUp)\n\tend\n\tif (distDown &lt; 22) then  \n\t\ttable.insert(objectsToUpdate, closestDown)\n\tend\n\t\n\tif (closestDist &lt; 21) then \n\t\treturn string.format(\"%.3f\", closestDist)..\": \"..closest.name, objectsToUpdate, _error\n\telseif (closestDist &lt; 22) then \n\t\treturn string.format(\"%.3f\", closestDist)..\": \"..closest.name, objectsToUpdate, _warning\n\telse\n\t\treturn \"Ingen tellepunkt innenfor 22 meter\", _ok\n\tend\nend</Formula>\r\n      <Symbol>_ok</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"SymbolFrame\" IsModelCheck=\"false\">\r\n      <Formula>NOBN_setModelCheckFrame()</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n  </LuaExpressions>\r\n  <CurrentModelCheckObjectsToUpdate xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <Seq xmlns=\"http://www.railml.org/schemas/2013\">0</Seq>\r\n  <Relations SourceSpace=\"tellepunkt\" xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <ObjectRelations />\r\n  </Relations>\r\n  <RcSection xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <SymbolOffsets xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <CustomAttributes xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <KeyValueString Key=\"Fag\" Value=\"Signal\" />\r\n    <KeyValueString Key=\"Tag\" Value=\"SA-TEL-nnnnnn\" />\r\n    <KeyValueString Key=\"ObjektInfo\" Value=\"\" />\r\n    <KeyValueString Key=\"MileageIncreasesTowardsLeft\" Value=\"False\" />\r\n    <KeyValueString Key=\"AvstandTellepunkt\" Value=\"Ingen tellepunkt innenfor 22 meter\" />\r\n    <KeyValueString Key=\"IsInsideOcpArea\" Value=\"Objektet er ikke omsluttet av noen OCP områder\" />\r\n  </CustomAttributes>\r\n  <TimeStamp xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <Item>\r\n      <DateTime>2018-10-15T12:56:42.0501049+02:00</DateTime>\r\n      <User>bjslu</User>\r\n    </Item>\r\n  </TimeStamp>\r\n  <geoCoord coord=\"106.00707165736006 103.96854031246187 0\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <DrawTail xmlns=\"http://www.railml.org/schemas/2013\">false</DrawTail>\r\n  <Earthing xmlns=\"http://www.railml.org/schemas/2013\">Unknown</Earthing>\r\n  <CableMarkerColor xmlns=\"http://www.railml.org/schemas/2013\">Green</CableMarkerColor>\r\n  <Offset3D X=\"0\" Y=\"0\" Z=\"0\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <Rotation3D X=\"0\" Y=\"0\" Z=\"0\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <Annotations3D xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <AnnotationOffset X=\"0\" Y=\"0\" Z=\"0\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <AnnotationRotation xmlns=\"http://www.railml.org/schemas/2013\">0</AnnotationRotation>\r\n  <AlignmentRotation3D X=\"0\" Y=\"0\" Z=\"-1.4560275710337285\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <DirectionRotation3D X=\"0\" Y=\"0\" Z=\"-1.5707963267948966\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <PoleRouting3D xmlns=\"http://www.railml.org/schemas/2013\">None</PoleRouting3D>\r\n  <Model3DName xmlns=\"http://www.railml.org/schemas/2013\">NO-BN-3D-SA-TEL-THALES-TELLEPUNKT-SK30K</Model3DName>\r\n  <AlignmentTangent xmlns=\"http://www.railml.org/schemas/2013\">0.1147687557611681</AlignmentTangent>\r\n  <Alignment xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <Id>d5570c64-d3ff-4e4b-bb6c-797bf94e697e</Id>\r\n  </Alignment>\r\n  <UpSections xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <DownSections xmlns=\"http://www.railml.org/schemas/2013\" />\r\n</tTrainDetector>",
  "set <?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<tTrainDetector xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" id=\"f475cca6-1be3-4412-8a2c-7d994e9cc53d\" code=\"-/-\" name=\"Tp(-/-)\" Stage=\"\" pos=\"58.7852494093764\" absPos=\"58.7852494093764\" dir=\"both\" detectionObject=\"axle\" medium=\"magnetic\" posInTrack=\"leftRail\" directionDetection=\"false\" model=\"\" axleCounting=\"true\" ocpStationRef=\"\" controllerRef=\"\">\r\n  <Variant xmlns=\"http://www.railml.org/schemas/2013\">Tellepunkt</Variant>\r\n  <LuaExpressions xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <LuaExpression Name=\"code\" IsModelCheck=\"false\">\r\n      <Formula>NOBN_axleCounterCode()</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"name\" IsModelCheck=\"false\">\r\n      <Formula>\"Tp(\"..code..\")\"</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"IsInsideOcpArea\" IsModelCheck=\"true\">\r\n      <Formula>NOBN_isInsideOcpArea()</Formula>\r\n      <Symbol>_ok</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"ocpStationRef\" IsModelCheck=\"false\">\r\n      <Formula>NOBN_ocpStationRef()</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"Rotation3D.X\" IsModelCheck=\"false\">\r\n      <Formula>--SA_TEL@Rotation3d.X\n--Pitch (gradient)\ng = getAlignmentInfo().gradient\nif (NOBN_isNan(g)) then\n    return 0, _warning\nelse\n    -- Gradient is measured in meter elevation per thousand meters of horizontal displacement  \n    return math.atan(g/1000.0)*(180.0/math.pi)\nend</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"Rotation3D.Y\" IsModelCheck=\"false\">\r\n      <Formula>NOBN_objectRotation3DY()</Formula>\r\n      <Symbol>_warning</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"Offset3D.Z\" IsModelCheck=\"false\">\r\n      <Formula>NOBN_objectLiftWithCant()</Formula>\r\n      <Symbol>_warning</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"posInTrack\" IsModelCheck=\"false\">\r\n      <Formula>RightSided and \"leftRail\" or \"rightRail\"</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"DistanceToAlignment\" IsModelCheck=\"false\">\r\n      <Formula>RightSided and 0.75 or -0.75</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"RelativeElevation\" IsModelCheck=\"false\">\r\n      <Formula>0</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"AvstandTellepunkt\" IsModelCheck=\"true\">\r\n      <Formula>if (Alignment == null) then return \"Mangler spor\", _warning end\nclosestUp = getUpObject(\"SA-TEL Tellepunkt\")\nclosestDown = getDownObject(\"SA-TEL Tellepunkt\")\nobjectsToUpdate = {}\ndistUp = math.abs(distance(closestUp))\ndistDown = math.abs(distance(closestDown))\nclosest = nil\nif (NOBN_isNan(distUp)) then distUp = math.huge end\nif (NOBN_isNan(distDown)) then distDown = math.huge end\nif (distUp &gt; distDown) then \n\tclosest = closestDown\nelseif (distUp &lt; distDown) then\n\tclosest = closestUp\nelse\n\tif (distUp &lt; 22) then closest = closestUp end\nend\nif (closest == null) then return \"Ingen tellepunkt innenfor 22 meter\", _ok end\nclosestDist = math.abs(distance(closest))\nif(closestDist &gt; 22) then\n\treturn \"Ingen tellepunkt innenfor 22 meter\", _ok\nelse\n\tif (distUp &lt; 22) then  \n\t\ttable.insert(objectsToUpdate, closestUp)\n\tend\n\tif (distDown &lt; 22) then  \n\t\ttable.insert(objectsToUpdate, closestDown)\n\tend\n\t\n\tif (closestDist &lt; 21) then \n\t\treturn string.format(\"%.3f\", closestDist)..\": \"..closest.name, objectsToUpdate, _error\n\telseif (closestDist &lt; 22) then \n\t\treturn string.format(\"%.3f\", closestDist)..\": \"..closest.name, objectsToUpdate, _warning\n\telse\n\t\treturn \"Ingen tellepunkt innenfor 22 meter\", _ok\n\tend\nend</Formula>\r\n      <Symbol>_ok</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"SymbolFrame\" IsModelCheck=\"false\">\r\n      <Formula>NOBN_setModelCheckFrame()</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n  </LuaExpressions>\r\n  <CurrentModelCheckObjectsToUpdate xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <Seq xmlns=\"http://www.railml.org/schemas/2013\">0</Seq>\r\n  <Relations SourceSpace=\"tellepunkt\" xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <ObjectRelations />\r\n  </Relations>\r\n  <RcSection xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <SymbolOffsets xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <CustomAttributes xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <KeyValueString Key=\"Fag\" Value=\"Signal\" />\r\n    <KeyValueString Key=\"Tag\" Value=\"SA-TEL-nnnnnn\" />\r\n    <KeyValueString Key=\"ObjektInfo\" Value=\"\" />\r\n    <KeyValueString Key=\"MileageIncreasesTowardsLeft\" Value=\"False\" />\r\n    <KeyValueString Key=\"AvstandTellepunkt\" Value=\"Ingen tellepunkt innenfor 22 meter\" />\r\n    <KeyValueString Key=\"IsInsideOcpArea\" Value=\"Objektet er ikke omsluttet av noen OCP områder\" />\r\n  </CustomAttributes>\r\n  <TimeStamp xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <Item>\r\n      <DateTime>2018-10-15T12:56:42.0501049+02:00</DateTime>\r\n      <User>bjslu</User>\r\n    </Item>\r\n  </TimeStamp>\r\n  <geoCoord coord=\"106.00707165736006 103.96854031246187 0\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <DrawTail xmlns=\"http://www.railml.org/schemas/2013\">false</DrawTail>\r\n  <Earthing xmlns=\"http://www.railml.org/schemas/2013\">Unknown</Earthing>\r\n  <CableMarkerColor xmlns=\"http://www.railml.org/schemas/2013\">Green</CableMarkerColor>\r\n  <Offset3D X=\"0\" Y=\"0\" Z=\"0\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <Rotation3D X=\"0\" Y=\"0\" Z=\"0\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <Annotations3D xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <AnnotationOffset X=\"0\" Y=\"0\" Z=\"0\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <AnnotationRotation xmlns=\"http://www.railml.org/schemas/2013\">0</AnnotationRotation>\r\n  <AlignmentRotation3D X=\"0\" Y=\"0\" Z=\"-1.4560275710337285\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <DirectionRotation3D X=\"0\" Y=\"0\" Z=\"-1.5707963267948966\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <PoleRouting3D xmlns=\"http://www.railml.org/schemas/2013\">None</PoleRouting3D>\r\n  <Model3DName xmlns=\"http://www.railml.org/schemas/2013\">NO-BN-3D-SA-TEL-THALES-TELLEPUNKT-SK30K</Model3DName>\r\n  <AlignmentTangent xmlns=\"http://www.railml.org/schemas/2013\">0.1147687557611681</AlignmentTangent>\r\n  <Alignment xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <Id>d5570c64-d3ff-4e4b-bb6c-797bf94e697e</Id>\r\n  </Alignment>\r\n  <UpSections xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <DownSections xmlns=\"http://www.railml.org/schemas/2013\" />\r\n</tTrainDetector>",
  "set <?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<tSignal xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" id=\"5370beaf-ddae-4642-9179-7cedf0f90ca4\" name=\"Hs.\" Stage=\"\" pos=\"37.7087908409207\" absPos=\"37.7087908409207\" dir=\"up\" ruleCode=\"\" sight=\"250\" type=\"main\" ocpStationRef=\"\">\r\n  <LuaExpressions xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <LuaExpression Name=\"IsyPostnotat\" IsModelCheck=\"false\">\r\n      <Formula>local s = \"\"\nlocal first = true\nif (prop(\"Hovedsignal\") ~= \"-\") then \n\ts = prop(\"Hovedsignal\")\n\tfirst = false\nend \nif (prop(\"Forsignal\") == \"Ja\") then \n\tif (first) then s = \"Fs\" else s = s..\"-Fs\" end \n\tfirst = false\nend \nif (prop(\"Dvergsignal\") == \"Ja\") then \n\tif (first) then s = \"Ds\" else s = s..\"-Ds\" end\n\tfirst = false\nend\nif (prop(\"Middelkontrollampe\") == \"Ja\") then\n\tif (first) then s = \"Mk\" else s = s..\"-Mk\" end\t\t\n\tfirst = false\nend\nif (fromDisplayName(\"Forsiktig kjøring\") == \"Ja\") then\n\tif (first) then s = \"FKs\" else s = s..\"-FKs\" end\t\t\n\tfirst = false\nend\nif (fromDisplayName(\"Hovedlinjesignal\") == \"Ja\") then \n\tif (first) then s = \"HLs\" else s = s..\"-HLs\" end\t\t\n\tfirst = false\nend\nif (fromDisplayName(\"Lysende hastighetssignal\") == \"Ja\") then \n\tif (first) then s = \"Hast\" else s = s..\"-Hast\" end\t\t\n\tfirst = false\nend \nif (fromDisplayName(\"Høyt skiftesignal\") == \"Ja\") then \n\tif (first) then s = \"Z\" else s = s..\"-Z\" end\t\t\n\tfirst = false\nend \nreturn \"Navn: \"..name..\"  Bestykning: \"..s..\"  Beskrivelse: \"..description</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"IsyProsesskode\" IsModelCheck=\"false\">\r\n      <Formula>if MainSignal == \"Hs3\" then\n\tif Function == \"home\" then return \"3.52.131\"\n\telseif Function == \"exit\" then return \"3.52.132\"\n\telse return \"3.52.13\"\n\tend\nelseif MainSignal == \"Hs2\" then\n\tif Function == \"home\" then return \"3.52.141\"\n\telseif Function == \"exit\" then return \"3.52.142\"\n\telse return \"3.52.14\"\n\tend\nend\n\nreturn \"Prosesskode ikke definert\"</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"IsyProsessnavn\" IsModelCheck=\"false\">\r\n      <Formula>if MainSignal == \"Hs3\" then\n\tif Function == \"home\" then return \"Lyssignal, 3-lys; Innkjørhovedsignal\"\n\telseif Function == \"exit\" then return \"Lyssignal, 3-lys; Utkjørhovedsignal\"\n\telse return \"Lyssignal, 3-lys\"\n\tend\nelseif MainSignal == \"Hs2\" then\n\tif Function == \"home\" then return \"Lyssignal, 2-lys; Innkjørhovedsignal\"\n\telseif Function == \"exit\" then return \"Lyssignal, 2-lys; Utkjørhovedsignal\"\n\telse return \"Lyssignal, 2-lys\"\n\tend\nend\n\nreturn \"Prosessnavn ikke definert\"</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"IsySted\" IsModelCheck=\"false\">\r\n      <Formula>if OcpStationReference == nil then return \"OCP mangler\",_warning end\n \nreturn OcpStationReference.code</Formula>\r\n      <Symbol>_warning</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"name\" IsModelCheck=\"false\">\r\n      <Formula>NOBN_signalLongName()</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"RelativeElevation\" IsModelCheck=\"false\">\r\n      <Formula>PoleOrYoke == \"Pole\" and 0 or 7.90</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"SikkerhetsavstandTilKL\" IsModelCheck=\"true\">\r\n      <Formula>if (DwarfSignal == \"Ja\" and MainSignal == \"-\") then return \"Frittstående Dvergsignal - Sikkerhetsavstand til KL ikke relevant\", _noSymbol end\nradius = 6\ncloseObjects = getNearbyPointObjects2D(\"EH-MAS KL-master\", radius)\ncount = getCollectionLength(closeObjects)\nUpdateObjects = {}\nif(count == 0) then\n\treturn \"Ingen KL-master innenfor \"..radius..\" meter\", _ok\nelse\n\ti = 0\n\ttext = \"KL-Mast\"\n\tif (count &gt; 1) then text = text..\"ene\" end\n\ttext = text..\" [\"\n\twhile (i ~= count) do\n\t\ttext = text..closeObjects[i].name\n\t\ttable.insert(UpdateObjects, closeObjects[i])\n\t\ti = i+1\n\t\tif (i ~= count) then text = text..\", \" end\n\tend\n\treturn text..\"] er innenfor \"..radius..\" meter\", UpdateObjects, _warning\nend</Formula>\r\n      <Symbol>_ok</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"AvstandTilSpor\" IsModelCheck=\"true\">\r\n      <Formula>if (Alignment == null or getAlignmentInfo().AlignmentName == \"\") then return \"Mangler spor\", _warning end\nif (DwarfSignal == \"Ja\" and MainSignal == \"-\" and PoleOrYoke == \"Yoke\") then return \"Dverg i åk - gjør manuell profilkontroll\", _noSymbol end\nif (RelativeElevation &gt; 0.3) then return \"Signal med avvikende montasjehøyde - gjør manuell profilkontroll\", _noSymbol end\nclosestTrack = getClosestTracks()[0]\nif (closestTrack == null) then return \"Ingen spor i tegningen\", _noSymbol end\nalignmentInfo = getAlignmentInfo(closestTrack.id)\ncurveRadius = alignmentInfo.CurveRadius\nKi = 0.0\nKy = 0.0\nlimit = 2.12\nif (DwarfSignal == \"Ja\" and MainSignal == \"-\") then\n\tlimit = limit + 0.25\nelse\n\tlimit = limit + 0.4\nend\ndistToAlignment = math.abs(alignmentInfo.DistanceToAlignment)\nrightSided = alignmentInfo.DistanceToAlignment &lt;= 0.0\nif (curveRadius ~= math.huge) then\n\tKi = 81000.0/(2*curveRadius)\n\tKy = 63000.0/(2*curveRadius)\nend\nif ((alignmentInfo.CurveRotation == \"cw\" and not(rightSided)) or (alignmentInfo.CurveRotation == \"ccw\" and rightSided)) then \n\tlimit = limit + (Ky/1000.0)\nelse\n\tlimit = limit + (Ki/1000.0)\nend\nif (distToAlignment &lt;= limit) then\n\treturn string.format(\"%.3f\", distToAlignment)..\": Ugyldig - For nær spor '\"..alignmentInfo.AlignmentName..\"', øk avstand\", _error\nelseif (distToAlignment &gt; limit and distToAlignment &lt;= (limit + 0.4)) then\n\treturn string.format(\"%.3f\", distToAlignment)..\": Advarsel - Innenfor byggetoleranse men under anbefalt verdi, øk avstand\", _warning\nelse\n\treturn string.format(\"%.3f\", distToAlignment)..\": OK - Innenfor byggetoleranse med god margin\", _ok\nend</Formula>\r\n      <Symbol>_ok</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"SymbolFrame\" IsModelCheck=\"false\">\r\n      <Formula>NOBN_setModelCheckFrame()</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"IsInsideOcpArea\" IsModelCheck=\"true\">\r\n      <Formula>NOBN_isInsideOcpArea()</Formula>\r\n      <Symbol>_ok</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"ocpStationRef\" IsModelCheck=\"false\">\r\n      <Formula>area = NOBN_getAreaOfType(\"OCP Area\")\nreturn (area == null) and \"\" or area.id</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n  </LuaExpressions>\r\n  <CurrentModelCheckObjectsToUpdate xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <Seq xmlns=\"http://www.railml.org/schemas/2013\">0</Seq>\r\n  <Relations SourceSpace=\"signal\" xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <ObjectRelations />\r\n  </Relations>\r\n  <RcSection xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <SymbolOffsets xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <CustomAttributes xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <KeyValueString Key=\"Fag\" Value=\"Signal\" />\r\n    <KeyValueString Key=\"Tag\" Value=\"SA-SIG-nnnnnn\" />\r\n    <KeyValueString Key=\"ObjektInfo\" Value=\"\" />\r\n    <KeyValueString Key=\"MainSignal\" Value=\"Hs3\" />\r\n    <KeyValueString Key=\"EndOfTrainRoute\" Value=\"-\" />\r\n    <KeyValueString Key=\"DistantSignal\" Value=\"-\" />\r\n    <KeyValueString Key=\"DwarfSignal\" Value=\"Ja\" />\r\n    <KeyValueString Key=\"PositionLamp\" Value=\"-\" />\r\n    <KeyValueString Key=\"CautiousDrivingSignal\" Value=\"-\" />\r\n    <KeyValueString Key=\"LineSignal\" Value=\"-\" />\r\n    <KeyValueString Key=\"HighShuntingSignal\" Value=\"-\" />\r\n    <KeyValueString Key=\"OpticalSpeedSignal\" Value=\"-\" />\r\n    <KeyValueString Key=\"PoleOrYoke\" Value=\"Pole\" />\r\n    <KeyValueString Key=\"SikkerhetsavstandTilKL\" Value=\"Ingen KL-master innenfor 6 meter\" />\r\n    <KeyValueString Key=\"AvstandTilSpor\" Value=\"5.009: OK - Innenfor byggetoleranse med god margin\" />\r\n    <KeyValueString Key=\"LineSignalValue\" Value=\"\" />\r\n    <KeyValueString Key=\"OpticalSpeedSignalValue\" Value=\"\" />\r\n    <KeyValueString Key=\"IsyProsesskode\" Value=\"3.52.13\" />\r\n    <KeyValueString Key=\"IsyProsessnavn\" Value=\"Lyssignal, 3-lys\" />\r\n    <KeyValueString Key=\"IsyMengde\" Value=\"1\" />\r\n    <KeyValueString Key=\"IsyEnhet\" Value=\"stk\" />\r\n    <KeyValueString Key=\"IsySted\" Value=\"OCP mangler\" />\r\n    <KeyValueString Key=\"IsyPostnotat\" Value=\"Navn: Hs.  Bestykning: Hs3-Ds  Beskrivelse: \" />\r\n    <KeyValueString Key=\"IsInsideOcpArea\" Value=\"Objektet er ikke omsluttet av noen OCP områder\" />\r\n  </CustomAttributes>\r\n  <TimeStamp xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <Item>\r\n      <DateTime>2018-10-15T12:56:52.3563948+02:00</DateTime>\r\n      <User>bjslu</User>\r\n    </Item>\r\n    <Item>\r\n      <DateTime>2018-10-15T12:55:49.8376373+02:00</DateTime>\r\n      <User>bjslu</User>\r\n    </Item>\r\n  </TimeStamp>\r\n  <geoCoord coord=\"106.60846778659834 111.9431888943891 0\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <DrawTail xmlns=\"http://www.railml.org/schemas/2013\">false</DrawTail>\r\n  <Earthing xmlns=\"http://www.railml.org/schemas/2013\">Unknown</Earthing>\r\n  <CableMarkerColor xmlns=\"http://www.railml.org/schemas/2013\">Green</CableMarkerColor>\r\n  <Offset3D X=\"0\" Y=\"0\" Z=\"0\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <Rotation3D X=\"0\" Y=\"0\" Z=\"0\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <Annotations3D xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <CadAnnotation Tag=\"ISY Prosesskode\" Invisible=\"true\" Height=\"2\">\r\n      <Formula>IsyProsesskode</Formula>\r\n      <Offset X=\"0\" Y=\"30\" Z=\"0\" />\r\n      <Attitude X=\"0\" Y=\"0\" Z=\"0\" />\r\n    </CadAnnotation>\r\n    <CadAnnotation Tag=\"ISY Prosessnavn\" Invisible=\"true\" Height=\"2\">\r\n      <Formula>IsyProsessnavn</Formula>\r\n      <Offset X=\"0\" Y=\"25\" Z=\"0\" />\r\n      <Attitude X=\"0\" Y=\"0\" Z=\"0\" />\r\n    </CadAnnotation>\r\n    <CadAnnotation Tag=\"ISY Mengde\" Invisible=\"true\" Height=\"2\">\r\n      <Formula>IsyMengde</Formula>\r\n      <Offset X=\"0\" Y=\"20\" Z=\"0\" />\r\n      <Attitude X=\"0\" Y=\"0\" Z=\"0\" />\r\n    </CadAnnotation>\r\n    <CadAnnotation Tag=\"ISY Enhet\" Invisible=\"true\" Height=\"2\">\r\n      <Formula>IsyEnhet</Formula>\r\n      <Offset X=\"0\" Y=\"15\" Z=\"0\" />\r\n      <Attitude X=\"0\" Y=\"0\" Z=\"0\" />\r\n    </CadAnnotation>\r\n    <CadAnnotation Tag=\"ISY Sted\" Invisible=\"true\" Height=\"2\">\r\n      <Formula>IsySted</Formula>\r\n      <Offset X=\"0\" Y=\"10\" Z=\"0\" />\r\n      <Attitude X=\"0\" Y=\"0\" Z=\"0\" />\r\n    </CadAnnotation>\r\n    <CadAnnotation Tag=\"ISY Postnotat\" Invisible=\"true\" Height=\"2\">\r\n      <Formula>IsyPostnotat</Formula>\r\n      <Offset X=\"0\" Y=\"5\" Z=\"0\" />\r\n      <Attitude X=\"0\" Y=\"0\" Z=\"0\" />\r\n    </CadAnnotation>\r\n  </Annotations3D>\r\n  <AnnotationOffset X=\"0\" Y=\"0\" Z=\"0\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <AnnotationRotation xmlns=\"http://www.railml.org/schemas/2013\">0</AnnotationRotation>\r\n  <AlignmentRotation3D X=\"0\" Y=\"0\" Z=\"-1.5966763052348476\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <DirectionRotation3D X=\"0\" Y=\"0\" Z=\"0\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <PoleRouting3D xmlns=\"http://www.railml.org/schemas/2013\">None</PoleRouting3D>\r\n  <Model3DName xmlns=\"http://www.railml.org/schemas/2013\">NO-BN-3D-SA-SIG-NSI63-HS-3-LYS-MED-DS</Model3DName>\r\n  <AlignmentTangent xmlns=\"http://www.railml.org/schemas/2013\">-0.025879978439951046</AlignmentTangent>\r\n  <Alignment xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <Id>4c8ea38e-52e8-47a0-8b97-30bd1b5fa301</Id>\r\n  </Alignment>\r\n  <InheritPosition xmlns=\"http://www.railml.org/schemas/2013\">false</InheritPosition>\r\n  <speed xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <etcs xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <levelCrossing xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <trainRadio xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <catenary xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <line xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <milepost xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <braking xmlns=\"http://www.railml.org/schemas/2013\" />\r\n</tSignal>",
  "set <?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<tSignal xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" id=\"5370beaf-ddae-4642-9179-7cedf0f90ca4\" name=\"Hs.\" Stage=\"\" pos=\"37.7087908409207\" absPos=\"37.7087908409207\" dir=\"up\" ruleCode=\"\" sight=\"250\" type=\"main\" ocpStationRef=\"\">\r\n  <LuaExpressions xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <LuaExpression Name=\"IsyPostnotat\" IsModelCheck=\"false\">\r\n      <Formula>local s = \"\"\nlocal first = true\nif (prop(\"Hovedsignal\") ~= \"-\") then \n\ts = prop(\"Hovedsignal\")\n\tfirst = false\nend \nif (prop(\"Forsignal\") == \"Ja\") then \n\tif (first) then s = \"Fs\" else s = s..\"-Fs\" end \n\tfirst = false\nend \nif (prop(\"Dvergsignal\") == \"Ja\") then \n\tif (first) then s = \"Ds\" else s = s..\"-Ds\" end\n\tfirst = false\nend\nif (prop(\"Middelkontrollampe\") == \"Ja\") then\n\tif (first) then s = \"Mk\" else s = s..\"-Mk\" end\t\t\n\tfirst = false\nend\nif (fromDisplayName(\"Forsiktig kjøring\") == \"Ja\") then\n\tif (first) then s = \"FKs\" else s = s..\"-FKs\" end\t\t\n\tfirst = false\nend\nif (fromDisplayName(\"Hovedlinjesignal\") == \"Ja\") then \n\tif (first) then s = \"HLs\" else s = s..\"-HLs\" end\t\t\n\tfirst = false\nend\nif (fromDisplayName(\"Lysende hastighetssignal\") == \"Ja\") then \n\tif (first) then s = \"Hast\" else s = s..\"-Hast\" end\t\t\n\tfirst = false\nend \nif (fromDisplayName(\"Høyt skiftesignal\") == \"Ja\") then \n\tif (first) then s = \"Z\" else s = s..\"-Z\" end\t\t\n\tfirst = false\nend \nreturn \"Navn: \"..name..\"  Bestykning: \"..s..\"  Beskrivelse: \"..description</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"IsyProsesskode\" IsModelCheck=\"false\">\r\n      <Formula>if MainSignal == \"Hs3\" then\n\tif Function == \"home\" then return \"3.52.131\"\n\telseif Function == \"exit\" then return \"3.52.132\"\n\telse return \"3.52.13\"\n\tend\nelseif MainSignal == \"Hs2\" then\n\tif Function == \"home\" then return \"3.52.141\"\n\telseif Function == \"exit\" then return \"3.52.142\"\n\telse return \"3.52.14\"\n\tend\nend\n\nreturn \"Prosesskode ikke definert\"</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"IsyProsessnavn\" IsModelCheck=\"false\">\r\n      <Formula>if MainSignal == \"Hs3\" then\n\tif Function == \"home\" then return \"Lyssignal, 3-lys; Innkjørhovedsignal\"\n\telseif Function == \"exit\" then return \"Lyssignal, 3-lys; Utkjørhovedsignal\"\n\telse return \"Lyssignal, 3-lys\"\n\tend\nelseif MainSignal == \"Hs2\" then\n\tif Function == \"home\" then return \"Lyssignal, 2-lys; Innkjørhovedsignal\"\n\telseif Function == \"exit\" then return \"Lyssignal, 2-lys; Utkjørhovedsignal\"\n\telse return \"Lyssignal, 2-lys\"\n\tend\nend\n\nreturn \"Prosessnavn ikke definert\"</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"IsySted\" IsModelCheck=\"false\">\r\n      <Formula>if OcpStationReference == nil then return \"OCP mangler\",_warning end\n \nreturn OcpStationReference.code</Formula>\r\n      <Symbol>_warning</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"name\" IsModelCheck=\"false\">\r\n      <Formula>NOBN_signalLongName()</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"RelativeElevation\" IsModelCheck=\"false\">\r\n      <Formula>PoleOrYoke == \"Pole\" and 0 or 7.90</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"SikkerhetsavstandTilKL\" IsModelCheck=\"true\">\r\n      <Formula>if (DwarfSignal == \"Ja\" and MainSignal == \"-\") then return \"Frittstående Dvergsignal - Sikkerhetsavstand til KL ikke relevant\", _noSymbol end\nradius = 6\ncloseObjects = getNearbyPointObjects2D(\"EH-MAS KL-master\", radius)\ncount = getCollectionLength(closeObjects)\nUpdateObjects = {}\nif(count == 0) then\n\treturn \"Ingen KL-master innenfor \"..radius..\" meter\", _ok\nelse\n\ti = 0\n\ttext = \"KL-Mast\"\n\tif (count &gt; 1) then text = text..\"ene\" end\n\ttext = text..\" [\"\n\twhile (i ~= count) do\n\t\ttext = text..closeObjects[i].name\n\t\ttable.insert(UpdateObjects, closeObjects[i])\n\t\ti = i+1\n\t\tif (i ~= count) then text = text..\", \" end\n\tend\n\treturn text..\"] er innenfor \"..radius..\" meter\", UpdateObjects, _warning\nend</Formula>\r\n      <Symbol>_ok</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"AvstandTilSpor\" IsModelCheck=\"true\">\r\n      <Formula>if (Alignment == null or getAlignmentInfo().AlignmentName == \"\") then return \"Mangler spor\", _warning end\nif (DwarfSignal == \"Ja\" and MainSignal == \"-\" and PoleOrYoke == \"Yoke\") then return \"Dverg i åk - gjør manuell profilkontroll\", _noSymbol end\nif (RelativeElevation &gt; 0.3) then return \"Signal med avvikende montasjehøyde - gjør manuell profilkontroll\", _noSymbol end\nclosestTrack = getClosestTracks()[0]\nif (closestTrack == null) then return \"Ingen spor i tegningen\", _noSymbol end\nalignmentInfo = getAlignmentInfo(closestTrack.id)\ncurveRadius = alignmentInfo.CurveRadius\nKi = 0.0\nKy = 0.0\nlimit = 2.12\nif (DwarfSignal == \"Ja\" and MainSignal == \"-\") then\n\tlimit = limit + 0.25\nelse\n\tlimit = limit + 0.4\nend\ndistToAlignment = math.abs(alignmentInfo.DistanceToAlignment)\nrightSided = alignmentInfo.DistanceToAlignment &lt;= 0.0\nif (curveRadius ~= math.huge) then\n\tKi = 81000.0/(2*curveRadius)\n\tKy = 63000.0/(2*curveRadius)\nend\nif ((alignmentInfo.CurveRotation == \"cw\" and not(rightSided)) or (alignmentInfo.CurveRotation == \"ccw\" and rightSided)) then \n\tlimit = limit + (Ky/1000.0)\nelse\n\tlimit = limit + (Ki/1000.0)\nend\nif (distToAlignment &lt;= limit) then\n\treturn string.format(\"%.3f\", distToAlignment)..\": Ugyldig - For nær spor '\"..alignmentInfo.AlignmentName..\"', øk avstand\", _error\nelseif (distToAlignment &gt; limit and distToAlignment &lt;= (limit + 0.4)) then\n\treturn string.format(\"%.3f\", distToAlignment)..\": Advarsel - Innenfor byggetoleranse men under anbefalt verdi, øk avstand\", _warning\nelse\n\treturn string.format(\"%.3f\", distToAlignment)..\": OK - Innenfor byggetoleranse med god margin\", _ok\nend</Formula>\r\n      <Symbol>_ok</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"SymbolFrame\" IsModelCheck=\"false\">\r\n      <Formula>NOBN_setModelCheckFrame()</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"IsInsideOcpArea\" IsModelCheck=\"true\">\r\n      <Formula>NOBN_isInsideOcpArea()</Formula>\r\n      <Symbol>_ok</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"ocpStationRef\" IsModelCheck=\"false\">\r\n      <Formula>area = NOBN_getAreaOfType(\"OCP Area\")\nreturn (area == null) and \"\" or area.id</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n  </LuaExpressions>\r\n  <CurrentModelCheckObjectsToUpdate xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <Seq xmlns=\"http://www.railml.org/schemas/2013\">0</Seq>\r\n  <Relations SourceSpace=\"signal\" xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <ObjectRelations />\r\n  </Relations>\r\n  <RcSection xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <SymbolOffsets xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <CustomAttributes xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <KeyValueString Key=\"Fag\" Value=\"Signal\" />\r\n    <KeyValueString Key=\"Tag\" Value=\"SA-SIG-nnnnnn\" />\r\n    <KeyValueString Key=\"ObjektInfo\" Value=\"\" />\r\n    <KeyValueString Key=\"MainSignal\" Value=\"Hs3\" />\r\n    <KeyValueString Key=\"EndOfTrainRoute\" Value=\"-\" />\r\n    <KeyValueString Key=\"DistantSignal\" Value=\"-\" />\r\n    <KeyValueString Key=\"DwarfSignal\" Value=\"Ja\" />\r\n    <KeyValueString Key=\"PositionLamp\" Value=\"-\" />\r\n    <KeyValueString Key=\"CautiousDrivingSignal\" Value=\"-\" />\r\n    <KeyValueString Key=\"LineSignal\" Value=\"-\" />\r\n    <KeyValueString Key=\"HighShuntingSignal\" Value=\"-\" />\r\n    <KeyValueString Key=\"OpticalSpeedSignal\" Value=\"-\" />\r\n    <KeyValueString Key=\"PoleOrYoke\" Value=\"Pole\" />\r\n    <KeyValueString Key=\"SikkerhetsavstandTilKL\" Value=\"Ingen KL-master innenfor 6 meter\" />\r\n    <KeyValueString Key=\"AvstandTilSpor\" Value=\"5.009: OK - Innenfor byggetoleranse med god margin\" />\r\n    <KeyValueString Key=\"LineSignalValue\" Value=\"\" />\r\n    <KeyValueString Key=\"OpticalSpeedSignalValue\" Value=\"\" />\r\n    <KeyValueString Key=\"IsyProsesskode\" Value=\"3.52.13\" />\r\n    <KeyValueString Key=\"IsyProsessnavn\" Value=\"Lyssignal, 3-lys\" />\r\n    <KeyValueString Key=\"IsyMengde\" Value=\"1\" />\r\n    <KeyValueString Key=\"IsyEnhet\" Value=\"stk\" />\r\n    <KeyValueString Key=\"IsySted\" Value=\"OCP mangler\" />\r\n    <KeyValueString Key=\"IsyPostnotat\" Value=\"Navn: Hs.  Bestykning: Hs3-Ds  Beskrivelse: \" />\r\n    <KeyValueString Key=\"IsInsideOcpArea\" Value=\"Objektet er ikke omsluttet av noen OCP områder\" />\r\n  </CustomAttributes>\r\n  <TimeStamp xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <Item>\r\n      <DateTime>2018-10-15T12:56:52.3563948+02:00</DateTime>\r\n      <User>bjslu</User>\r\n    </Item>\r\n    <Item>\r\n      <DateTime>2018-10-15T12:55:49.8376373+02:00</DateTime>\r\n      <User>bjslu</User>\r\n    </Item>\r\n  </TimeStamp>\r\n  <geoCoord coord=\"106.60846778659834 111.9431888943891 0\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <DrawTail xmlns=\"http://www.railml.org/schemas/2013\">false</DrawTail>\r\n  <Earthing xmlns=\"http://www.railml.org/schemas/2013\">Unknown</Earthing>\r\n  <CableMarkerColor xmlns=\"http://www.railml.org/schemas/2013\">Green</CableMarkerColor>\r\n  <Offset3D X=\"0\" Y=\"0\" Z=\"0\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <Rotation3D X=\"0\" Y=\"0\" Z=\"0\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <Annotations3D xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <CadAnnotation Tag=\"ISY Prosesskode\" Invisible=\"true\" Height=\"2\">\r\n      <Formula>IsyProsesskode</Formula>\r\n      <Offset X=\"0\" Y=\"30\" Z=\"0\" />\r\n      <Attitude X=\"0\" Y=\"0\" Z=\"0\" />\r\n    </CadAnnotation>\r\n    <CadAnnotation Tag=\"ISY Prosessnavn\" Invisible=\"true\" Height=\"2\">\r\n      <Formula>IsyProsessnavn</Formula>\r\n      <Offset X=\"0\" Y=\"25\" Z=\"0\" />\r\n      <Attitude X=\"0\" Y=\"0\" Z=\"0\" />\r\n    </CadAnnotation>\r\n    <CadAnnotation Tag=\"ISY Mengde\" Invisible=\"true\" Height=\"2\">\r\n      <Formula>IsyMengde</Formula>\r\n      <Offset X=\"0\" Y=\"20\" Z=\"0\" />\r\n      <Attitude X=\"0\" Y=\"0\" Z=\"0\" />\r\n    </CadAnnotation>\r\n    <CadAnnotation Tag=\"ISY Enhet\" Invisible=\"true\" Height=\"2\">\r\n      <Formula>IsyEnhet</Formula>\r\n      <Offset X=\"0\" Y=\"15\" Z=\"0\" />\r\n      <Attitude X=\"0\" Y=\"0\" Z=\"0\" />\r\n    </CadAnnotation>\r\n    <CadAnnotation Tag=\"ISY Sted\" Invisible=\"true\" Height=\"2\">\r\n      <Formula>IsySted</Formula>\r\n      <Offset X=\"0\" Y=\"10\" Z=\"0\" />\r\n      <Attitude X=\"0\" Y=\"0\" Z=\"0\" />\r\n    </CadAnnotation>\r\n    <CadAnnotation Tag=\"ISY Postnotat\" Invisible=\"true\" Height=\"2\">\r\n      <Formula>IsyPostnotat</Formula>\r\n      <Offset X=\"0\" Y=\"5\" Z=\"0\" />\r\n      <Attitude X=\"0\" Y=\"0\" Z=\"0\" />\r\n    </CadAnnotation>\r\n  </Annotations3D>\r\n  <AnnotationOffset X=\"0\" Y=\"0\" Z=\"0\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <AnnotationRotation xmlns=\"http://www.railml.org/schemas/2013\">0</AnnotationRotation>\r\n  <AlignmentRotation3D X=\"0\" Y=\"0\" Z=\"-1.5966763052348476\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <DirectionRotation3D X=\"0\" Y=\"0\" Z=\"0\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <PoleRouting3D xmlns=\"http://www.railml.org/schemas/2013\">None</PoleRouting3D>\r\n  <Model3DName xmlns=\"http://www.railml.org/schemas/2013\">NO-BN-3D-SA-SIG-NSI63-HS-3-LYS-MED-DS</Model3DName>\r\n  <AlignmentTangent xmlns=\"http://www.railml.org/schemas/2013\">-0.025879978439951046</AlignmentTangent>\r\n  <Alignment xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <Id>4c8ea38e-52e8-47a0-8b97-30bd1b5fa301</Id>\r\n  </Alignment>\r\n  <InheritPosition xmlns=\"http://www.railml.org/schemas/2013\">false</InheritPosition>\r\n  <speed xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <etcs xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <levelCrossing xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <trainRadio xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <catenary xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <line xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <milepost xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <braking xmlns=\"http://www.railml.org/schemas/2013\" />\r\n</tSignal>",
  "set <?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<tTrainDetector xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" id=\"430191ea-7707-4f5c-bc06-e006d801bf0c\" code=\"-/-\" name=\"Tp(-/-)\" Stage=\"\" pos=\"112.557379441986\" absPos=\"112.557379441986\" dir=\"both\" detectionObject=\"axle\" medium=\"magnetic\" posInTrack=\"rightRail\" directionDetection=\"false\" model=\"\" axleCounting=\"true\" ocpStationRef=\"\" controllerRef=\"\">\r\n  <Variant xmlns=\"http://www.railml.org/schemas/2013\">Tellepunkt</Variant>\r\n  <LuaExpressions xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <LuaExpression Name=\"code\" IsModelCheck=\"false\">\r\n      <Formula>NOBN_axleCounterCode()</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"name\" IsModelCheck=\"false\">\r\n      <Formula>\"Tp(\"..code..\")\"</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"IsInsideOcpArea\" IsModelCheck=\"true\">\r\n      <Formula>NOBN_isInsideOcpArea()</Formula>\r\n      <Symbol>_ok</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"ocpStationRef\" IsModelCheck=\"false\">\r\n      <Formula>NOBN_ocpStationRef()</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"Rotation3D.X\" IsModelCheck=\"false\">\r\n      <Formula>--SA_TEL@Rotation3d.X\n--Pitch (gradient)\ng = getAlignmentInfo().gradient\nif (NOBN_isNan(g)) then\n    return 0, _warning\nelse\n    -- Gradient is measured in meter elevation per thousand meters of horizontal displacement  \n    return math.atan(g/1000.0)*(180.0/math.pi)\nend</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"Rotation3D.Y\" IsModelCheck=\"false\">\r\n      <Formula>NOBN_objectRotation3DY()</Formula>\r\n      <Symbol>_warning</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"Offset3D.Z\" IsModelCheck=\"false\">\r\n      <Formula>NOBN_objectLiftWithCant()</Formula>\r\n      <Symbol>_warning</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"posInTrack\" IsModelCheck=\"false\">\r\n      <Formula>RightSided and \"leftRail\" or \"rightRail\"</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"DistanceToAlignment\" IsModelCheck=\"false\">\r\n      <Formula>RightSided and 0.75 or -0.75</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"RelativeElevation\" IsModelCheck=\"false\">\r\n      <Formula>0</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"AvstandTellepunkt\" IsModelCheck=\"true\">\r\n      <Formula>if (Alignment == null) then return \"Mangler spor\", _warning end\nclosestUp = getUpObject(\"SA-TEL Tellepunkt\")\nclosestDown = getDownObject(\"SA-TEL Tellepunkt\")\nobjectsToUpdate = {}\ndistUp = math.abs(distance(closestUp))\ndistDown = math.abs(distance(closestDown))\nclosest = nil\nif (NOBN_isNan(distUp)) then distUp = math.huge end\nif (NOBN_isNan(distDown)) then distDown = math.huge end\nif (distUp &gt; distDown) then \n\tclosest = closestDown\nelseif (distUp &lt; distDown) then\n\tclosest = closestUp\nelse\n\tif (distUp &lt; 22) then closest = closestUp end\nend\nif (closest == null) then return \"Ingen tellepunkt innenfor 22 meter\", _ok end\nclosestDist = math.abs(distance(closest))\nif(closestDist &gt; 22) then\n\treturn \"Ingen tellepunkt innenfor 22 meter\", _ok\nelse\n\tif (distUp &lt; 22) then  \n\t\ttable.insert(objectsToUpdate, closestUp)\n\tend\n\tif (distDown &lt; 22) then  \n\t\ttable.insert(objectsToUpdate, closestDown)\n\tend\n\t\n\tif (closestDist &lt; 21) then \n\t\treturn string.format(\"%.3f\", closestDist)..\": \"..closest.name, objectsToUpdate, _error\n\telseif (closestDist &lt; 22) then \n\t\treturn string.format(\"%.3f\", closestDist)..\": \"..closest.name, objectsToUpdate, _warning\n\telse\n\t\treturn \"Ingen tellepunkt innenfor 22 meter\", _ok\n\tend\nend</Formula>\r\n      <Symbol>_error</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"SymbolFrame\" IsModelCheck=\"false\">\r\n      <Formula>NOBN_setModelCheckFrame()</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n  </LuaExpressions>\r\n  <CurrentModelCheckObjectsToUpdate xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <string>26694f63-0478-4f06-bc2b-3ba9be32565f</string>\r\n  </CurrentModelCheckObjectsToUpdate>\r\n  <Seq xmlns=\"http://www.railml.org/schemas/2013\">0</Seq>\r\n  <Relations SourceSpace=\"tellepunkt\" xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <ObjectRelations />\r\n  </Relations>\r\n  <RcSection xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <SymbolOffsets xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <CustomAttributes xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <KeyValueString Key=\"Fag\" Value=\"Signal\" />\r\n    <KeyValueString Key=\"Tag\" Value=\"SA-TEL-nnnnnn\" />\r\n    <KeyValueString Key=\"ObjektInfo\" Value=\"\" />\r\n    <KeyValueString Key=\"MileageIncreasesTowardsLeft\" Value=\"False\" />\r\n    <KeyValueString Key=\"AvstandTellepunkt\" Value=\"15.648: Tp(-/-)\" />\r\n    <KeyValueString Key=\"IsInsideOcpArea\" Value=\"Objektet er ikke omsluttet av noen OCP områder\" />\r\n  </CustomAttributes>\r\n  <TimeStamp xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <Item>\r\n      <DateTime>2018-10-15T12:57:00.2893825+02:00</DateTime>\r\n      <User>bjslu</User>\r\n    </Item>\r\n    <Item>\r\n      <DateTime>2018-10-15T12:56:32.6662494+02:00</DateTime>\r\n      <User>bjslu</User>\r\n    </Item>\r\n  </TimeStamp>\r\n  <geoCoord coord=\"159.25367510939634 111.61649357235571 0\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <DrawTail xmlns=\"http://www.railml.org/schemas/2013\">false</DrawTail>\r\n  <Earthing xmlns=\"http://www.railml.org/schemas/2013\">Unknown</Earthing>\r\n  <CableMarkerColor xmlns=\"http://www.railml.org/schemas/2013\">Green</CableMarkerColor>\r\n  <Offset3D X=\"0\" Y=\"0\" Z=\"0\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <Rotation3D X=\"0\" Y=\"0\" Z=\"0\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <Annotations3D xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <AnnotationOffset X=\"0\" Y=\"0\" Z=\"0\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <AnnotationRotation xmlns=\"http://www.railml.org/schemas/2013\">0</AnnotationRotation>\r\n  <AlignmentRotation3D X=\"0\" Y=\"0\" Z=\"-1.4560275710337285\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <DirectionRotation3D X=\"0\" Y=\"0\" Z=\"1.5707963267948966\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <PoleRouting3D xmlns=\"http://www.railml.org/schemas/2013\">None</PoleRouting3D>\r\n  <Model3DName xmlns=\"http://www.railml.org/schemas/2013\">NO-BN-3D-SA-TEL-THALES-TELLEPUNKT-SK30K</Model3DName>\r\n  <AlignmentTangent xmlns=\"http://www.railml.org/schemas/2013\">0.1147687557611681</AlignmentTangent>\r\n  <SymbolFrame Name=\"Error\" CircleRadius=\"2\" HorizontalMargin=\"1\" VerticalMargin=\"1\" Color=\"Red\" LineType=\"RC-DASHED\" LineWidth=\"0.3\" Transparency=\"200\" Layer=\"RC_SYMBOLFRAMES_ERROR\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <Alignment xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <Id>d5570c64-d3ff-4e4b-bb6c-797bf94e697e</Id>\r\n  </Alignment>\r\n  <UpSections xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <DownSections xmlns=\"http://www.railml.org/schemas/2013\" />\r\n</tTrainDetector>",
  "set <?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<tTrainDetector xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" id=\"430191ea-7707-4f5c-bc06-e006d801bf0c\" code=\"-/-\" name=\"Tp(-/-)\" Stage=\"\" pos=\"112.557379441986\" absPos=\"112.557379441986\" dir=\"both\" detectionObject=\"axle\" medium=\"magnetic\" posInTrack=\"rightRail\" directionDetection=\"false\" model=\"\" axleCounting=\"true\" ocpStationRef=\"\" controllerRef=\"\">\r\n  <Variant xmlns=\"http://www.railml.org/schemas/2013\">Tellepunkt</Variant>\r\n  <LuaExpressions xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <LuaExpression Name=\"code\" IsModelCheck=\"false\">\r\n      <Formula>NOBN_axleCounterCode()</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"name\" IsModelCheck=\"false\">\r\n      <Formula>\"Tp(\"..code..\")\"</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"IsInsideOcpArea\" IsModelCheck=\"true\">\r\n      <Formula>NOBN_isInsideOcpArea()</Formula>\r\n      <Symbol>_ok</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"ocpStationRef\" IsModelCheck=\"false\">\r\n      <Formula>NOBN_ocpStationRef()</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"Rotation3D.X\" IsModelCheck=\"false\">\r\n      <Formula>--SA_TEL@Rotation3d.X\n--Pitch (gradient)\ng = getAlignmentInfo().gradient\nif (NOBN_isNan(g)) then\n    return 0, _warning\nelse\n    -- Gradient is measured in meter elevation per thousand meters of horizontal displacement  \n    return math.atan(g/1000.0)*(180.0/math.pi)\nend</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"Rotation3D.Y\" IsModelCheck=\"false\">\r\n      <Formula>NOBN_objectRotation3DY()</Formula>\r\n      <Symbol>_warning</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"Offset3D.Z\" IsModelCheck=\"false\">\r\n      <Formula>NOBN_objectLiftWithCant()</Formula>\r\n      <Symbol>_warning</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"posInTrack\" IsModelCheck=\"false\">\r\n      <Formula>RightSided and \"leftRail\" or \"rightRail\"</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"DistanceToAlignment\" IsModelCheck=\"false\">\r\n      <Formula>RightSided and 0.75 or -0.75</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"RelativeElevation\" IsModelCheck=\"false\">\r\n      <Formula>0</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"AvstandTellepunkt\" IsModelCheck=\"true\">\r\n      <Formula>if (Alignment == null) then return \"Mangler spor\", _warning end\nclosestUp = getUpObject(\"SA-TEL Tellepunkt\")\nclosestDown = getDownObject(\"SA-TEL Tellepunkt\")\nobjectsToUpdate = {}\ndistUp = math.abs(distance(closestUp))\ndistDown = math.abs(distance(closestDown))\nclosest = nil\nif (NOBN_isNan(distUp)) then distUp = math.huge end\nif (NOBN_isNan(distDown)) then distDown = math.huge end\nif (distUp &gt; distDown) then \n\tclosest = closestDown\nelseif (distUp &lt; distDown) then\n\tclosest = closestUp\nelse\n\tif (distUp &lt; 22) then closest = closestUp end\nend\nif (closest == null) then return \"Ingen tellepunkt innenfor 22 meter\", _ok end\nclosestDist = math.abs(distance(closest))\nif(closestDist &gt; 22) then\n\treturn \"Ingen tellepunkt innenfor 22 meter\", _ok\nelse\n\tif (distUp &lt; 22) then  \n\t\ttable.insert(objectsToUpdate, closestUp)\n\tend\n\tif (distDown &lt; 22) then  \n\t\ttable.insert(objectsToUpdate, closestDown)\n\tend\n\t\n\tif (closestDist &lt; 21) then \n\t\treturn string.format(\"%.3f\", closestDist)..\": \"..closest.name, objectsToUpdate, _error\n\telseif (closestDist &lt; 22) then \n\t\treturn string.format(\"%.3f\", closestDist)..\": \"..closest.name, objectsToUpdate, _warning\n\telse\n\t\treturn \"Ingen tellepunkt innenfor 22 meter\", _ok\n\tend\nend</Formula>\r\n      <Symbol>_error</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"SymbolFrame\" IsModelCheck=\"false\">\r\n      <Formula>NOBN_setModelCheckFrame()</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n  </LuaExpressions>\r\n  <CurrentModelCheckObjectsToUpdate xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <string>26694f63-0478-4f06-bc2b-3ba9be32565f</string>\r\n  </CurrentModelCheckObjectsToUpdate>\r\n  <Seq xmlns=\"http://www.railml.org/schemas/2013\">0</Seq>\r\n  <Relations SourceSpace=\"tellepunkt\" xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <ObjectRelations />\r\n  </Relations>\r\n  <RcSection xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <SymbolOffsets xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <CustomAttributes xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <KeyValueString Key=\"Fag\" Value=\"Signal\" />\r\n    <KeyValueString Key=\"Tag\" Value=\"SA-TEL-nnnnnn\" />\r\n    <KeyValueString Key=\"ObjektInfo\" Value=\"\" />\r\n    <KeyValueString Key=\"MileageIncreasesTowardsLeft\" Value=\"False\" />\r\n    <KeyValueString Key=\"AvstandTellepunkt\" Value=\"15.648: Tp(-/-)\" />\r\n    <KeyValueString Key=\"IsInsideOcpArea\" Value=\"Objektet er ikke omsluttet av noen OCP områder\" />\r\n  </CustomAttributes>\r\n  <TimeStamp xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <Item>\r\n      <DateTime>2018-10-15T12:57:00.2893825+02:00</DateTime>\r\n      <User>bjslu</User>\r\n    </Item>\r\n    <Item>\r\n      <DateTime>2018-10-15T12:56:32.6662494+02:00</DateTime>\r\n      <User>bjslu</User>\r\n    </Item>\r\n  </TimeStamp>\r\n  <geoCoord coord=\"159.25367510939634 111.61649357235571 0\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <DrawTail xmlns=\"http://www.railml.org/schemas/2013\">false</DrawTail>\r\n  <Earthing xmlns=\"http://www.railml.org/schemas/2013\">Unknown</Earthing>\r\n  <CableMarkerColor xmlns=\"http://www.railml.org/schemas/2013\">Green</CableMarkerColor>\r\n  <Offset3D X=\"0\" Y=\"0\" Z=\"0\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <Rotation3D X=\"0\" Y=\"0\" Z=\"0\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <Annotations3D xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <AnnotationOffset X=\"0\" Y=\"0\" Z=\"0\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <AnnotationRotation xmlns=\"http://www.railml.org/schemas/2013\">0</AnnotationRotation>\r\n  <AlignmentRotation3D X=\"0\" Y=\"0\" Z=\"-1.4560275710337285\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <DirectionRotation3D X=\"0\" Y=\"0\" Z=\"1.5707963267948966\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <PoleRouting3D xmlns=\"http://www.railml.org/schemas/2013\">None</PoleRouting3D>\r\n  <Model3DName xmlns=\"http://www.railml.org/schemas/2013\">NO-BN-3D-SA-TEL-THALES-TELLEPUNKT-SK30K</Model3DName>\r\n  <AlignmentTangent xmlns=\"http://www.railml.org/schemas/2013\">0.1147687557611681</AlignmentTangent>\r\n  <SymbolFrame Name=\"Error\" CircleRadius=\"2\" HorizontalMargin=\"1\" VerticalMargin=\"1\" Color=\"Red\" LineType=\"RC-DASHED\" LineWidth=\"0.3\" Transparency=\"200\" Layer=\"RC_SYMBOLFRAMES_ERROR\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <Alignment xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <Id>d5570c64-d3ff-4e4b-bb6c-797bf94e697e</Id>\r\n  </Alignment>\r\n  <UpSections xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <DownSections xmlns=\"http://www.railml.org/schemas/2013\" />\r\n</tTrainDetector>",
  "set <?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<tTrainDetector xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" id=\"26694f63-0478-4f06-bc2b-3ba9be32565f\" code=\"-/-\" name=\"Tp(-/-)\" Stage=\"\" pos=\"96.9088809194518\" absPos=\"96.9088809194518\" dir=\"both\" detectionObject=\"axle\" medium=\"magnetic\" posInTrack=\"rightRail\" directionDetection=\"false\" model=\"\" axleCounting=\"true\" ocpStationRef=\"\" controllerRef=\"\">\r\n  <Variant xmlns=\"http://www.railml.org/schemas/2013\">Tellepunkt</Variant>\r\n  <LuaExpressions xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <LuaExpression Name=\"code\" IsModelCheck=\"false\">\r\n      <Formula>NOBN_axleCounterCode()</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"name\" IsModelCheck=\"false\">\r\n      <Formula>\"Tp(\"..code..\")\"</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"IsInsideOcpArea\" IsModelCheck=\"true\">\r\n      <Formula>NOBN_isInsideOcpArea()</Formula>\r\n      <Symbol>_ok</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"ocpStationRef\" IsModelCheck=\"false\">\r\n      <Formula>NOBN_ocpStationRef()</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"Rotation3D.X\" IsModelCheck=\"false\">\r\n      <Formula>--SA_TEL@Rotation3d.X\n--Pitch (gradient)\ng = getAlignmentInfo().gradient\nif (NOBN_isNan(g)) then\n    return 0, _warning\nelse\n    -- Gradient is measured in meter elevation per thousand meters of horizontal displacement  \n    return math.atan(g/1000.0)*(180.0/math.pi)\nend</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"Rotation3D.Y\" IsModelCheck=\"false\">\r\n      <Formula>NOBN_objectRotation3DY()</Formula>\r\n      <Symbol>_warning</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"Offset3D.Z\" IsModelCheck=\"false\">\r\n      <Formula>NOBN_objectLiftWithCant()</Formula>\r\n      <Symbol>_warning</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"posInTrack\" IsModelCheck=\"false\">\r\n      <Formula>RightSided and \"leftRail\" or \"rightRail\"</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"DistanceToAlignment\" IsModelCheck=\"false\">\r\n      <Formula>RightSided and 0.75 or -0.75</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"RelativeElevation\" IsModelCheck=\"false\">\r\n      <Formula>0</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"AvstandTellepunkt\" IsModelCheck=\"true\">\r\n      <Formula>if (Alignment == null) then return \"Mangler spor\", _warning end\nclosestUp = getUpObject(\"SA-TEL Tellepunkt\")\nclosestDown = getDownObject(\"SA-TEL Tellepunkt\")\nobjectsToUpdate = {}\ndistUp = math.abs(distance(closestUp))\ndistDown = math.abs(distance(closestDown))\nclosest = nil\nif (NOBN_isNan(distUp)) then distUp = math.huge end\nif (NOBN_isNan(distDown)) then distDown = math.huge end\nif (distUp &gt; distDown) then \n\tclosest = closestDown\nelseif (distUp &lt; distDown) then\n\tclosest = closestUp\nelse\n\tif (distUp &lt; 22) then closest = closestUp end\nend\nif (closest == null) then return \"Ingen tellepunkt innenfor 22 meter\", _ok end\nclosestDist = math.abs(distance(closest))\nif(closestDist &gt; 22) then\n\treturn \"Ingen tellepunkt innenfor 22 meter\", _ok\nelse\n\tif (distUp &lt; 22) then  \n\t\ttable.insert(objectsToUpdate, closestUp)\n\tend\n\tif (distDown &lt; 22) then  \n\t\ttable.insert(objectsToUpdate, closestDown)\n\tend\n\t\n\tif (closestDist &lt; 21) then \n\t\treturn string.format(\"%.3f\", closestDist)..\": \"..closest.name, objectsToUpdate, _error\n\telseif (closestDist &lt; 22) then \n\t\treturn string.format(\"%.3f\", closestDist)..\": \"..closest.name, objectsToUpdate, _warning\n\telse\n\t\treturn \"Ingen tellepunkt innenfor 22 meter\", _ok\n\tend\nend</Formula>\r\n      <Symbol>_error</Symbol>\r\n    </LuaExpression>\r\n    <LuaExpression Name=\"SymbolFrame\" IsModelCheck=\"false\">\r\n      <Formula>NOBN_setModelCheckFrame()</Formula>\r\n      <Symbol>_noSymbol</Symbol>\r\n    </LuaExpression>\r\n  </LuaExpressions>\r\n  <CurrentModelCheckObjectsToUpdate xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <string>430191ea-7707-4f5c-bc06-e006d801bf0c</string>\r\n  </CurrentModelCheckObjectsToUpdate>\r\n  <Seq xmlns=\"http://www.railml.org/schemas/2013\">0</Seq>\r\n  <Relations SourceSpace=\"tellepunkt\" xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <ObjectRelations />\r\n  </Relations>\r\n  <RcSection xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <SymbolOffsets xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <CustomAttributes xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <KeyValueString Key=\"Fag\" Value=\"Signal\" />\r\n    <KeyValueString Key=\"Tag\" Value=\"SA-TEL-nnnnnn\" />\r\n    <KeyValueString Key=\"ObjektInfo\" Value=\"\" />\r\n    <KeyValueString Key=\"MileageIncreasesTowardsLeft\" Value=\"False\" />\r\n    <KeyValueString Key=\"AvstandTellepunkt\" Value=\"15.648: Tp(-/-)\" />\r\n    <KeyValueString Key=\"IsInsideOcpArea\" Value=\"Objektet er ikke omsluttet av noen OCP områder\" />\r\n  </CustomAttributes>\r\n  <TimeStamp xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <Item>\r\n      <DateTime>2018-10-15T12:57:00.3354332+02:00</DateTime>\r\n      <User>bjslu</User>\r\n    </Item>\r\n    <Item>\r\n      <DateTime>2018-10-15T12:56:31.1212248+02:00</DateTime>\r\n      <User>bjslu</User>\r\n    </Item>\r\n  </TimeStamp>\r\n  <geoCoord coord=\"143.7081234851448 109.82447495986914 0\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <DrawTail xmlns=\"http://www.railml.org/schemas/2013\">false</DrawTail>\r\n  <Earthing xmlns=\"http://www.railml.org/schemas/2013\">Unknown</Earthing>\r\n  <CableMarkerColor xmlns=\"http://www.railml.org/schemas/2013\">Green</CableMarkerColor>\r\n  <Offset3D X=\"0\" Y=\"0\" Z=\"0\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <Rotation3D X=\"0\" Y=\"0\" Z=\"0\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <Annotations3D xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <AnnotationOffset X=\"0\" Y=\"0\" Z=\"0\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <AnnotationRotation xmlns=\"http://www.railml.org/schemas/2013\">0</AnnotationRotation>\r\n  <AlignmentRotation3D X=\"0\" Y=\"0\" Z=\"-1.4560275710337285\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <DirectionRotation3D X=\"0\" Y=\"0\" Z=\"1.5707963267948966\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <PoleRouting3D xmlns=\"http://www.railml.org/schemas/2013\">None</PoleRouting3D>\r\n  <Model3DName xmlns=\"http://www.railml.org/schemas/2013\">NO-BN-3D-SA-TEL-THALES-TELLEPUNKT-SK30K</Model3DName>\r\n  <AlignmentTangent xmlns=\"http://www.railml.org/schemas/2013\">0.1147687557611681</AlignmentTangent>\r\n  <SymbolFrame Name=\"Error\" CircleRadius=\"2\" HorizontalMargin=\"1\" VerticalMargin=\"1\" Color=\"Red\" LineType=\"RC-DASHED\" LineWidth=\"0.3\" Transparency=\"200\" Layer=\"RC_SYMBOLFRAMES_ERROR\" xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <Alignment xmlns=\"http://www.railml.org/schemas/2013\">\r\n    <Id>d5570c64-d3ff-4e4b-bb6c-797bf94e697e</Id>\r\n  </Alignment>\r\n  <UpSections xmlns=\"http://www.railml.org/schemas/2013\" />\r\n  <DownSections xmlns=\"http://www.railml.org/schemas/2013\" />\r\n</tTrainDetector>"
]